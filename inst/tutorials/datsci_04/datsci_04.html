<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Rafael Irizarry &amp; Fatih Uenal" />


<meta name="progressive" content="false" />
<meta name="allow-skip" content="false" />

<title>datsci_04: Inference and Modeling</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->


<link rel="stylesheet" href="css/datsci_style.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<html lang="en">
<div id="section-datsci_04-inference-and-modeling" class="section level1">
<h1>datsci_04: Inference and Modeling</h1>
<div id="section-introduction-and-welcome" class="section level2">
<h2>Introduction and Welcome!</h2>
<div class="infobox">
<p><strong>Usage:</strong> This tutorial accompanies <a href="https://rafalab.github.io/dsbook/">Introduction to Data Science</a> by <a href="http://rafalab.github.io/pages/about.html">Prof Rafael Irizarry</a>. It contains material from the textbook which is offered under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>.</p>
</div>
<div id="section-welcome-to-data-science-inference-and-modeling" class="section level3">
<h3>Welcome to <em>Data Science: Inference and Modeling</em>!</h3>
<p>We’re excited to have you join us in this course, which is designed to teach you inference and modeling, two of the most widely used statistical tools in data analysis.</p>
</div>
<div id="section-course-overview" class="section level3">
<h3>Course Overview</h3>
<p>This is the fourth in a series of courses in the Introduction to Data Science program. The courses in the program are designed to prepare you to do data analysis in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, from simple computations to machine learning. The courses are designed to be taken in order. A prerequisite for this course is courses 1 and 2 of the series or equivalent knowledge of basic <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> coding and data visualization. We recommend that you complete the first three courses in the series (<em>Data Science: <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> Basics</em> (datsci_01), <em>Data Science: Visualization</em> (datsci_02), and <em>Data Science: Probability</em> (datsci_03)) before taking this course.</p>
<p>The textbook for the Data Science course series is <a href="https://rafalab.github.io/dsbook/">freely available online</a>. This course corresponds to the Probability section of textbook, starting here.</p>
<p>This course assumes you are comfortable with basic math, algebra, and logical operations. We have partnered with DataCamp for some assignments in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> that allow you to program directly in a browser-based interface. You will further have access to additional exercises to be completed on your local installation of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>.</p>
<p>For in-class students enrolled in my University course, we partnered with DataCamp for some assignments in R that allow you to program directly in a browser-based interface. There are also some assignments that require a local installation of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>. If you are not in-class, you will need to obtain a subscription to DataCamp.</p>
<p>Using a combination of a guided introduction through short video lectures and more independent in-depth exploration, you will get to practice your new <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> skills on real-life applications.</p>
<p>Statistical inference and modeling are indispensable for analyzing data affected by chance, and thus essential for data scientists. In this course, you will learn these key concepts through a motivating case study on election forecasting.</p>
<p>This course will show you how inference and modeling can be applied to develop the statistical approaches that make polls an effective tool and we’ll show you how to do this using R. You will learn concepts necessary to define estimates and margins of errors and learn how you can use these to make predictions relatively well and also provide an estimate of the precision of your forecast.</p>
<p>Once you learn this you will be able to understand two concepts that are ubiquitous in data science: confidence intervals and p-values.</p>
<p>Finally, to understand statements about the probability of a candidate winning, you will learn about Bayesian modeling. At the end of the course, we will put it all together to recreate a simplified version of an election forecast model and apply it to the 2016 US presidential election.</p>
<p>This course builds upon probability theory, covered in the previous course in this series (<em>datsci_03</em>).</p>
<p>The class notes for this course series can be found in Professor Irizarry’s <a href="https://rafalab.github.io/dsbook/">freely available Introduction to Data Science book</a>. The textbook is also freely available in PDF format on <a href="https://leanpub.com/datasciencebook">Leanpub</a>.</p>
<p>This course corresponds to the textbook chapters <a href="https://rafalab.github.io/dsbook/inference.html">Statistical Inference</a> and <a href="https://rafalab.github.io/dsbook/models.html">Statistical Models</a>.</p>
</div>
<div id="section-in-this-course-you-will-learn" class="section level3">
<h3>In this course, you will learn:</h3>
<ul>
<li>The concepts necessary to define estimates and margins of errors of populations, parameters, estimates, and standard errors in order to make predictions about data</li>
<li>How to use models to aggregate data from different sources</li>
<li>The very basics of Bayesian statistics and predictive modeling</li>
</ul>
</div>
<div id="section-course-overview-1" class="section level3">
<h3>Course overview</h3>
<p><strong>Section 1:</strong> Parameters and Estimates</p>
<ul>
<li>You will learn how to estimate population parameters.</li>
</ul>
<p><strong>Section 2:</strong> The Central Limit Theorem in Practice</p>
<ul>
<li>You will apply the central limit theorem to assess how close a sample estimate is to the population parameter of interest.</li>
</ul>
<p><strong>Section 3:</strong> Confidence Intervals and p-Values</p>
<ul>
<li>You will learn how to calculate confidence intervals and learn about the relationship between confidence intervals and p-values.</li>
</ul>
<p><strong>Section 4:</strong> Statistical Models</p>
<ul>
<li>You will learn about statistical models in the context of election forecasting.</li>
</ul>
<p><strong>Section 5:</strong> Bayesian Statistics</p>
<ul>
<li>You will learn about Bayesian statistics through looking at examples from rare disease diagnosis and baseball.</li>
</ul>
<p><strong>Section 6:</strong> Election Forecasting</p>
<ul>
<li>You will learn about election forecasting, building on what you’ve learned in the previous sections about statistical modeling and Bayesian statistics.</li>
</ul>
<p><strong>Section 7:</strong> Association Tests</p>
<ul>
<li>You will learn how to use association and chi-squared tests to perform inference for binary, categorical, and ordinal data through an example looking at research funding rates.</li>
</ul>
</div>
</div>
<div id="section-introduction-to-inference" class="section level2">
<h2>Introduction to Inference</h2>
<p><img src="https://youtu.be/6_tJymidlH0" /></p>
<div id="section-textbook-link" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#polls">textbook section - 15.1 Polls</a>.</p>
</div>
<div id="section-course-overview-2" class="section level3">
<h3>Course overview</h3>
<p>In this course, we will learn:</p>
<ul>
<li><p><em>statistical inference</em>, the process of deducing characteristics of a population using data from a random sample</p></li>
<li><p>the statistical concepts necessary to define <em>estimates</em> and <em>margins of errors</em></p></li>
<li><p>how to <em>forecast future results</em> and estimate the precision of our forecast</p></li>
<li><p>how to calculate and interpret <em>confidence intervals</em> and <em>p-values</em></p></li>
</ul>
</div>
<div id="section-key-points" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Information gathered from a small random sample can be used to infer characteristics of the entire population.</p></li>
<li><p>Opinion polls are useful when asking everyone in the population is impossible.</p></li>
<li><p>A common use for opinion polls is determining voter preferences in political elections for the purposes of forecasting election results.</p></li>
<li><p>The spread of a poll is the estimated difference between support two candidates or options.</p></li>
</ul>
</div>
</div>
<div id="section-meet-the-course-instructor" class="section level2">
<h2>Meet the Course Instructor</h2>
<div class="infobox">
<p><img src="images/photo2015.jpg" alt="Prof Rafael Irizarry." style="width:200px;height:200px;" class = "img_right"></p>
<p><strong>Rafael Irizarry</strong> is a Professor of Biostatistics and Computational Biology at the Dana-Farber Cancer Institute and a Professor of Biostatistics at Harvard Chan School of Public Health. He has been analyzing data, from sound signals to genomic measurements, for over 20 years.</p>
<p>Professor Irizarry teaches a popular Data Science course at Harvard and has developed several online courses on data analysis that are offered by HarvardX. These online courses, divided into the Data Analysis for the Life Sciences series and Genomics Data Analysis series, have been completed by thousands of students and much of the material is included in a book with a <a href="https://leanpub.com/dataanalysisforthelifesciences">freely available online version</a>.</p>
<p>Webpage: <a href="http://rafalab.github.io" class="uri">http://rafalab.github.io</a></p>
</div>
</div>
<div id="section-essential-course-information" class="section level2">
<h2>Essential Course Information</h2>
<div id="section-course-syllabus" class="section level3">
<h3>Course Syllabus</h3>
<p>The course syllabus contains a more comprehensive version of the information below - but if you don’t read the syllabus, please read this!</p>
</div>
<div id="section-course-structure" class="section level3">
<h3>Course Structure</h3>
<p>This is a self-paced course. You can work on it with your own timeline in mind. However, we suggest that you work on a section per week, and it will take you 2 - 4 hours per week.</p>
<p>Check the course home page for important dates. If you are interested in pursuing a Verified Certificate, you will need to upgrade before the date listed on the home page and finish all assignments before course close.</p>
</div>
<div id="section-grading" class="section level3">
<h3>Grading</h3>
<p>Assignments in the course allow you to practice your coding skills using the DataCamp platform. R is a flexible programming language designed partly for readability and ease of programming.</p>
<p>HarvardX has partnered with a platform called DataCamp to create programming assignments that you can do online. There is no need to install anything on your computer. You will be given a set of code to modify and run in your browser. You can take as many attempts as you need. When your code works correctly, you will be awarded points. You can also request hints, which will help you out, but hints decrease your point total. Remember that you can always go to the Discussion Board for help that doesn’t cost points.</p>
</div>
<div id="section-passing-rate" class="section level3">
<h3>Passing Rate</h3>
<p>The passing rate is 70%. You must sign up for a Verified Certificate and earn a grade of 70% of higher in order to obtain a certificate for this course.</p>
</div>
</div>
<div id="section-installing-and-r-studio" class="section level2">
<h2>Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> and R Studio</h2>
<p>Installing R</p>
<p>If you want to install <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to work on your own computer, you can download it freely from the <a href="https://cran.r-project.org/">Comprehensive R Archive Network (CRAN)</a>. Note that CRAN makes several versions of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> available: versions for multiple operating systems and releases older than the current one. You want to read the CRAN instructions to assure you download the correct version. If you need further help, you can try the following resources:</p>
<ul>
<li><a href="https://github.com/genomicsclass/windows#installing-r">Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on Windows</a></li>
<li><a href="http://youtu.be/Icawuhf0Yqo">Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on Mac</a></li>
<li><a href="https://cran.r-project.org/bin/linux/ubuntu/README">Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on Ubuntu</a></li>
</ul>
<p>Installing RStudio</p>
<p>RStudio is an integrated development environment (IDE). We highly recommend installing and using RStudio to edit and test your code. You can install RStudio through the <a href="https://www.rstudio.com/products/rstudio/download/">RStudio website</a>. Their <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">cheatsheet</a> is a great resource. You need to install <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> first.</p>
</div>
<div id="section-pre-course-survey" class="section level2">
<h2>Pre-Course Survey</h2>
<p>Insert Survey Link here</p>
<p><em>If you cannot see the survey above, click this link to access it in a new window.</em></p>
</div>
<div id="section-section-1-overview" class="section level2">
<h2>Section 1 Overview</h2>
<p>Section 1 introduces you to parameters and estimates.</p>
<p>After completing Section 1, you will be able to:</p>
<ul>
<li><p>Understand how to use a sampling model to perform a poll.</p></li>
<li><p>Explain the terms <strong>population, parameter</strong>, and <strong>sample</strong> as they relate to statistical inference.</p></li>
<li><p>Use a sample to estimate the population proportion from the sample average.</p></li>
<li><p>Calculate the expected value and standard error of the sample average.</p></li>
</ul>
<p>There is 1 assignments that use the DataCamp platform for you to practice your coding skills.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-sampling-model-parameters-and-estimates" class="section level2">
<h2>1 Sampling Model Parameters and Estimates</h2>
<p><img src="https://youtu.be/71ZqZy-7CFA" /></p>
<div id="section-textbook-link-1" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#the-sampling-model-for-polls">textbook section - 15.1.1 The sampling model for polls</a> and the first part of the <a href="https://rafalab.github.io/dsbook/inference.html#populations-samples-parameters-and-estimates">textbook section - 15.2 Populations, samples, parameters, and estimates</a>.</p>
</div>
<div id="section-key-points-1" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The task of statistical inference is to estimate an unknown population parameter using observed data from a sample.</p></li>
<li><p>In a sampling model, the collection of elements in the urn is called the <em>population.</em></p></li>
<li><p>A <em>parameter</em> is a number that summarizes data for an entire population.</p></li>
<li><p>A <em>sample</em> is observed data from a subset of the population.</p></li>
<li><p>An <em>estimate</em> is a summary of the observed data about a parameter that we believe is informative. It is a data-driven guess of the population parameter.</p></li>
<li><p>We want to predict the proportion of the blue beads in the urn, the parameter 𝑝. The proportion of red beads in the urn is 1 − 𝑝 and the spread is 2𝑝 − 1.</p></li>
<li><p>The sample proportion is a random variable. Sampling gives random results drawn from the population distribution.</p></li>
</ul>
</div>
<div id="section-code-function-for-taking-a-random-draw-from-a-specific-urn" class="section level3">
<h3>Code: Function for taking a random draw from a specific urn</h3>
<p>The <strong>dslabs</strong> package includes a function for taking a random draw of size 𝑛 from the urn described in the video:</p>
<pre class="r"><code>library(tidyverse)
library(dslabs)
take_poll(25)    # draw 25 beads</code></pre>
</div>
</div>
<div id="section-the-sample-average" class="section level2">
<h2>The Sample Average</h2>
<p><img src="https://youtu.be/SUZdUqOlUe0" /></p>
<div id="section-textbook-link-2" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#the-sample-average">textbook section - 15.2.1 The sample average</a> and the first part of the <a href="https://rafalab.github.io/dsbook/inference.html#parameters">textbook section - 15.2.2 Parameters</a>.</p>
</div>
<div id="section-key-points-2" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Many common data science tasks can be framed as estimating a parameter from a sample.</p></li>
<li><p>We illustrate statistical inference by walking through the process to estimate 𝑝. From the estimate of 𝑝, we can easily calculate an estimate of the spread, 2𝑝−1.</p></li>
<li><p>Consider the random variable 𝑋 that is 1 if a blue bead is chosen and 0 if a red bead is chosen. The proportion of blue beads in 𝑁 draws is the average of the draws 𝑋1,…,𝑋𝑁.</p></li>
</ul>
<figure>
<img src="images/pic1.png" alt="R Studio" style="width:750px">
</figure>
</div>
</div>
<div id="section-polling-versus-forecasting" class="section level2">
<h2>Polling versus Forecasting</h2>
<p><img src="https://youtu.be/JFDiiunqglk" /></p>
<div id="section-textbook-link-3" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#polling-versus-forecasting">textbook section - 15.2.3 Polling versus forecasting</a>.</p>
</div>
<div id="section-key-points-3" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>A poll taken in advance of an election estimates 𝑝 for that moment, not for election day.</p></li>
<li><p>In order to predict election results, forecasters try to use early estimates of 𝑝 to predict 𝑝 on election day. We discuss some approaches in later sections.</p></li>
</ul>
</div>
</div>
<div id="section-properties-of-our-estimate" class="section level2">
<h2>Properties of Our Estimate</h2>
<p><img src="https://youtu.be/Xhzw1k5r6XU" /></p>
<div id="section-clarification" class="section level3">
<h3>Clarification</h3>
<p>At 2:47, the audio states that the SE is “0.15, or 1.5 percentage points”. The audio should state that the SE is 0.015. The percentage shown on the slide is correct, and the transcript has been corrected.</p>
</div>
<div id="section-textbook-link-4" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#properties-of-our-estimate-expected-value-and-standard-error">textbook section - 15.2.4 Properties of our estimate: expected value and standard error</a>.</p>
</div>
<div id="section-key-points-4" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic2.png" alt="R Studio" style="width:750px">
</figure>
</div>
</div>
<div id="section-assessment-parameters-and-estimates" class="section level2">
<h2>1.1 Assessment: Parameters and Estimates</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-2-overview" class="section level2">
<h2>Section 2 Overview</h2>
<p>In Section 2, you will look at the Central Limit Theorem in practice.</p>
<p>After completing Section 2, you will be able to:</p>
<figure>
<img src="images/pic3.png" alt="R Studio" style="width:750px">
</figure>
<p>There is 1 assignment that uses the DataCamp platform for you to practice your coding skills.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-the-central-limit-theorem-in-practice" class="section level2">
<h2>2. The Central Limit Theorem in Practice</h2>
<p><img src="https://youtu.be/Xhzw1k5r6XU" /></p>
<div id="section-textbook-link-5" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#clt">textbook section - 15.4 Central Limit Theorem in practice</a>.</p>
</div>
<div id="section-key-points-5" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic4.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-computing-the-probability-of-𝑋-being-within-.01-of-𝑝" class="section level3">
<h3>Code: Computing the probability of 𝑋¯ being within .01 of 𝑝</h3>
<pre class="r"><code>X_hat &lt;- 0.48
se &lt;- sqrt(X_hat*(1-X_hat)/25)
pnorm(0.01/se) - pnorm(-0.01/se)</code></pre>
</div>
</div>
<div id="section-margin-of-error" class="section level2">
<h2>2. Margin of Error</h2>
<p><img src="https://youtu.be/Fv-IQdG8mas" /></p>
<div id="section-textbook-link-6" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#clt">textbook section - 15.4 Central Limit Theorem in practice</a>.</p>
</div>
<div id="section-key-points-6" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic5.png" alt="R Studio" style="width:750px">
</figure>
</div>
</div>
<div id="section-a-monte-carlo-simulation-for-the-clt" class="section level2">
<h2>2. A Monte Carlo Simulation for the CLT</h2>
<p><img src="https://youtu.be/hHDFRZdbJQI" /></p>
<div id="section-textbook-link-7" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#a-monte-carlo-simulation">textbook section - 15.4.1 A Monte Carlo simulation</a>.</p>
</div>
<div id="section-key-points-7" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic6.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-monte-carlo-simulation-using-a-set-value-of-p" class="section level3">
<h3>Code: Monte Carlo simulation using a set value of p</h3>
<pre class="r"><code>p &lt;- 0.45    # unknown p to estimate
N &lt;- 1000

# simulate one poll of size N and determine x_hat
x &lt;- sample(c(0,1), size = N, replace = TRUE, prob = c(1-p, p))
x_hat &lt;- mean(x)

# simulate B polls of size N and determine average x_hat
B &lt;- 10000    # number of replicates
N &lt;- 1000    # sample size per replicate
x_hat &lt;- replicate(B, {
    x &lt;- sample(c(0,1), size = N, replace = TRUE, prob = c(1-p, p))
    mean(x)
})</code></pre>
</div>
<div id="section-code-histogram-and-qq-plot-of-monte-carlo-results" class="section level3">
<h3>Code: Histogram and QQ-plot of Monte Carlo results</h3>
<pre class="r"><code>library(tidyverse)
library(gridExtra)
p1 &lt;- data.frame(x_hat = x_hat) %&gt;%
    ggplot(aes(x_hat)) +
    geom_histogram(binwidth = 0.005, color = &quot;black&quot;)
p2 &lt;- data.frame(x_hat = x_hat) %&gt;%
    ggplot(aes(sample = x_hat)) +
    stat_qq(dparams = list(mean = mean(x_hat), sd = sd(x_hat))) +
    geom_abline() +
    ylab(&quot;X_hat&quot;) +
    xlab(&quot;Theoretical normal&quot;)
grid.arrange(p1, p2, nrow=1)</code></pre>
</div>
</div>
<div id="section-the-spread" class="section level2">
<h2>2. The Spread</h2>
<p><img src="https://youtu.be/hRFmQmj5_PU" /></p>
<div id="section-textbook-link-8" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#the-spread">textbook section - 15.4.2 The spread</a>.</p>
</div>
<div id="section-key-points-8" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic7.png" alt="R Studio" style="width:650px">
</figure>
</div>
</div>
<div id="section-bias-why-not-run-a-very-large-poll" class="section level2">
<h2>2. Bias: Why Not Run a Very Large Poll?</h2>
<p><img src="https://youtu.be/_jBP8Dmz8iw" /></p>
<div id="section-textbook-link-9" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#bias-why-not-run-a-very-large-poll">textbook section - 15.4.3 Bias: why not run a very large poll?</a>.</p>
</div>
<div id="section-key-points-9" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>An extremely large poll would theoretically be able to predict election results almost perfectly.</p></li>
<li><p>These sample sizes are not practical. In addition to cost concerns, polling doesn’t reach everyone in the population (eventual voters) with equal probability, and it also may include data from outside our population (people who will not end up voting).</p></li>
<li><p>These systematic errors in polling are called bias. We will learn more about bias in the future.</p></li>
</ul>
</div>
<div id="section-code-plotting-margin-of-error-in-an-extremely-large-poll-over-a-range-of-values-of-p" class="section level3">
<h3>Code: Plotting margin of error in an extremely large poll over a range of values of p</h3>
<pre class="r"><code>library(tidyverse)
N &lt;- 100000
p &lt;- seq(0.35, 0.65, length = 100)
SE &lt;- sapply(p, function(x) 2*sqrt(x*(1-x)/N))
data.frame(p = p, SE = SE) %&gt;%
    ggplot(aes(p, SE)) +
    geom_line()</code></pre>
</div>
</div>
<div id="section-assessment-introduction-to-inference" class="section level2">
<h2>2.1 Assessment: Introduction to Inference</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-3-overview" class="section level2">
<h2>Section 3 Overview</h2>
<p>In Section 3, you will look at confidence intervals and p-values.</p>
<p>After completing Section 3, you will be able to:</p>
<ul>
<li><p>Calculate confidence intervals of difference sizes around an estimate.</p></li>
<li><p>Understand that a confidence interval is a random interval with the given probability of falling on top of the parameter.</p></li>
<li><p>Explain the concept of “power” as it relates to inference.</p></li>
<li><p>Understand the relationship between p-values and confidence intervals and explain why reporting confidence intervals is often preferable.</p></li>
</ul>
<p>There is 1 assignment that uses the DataCamp platform for you to practice your coding skills.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-confidence-intervals" class="section level2">
<h2>3. Confidence Intervals</h2>
<p><img src="https://youtu.be/UqM8Ix6yCpk" /></p>
<div id="section-corrections" class="section level3">
<h3>Corrections</h3>
<figure>
<img src="images/pic8.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-textbook-link-10" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#confidence-intervals">textbook section - 15.6 Confidence intervals</a>.</p>
</div>
<div id="section-key-points-10" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic9.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-geom_smooth-confidence-interval-example" class="section level3">
<h3>Code: geom_smooth confidence interval example</h3>
<p>The shaded area around the curve is related to the concept of confidence intervals.</p>
<pre class="r"><code>data(&quot;nhtemp&quot;)
data.frame(year = as.numeric(time(nhtemp)), temperature = as.numeric(nhtemp)) %&gt;%
    ggplot(aes(year, temperature)) +
    geom_point() +
    geom_smooth() +
    ggtitle(&quot;Average Yearly Temperatures in New Haven&quot;)</code></pre>
<p><img src="datsci_04_files/figure-html/unnamed-chunk-6-1.png" width="624" /></p>
</div>
<div id="section-code-monte-carlo-simulation-of-confidence-intervals" class="section level3">
<h3>Code: Monte Carlo simulation of confidence intervals</h3>
<p>Note that to compute the exact 95% confidence interval, we would use qnorm(.975) * SE_hat instead of 2 * SE_hat.</p>
<pre class="r"><code>p &lt;- 0.45
N &lt;- 1000
X &lt;- sample(c(0,1), size = N, replace = TRUE, prob = c(1-p, p))    # generate N observations
X_hat &lt;- mean(X)    # calculate X_hat
SE_hat &lt;- sqrt(X_hat*(1-X_hat)/N)    # calculate SE_hat, SE of the mean of N observations
c(X_hat - 2*SE_hat, X_hat + 2*SE_hat)    # build interval of 2*SE above and below mean</code></pre>
</div>
<div id="section-code-solving-for-𝑧-with-qnorm" class="section level3">
<h3>Code: Solving for 𝑧 with <code>qnorm</code></h3>
<pre class="r"><code>z &lt;- qnorm(0.995)    # calculate z to solve for 99% confidence interval
pnorm(qnorm(0.995))    # demonstrating that qnorm gives the z value for a given probability
pnorm(qnorm(1-0.995))    # demonstrating symmetry of 1-qnorm
pnorm(z) - pnorm(-z)    # demonstrating that this z value gives correct probability for interval</code></pre>
</div>
</div>
<div id="section-a-monte-carlo-simulation-for-confidence-intervals" class="section level2">
<h2>3. A Monte Carlo Simulation for Confidence Intervals</h2>
<p><img src="https://youtu.be/4rahvsBhhhQ" /></p>
<div id="section-textbook-link-11" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#a-monte-carlo-simulation-1">textbook section - 15.6.1 A Monte Carlo simulation</a>.</p>
</div>
<div id="section-key-points-11" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>We can run a Monte Carlo simulation to confirm that a 95% confidence interval contains the true value of 𝑝 95% of the time.</p></li>
<li><p>A plot of confidence intervals from this simulation demonstrates that most intervals include 𝑝, but roughly 5% of intervals miss the true value of 𝑝.</p></li>
</ul>
</div>
<div id="section-code-monte-carlo-simulation" class="section level3">
<h3>Code: Monte Carlo simulation</h3>
<p>Note that to compute the exact 95% confidence interval, we would use qnorm(.975) * SE_hat instead of 2 * SE_hat.</p>
<pre class="r"><code>B &lt;- 10000
inside &lt;- replicate(B, {
    X &lt;- sample(c(0,1), size = N, replace = TRUE, prob = c(1-p, p))
    X_hat &lt;- mean(X)
    SE_hat &lt;- sqrt(X_hat*(1-X_hat)/N)
    between(p, X_hat - 2*SE_hat, X_hat + 2*SE_hat)    # TRUE if p in confidence interval
})
mean(inside)</code></pre>
</div>
</div>
<div id="section-the-correct-language" class="section level2">
<h2>3. The Correct Language</h2>
<p><img src="https://youtu.be/DNKGd6m7Nv0" /></p>
<div id="section-textbook-link-12" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#the-correct-language">textbook section - 15.6.2 The correct language</a>.</p>
</div>
<div id="section-key-points-12" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The 95% confidence intervals are random, but 𝑝 is not random.</p></li>
<li><p>95% refers to the probability that the random interval falls on top of 𝑝.</p></li>
<li><p>It is technically incorrect to state that 𝑝 has a 95% chance of being in between two values because that implies 𝑝 is random.</p></li>
</ul>
</div>
</div>
<div id="section-power" class="section level2">
<h2>3. Power</h2>
<p>Note: There is an error in the code in the video at 0:10. Use the code below the video instead.</p>
<p><img src="https://youtu.be/cRiotyFFTjE" /></p>
<div id="section-textbook-link-13" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#power">textbook section - 15.8 Power</a>.</p>
</div>
<div id="section-key-points-13" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>If we are trying to predict the result of an election, then a confidence interval that includes a spread of 0 (a tie) is not helpful.</p></li>
<li><p>A confidence interval that includes a spread of 0 does not imply a close election, it means the sample size is too small.</p></li>
<li><p>Power is the probability of detecting an effect when there is a true effect to find. Power increases as sample size increases, because larger sample size means smaller standard error.</p></li>
</ul>
</div>
<div id="section-code-confidence-interval-for-the-spread-with-sample-size-of-25" class="section level3">
<h3>Code: Confidence interval for the spread with sample size of 25</h3>
<p>Note that to compute the exact 95% confidence interval, we would use c(-qnorm(.975), qnorm(.975)) instead of 1.96.</p>
<pre class="r"><code>N &lt;- 25
X_hat &lt;- 0.48
(2*X_hat - 1) + c(-2, 2)*2*sqrt(X_hat*(1-X_hat)/N)</code></pre>
</div>
</div>
<div id="section-p-values" class="section level2">
<h2>p-Values</h2>
<p><img src="https://youtu.be/nYW8ET-aiRQ" /></p>
<div id="section-textbook-link-14" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#p-values">textbook section - 15.9 p-values</a>.</p>
</div>
<div id="section-key-points-14" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The null hypothesis is the hypothesis that there is no effect. In this case, the null hypothesis is that the spread is 0, or 𝑝 = 0.5.</p></li>
<li><p>The p-value is the probability of detecting an effect of a certain size or larger when the null hypothesis is true.</p></li>
<li><p>We can convert the probability of seeing an observed value under the null hypothesis into a standard normal random variable. We compute the value of 𝑧 that corresponds to the observed result, and then use that 𝑧 to compute the p-value.</p></li>
<li><p>If a 95% confidence interval does not include our observed value, then the p-value must be smaller than 0.05.</p></li>
<li><p>It is preferable to report confidence intervals instead of p-values, as confidence intervals give information about the size of the estimate and p-values do not.</p></li>
</ul>
</div>
<div id="section-code-computing-a-p-value-for-observed-spread-of-0.02" class="section level3">
<h3>Code: Computing a p-value for observed spread of 0.02</h3>
<pre class="r"><code>N &lt;- 100    # sample size
z &lt;- sqrt(N) * 0.02/0.5    # spread of 0.02
1 - (pnorm(z) - pnorm(-z))</code></pre>
</div>
</div>
<div id="section-another-explanation-of-p-values" class="section level2">
<h2>Another Explanation of p-Values</h2>
<p>The p-value is the probability of observing a value as extreme or more extreme than the result given that the null hypothesis is true.</p>
<p>In the context of the normal distribution, this refers to the probability of observing a Z-score whose absolute value is as high or higher than the Z-score of interest.</p>
<p>Suppose we want to find the p-value of an observation 2 standard deviations larger than the mean. This means we are looking for anything with ∣𝑧∣ ≥ 2. ∣z∣ ≥ 2</p>
<p>Graphically, the p-value gives the probability of an observation that’s at least as far away from the mean or further. This plot shows a standard normal distribution (centered at z = 0 with a standard deviation of 1). The shaded tails are the region of the graph that are 2 standard deviations or more away from the mean.</p>
<center>
<figure>
<img src="images/pic10.png" alt="R Studio" style="width:700px">
</figure>
</center>
<p>The right tail can be found with 1-pnorm(2). We want to have both tails, though, because we want to find the probability of any observation as far away from the mean or farther, in either direction. (This is what’s meant by a two-tailed p-value.) Because the distribution is symmetrical, the right and left tails are the same size and we know that our desired value is just 2*(1-pnorm(2)).</p>
<p>Recall that, by default, pnorm() gives the CDF for a normal distribution with a mean of 𝜇 = 0 and standard deviation of 𝜎 = 1. To find p-values for a given z-score z in a normal distribution with mean mu and standard deviation sigma, use 2*(1-pnorm(z, mu, sigma)) instead.</p>
</div>
<div id="section-assessment-3.1-confidence-intervals-and-p-values" class="section level2">
<h2>Assessment 3.1: Confidence Intervals and p-Values</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-4-overview" class="section level2">
<h2>Section 4 Overview</h2>
<p>In Section 4, you will look at statistical models in the context of election polling and forecasting.</p>
<p>After completing Section 4, you will be able to:</p>
<ul>
<li><p>Understand how aggregating data from different sources, as poll aggregators do for poll data, can improve the precision of a prediction.</p></li>
<li><p>Understand how to fit a multilevel model to the data to forecast, for example, election results.</p></li>
<li><p>Explain why a simple aggregation of data is insufficient to combine results because of factors such as pollster bias.</p></li>
<li><p>Use a data-driven model to account for additional types of sampling variability such as pollster-to-pollster variability.</p></li>
</ul>
<p>There is 1 assignment that uses the DataCamp platform for you to practice your coding skills.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-poll-aggregators" class="section level2">
<h2>Poll Aggregators</h2>
<p><img src="https://youtu.be/hkmWQxO88GY" /></p>
<div id="section-textbook-link-15" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html">textbook section - 16. Statistical models</a> and the <a href="https://rafalab.github.io/dsbook/models.html#poll-aggregators">textbook section - 16.1 Poll aggregators</a></p>
</div>
<div id="section-key-points-15" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Poll aggregators combine the results of many polls to simulate polls with a large sample size and therefore generate more precise estimates than individual polls.</p></li>
<li><p>Polls can be simulated with a Monte Carlo simulation and used to construct an estimate of the spread and confidence intervals.</p></li>
<li><p>The actual data science exercise of forecasting elections involves more complex statistical modeling, but these underlying ideas still apply.</p></li>
</ul>
</div>
<div id="section-code-simulating-polls" class="section level3">
<h3>Code: Simulating polls</h3>
<p>Note that to compute the exact 95% confidence interval, we would use qnorm(.975) * SE_hat instead of 2 * SE_hat.</p>
<pre class="r"><code>d &lt;- 0.039
Ns &lt;- c(1298, 533, 1342, 897, 774, 254, 812, 324, 1291, 1056, 2172, 516)
p &lt;- (d+1)/2

# calculate confidence intervals of the spread
confidence_intervals &lt;- sapply(Ns, function(N){
    X &lt;- sample(c(0,1), size=N, replace=TRUE, prob = c(1-p, p))
    X_hat &lt;- mean(X)
    SE_hat &lt;- sqrt(X_hat*(1-X_hat)/N)
    2*c(X_hat, X_hat - 2*SE_hat, X_hat + 2*SE_hat) - 1
})

# generate a data frame storing results
polls &lt;- data.frame(poll = 1:ncol(confidence_intervals),
                    t(confidence_intervals), sample_size = Ns)
names(polls) &lt;- c(&quot;poll&quot;, &quot;estimate&quot;, &quot;low&quot;, &quot;high&quot;, &quot;sample_size&quot;)
polls</code></pre>
</div>
<div id="section-code-calculating-the-spread-of-combined-polls" class="section level3">
<h3>Code: Calculating the spread of combined polls</h3>
<p>Note that to compute the exact 95% confidence interval, we would use qnorm(.975) instead of 1.96.</p>
<pre class="r"><code>d_hat &lt;- polls %&gt;%
    summarize(avg = sum(estimate*sample_size) / sum(sample_size)) %&gt;%
    .$avg

p_hat &lt;- (1+d_hat)/2
moe &lt;- 2*1.96*sqrt(p_hat*(1-p_hat)/sum(polls$sample_size))   
round(d_hat*100,1)
round(moe*100, 1)</code></pre>
</div>
</div>
<div id="section-pollsters-and-multilevel-models" class="section level2">
<h2>Pollsters and Multilevel Models</h2>
<p><img src="https://youtu.be/mVWcxHdAJE4" /></p>
<div id="section-textbook-link-16" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#poll-aggregators">textbook section - 16.1 Poll aggregators</a></p>
</div>
<div id="section-key-points-16" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Different poll aggregators generate different models of election results from the same poll data. This is because they use different statistical models.</p></li>
<li><p>We will use actual polling data about the popular vote from the 2016 US presidential election to learn the principles of statistical modeling.</p></li>
</ul>
</div>
</div>
<div id="section-poll-data-and-pollster-bias" class="section level2">
<h2>Poll Data and Pollster Bias</h2>
<p><img src="https://youtu.be/pZ8ztdb4kcE" /></p>
<div id="section-textbook-link-17" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#poll-data">textbook section - 16.1.1 Poll data</a> and the <a href="https://rafalab.github.io/dsbook/models.html#pollster-bias">textbook section - 16.1.2 Pollster bias</a></p>
</div>
<div id="section-key-points-17" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic11.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-code-generating-simulated-poll-data" class="section level3">
<h3>Code: Generating simulated poll data</h3>
<pre class="r"><code>library(dslabs)
data(polls_us_election_2016)
names(polls_us_election_2016)

# keep only national polls from week before election with a grade considered reliable
polls &lt;- polls_us_election_2016 %&gt;%
    filter(state == &quot;U.S.&quot; &amp; enddate &gt;= &quot;2016-10-31&quot; &amp;
               (grade %in% c(&quot;A+&quot;, &quot;A&quot;, &quot;A-&quot;, &quot;B+&quot;) | is.na(grade)))

# add spread estimate
polls &lt;- polls %&gt;%
    mutate(spread = rawpoll_clinton/100 - rawpoll_trump/100)

# compute estimated spread for combined polls
d_hat &lt;- polls %&gt;%
    summarize(d_hat = sum(spread * samplesize) / sum(samplesize)) %&gt;%
    .$d_hat

# compute margin of error
p_hat &lt;- (d_hat+1)/2
moe &lt;- 1.96 * 2 * sqrt(p_hat*(1-p_hat)/sum(polls$samplesize))

# histogram of the spread
polls %&gt;%
    ggplot(aes(spread)) +
    geom_histogram(color=&quot;black&quot;, binwidth = .01)</code></pre>
</div>
<div id="section-code-investigating-poll-data-and-pollster-bias" class="section level3">
<h3>Code: Investigating poll data and pollster bias</h3>
<pre class="r"><code># number of polls per pollster in week before election
polls %&gt;% group_by(pollster) %&gt;% summarize(n())

# plot results by pollsters with at least 6 polls
polls %&gt;% group_by(pollster) %&gt;%
    filter(n() &gt;= 6) %&gt;%
    ggplot(aes(pollster, spread)) +
    geom_point() +
    theme(axis.text.x = element_text(angle = 90, hjust = 1))

# standard errors within each pollster
polls %&gt;% group_by(pollster) %&gt;%
    filter(n() &gt;= 6) %&gt;%
    summarize(se = 2 * sqrt(p_hat * (1-p_hat) / median(samplesize)))</code></pre>
</div>
</div>
<div id="section-data-driven-models" class="section level2">
<h2>Data-Driven Models</h2>
<p><img src="https://youtu.be/nAXe_VKWQIQ" /></p>
<div id="section-textbook-link-18" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#data-driven-model">textbook section - 16.2 Data-driven models</a>.</p>
</div>
<div id="section-key-points-18" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic12.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-code" class="section level3">
<h3>Code:</h3>
<p>Note that to compute the exact 95% confidence interval, we would use qnorm(.975) instead of 1.96.</p>
<pre class="r"><code># collect last result before the election for each pollster
one_poll_per_pollster &lt;- polls %&gt;% group_by(pollster) %&gt;%
    filter(enddate == max(enddate)) %&gt;%      # keep latest poll
    ungroup()

# histogram of spread estimates
one_poll_per_pollster %&gt;%
    ggplot(aes(spread)) + geom_histogram(binwidth = 0.01)

# construct 95% confidence interval
results &lt;- one_poll_per_pollster %&gt;%
    summarize(avg = mean(spread), se = sd(spread)/sqrt(length(spread))) %&gt;%
    mutate(start = avg - 1.96*se, end = avg + 1.96*se)
round(results*100, 1)</code></pre>
</div>
</div>
<div id="section-assessment-statistical-models" class="section level2">
<h2>4.1 Assessment: Statistical Models</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-5-overview" class="section level2">
<h2>Section 5 Overview</h2>
<p>In Section 5, you will learn about Bayesian statistics through looking at examples from rare disease diagnosis and baseball.</p>
<p>After completing Section 5, you will be able to:</p>
<ul>
<li><p>Apply Bayes’ theorem to calculate the probability of A given B.</p></li>
<li><p>Understand how to use hierarchical models to make better predictions by considering multiple levels of variability.</p></li>
<li><p>Compute a posterior probability using an empirical Bayesian approach.</p></li>
<li><p>Calculate a 95% credible interval from a posterior probability.</p></li>
</ul>
<p>There is 2 assignment that uses the DataCamp platform for you to practice your coding skills, and one for you to apply Bayesian statistics in a real-world context.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-bayesian-statistics" class="section level2">
<h2>Bayesian Statistics</h2>
<p><img src="https://youtu.be/loA6SNI3WNo" /></p>
<div id="section-textbook-link-19" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#bayesian-statistics">textbook section - 16.4 Bayesian statistics</a>.</p>
</div>
<div id="section-key-points-19" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>In the urn model, it does not make sense to talk about the probability of 𝑝 being greater than a certain value because 𝑝 is a fixed value.</p></li>
<li><p>With Bayesian statistics, we assume that 𝑝 is in fact random, which allows us to calculate probabilities related to 𝑝.</p></li>
<li><p><em>Hierarchical models</em> describe variability at different levels and incorporate all these levels into a model for estimating 𝑝.</p></li>
</ul>
</div>
</div>
<div id="section-bayes-theorem" class="section level2">
<h2>Bayes’ Theorem</h2>
<p><img src="https://youtu.be/jqqckEsK10Y" /></p>
<div id="section-textbook-link-20" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#bayes-theorem">textbook section - 16.4.1 Bayes theorem</a>.</p>
</div>
<div id="section-key-points-20" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic13.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-equations-cystic-fibrosis-test-probabilities" class="section level3">
<h3>Equations: Cystic fibrosis test probabilities</h3>
<figure>
<img src="images/pic14.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-code-monte-carlo-simulation-1" class="section level3">
<h3>Code: Monte Carlo simulation</h3>
<pre class="r"><code>prev &lt;- 0.00025    # disease prevalence
N &lt;- 100000    # number of tests
outcome &lt;- sample(c(&quot;Disease&quot;, &quot;Healthy&quot;), N, replace = TRUE, prob = c(prev, 1-prev))

N_D &lt;- sum(outcome == &quot;Disease&quot;)    # number with disease
N_H &lt;- sum(outcome == &quot;Healthy&quot;)    # number healthy

# for each person, randomly determine if test is + or -
accuracy &lt;- 0.99
test &lt;- vector(&quot;character&quot;, N)
test[outcome == &quot;Disease&quot;] &lt;- sample(c(&quot;+&quot;, &quot;-&quot;), N_D, replace=TRUE, prob = c(accuracy, 1-accuracy))
test[outcome == &quot;Healthy&quot;] &lt;- sample(c(&quot;-&quot;, &quot;+&quot;), N_H, replace=TRUE, prob = c(accuracy, 1-accuracy))

table(outcome, test)</code></pre>
</div>
</div>
<div id="section-bayes-in-practice" class="section level2">
<h2>Bayes in Practice</h2>
<p><img src="https://youtu.be/wUoi9x6bozM" /></p>
<div id="section-textbook-link-21" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#bayes-in-practice">textbook section - 16.5.1 Bayes in practice</a>.</p>
</div>
<div id="section-key-points-21" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The techniques we have used up until now are referred to as <em>frequentist statistics</em> as they consider only the frequency of outcomes in a dataset and do not include any outside information. Frequentist statistics allow us to compute confidence intervals and p-values.</p></li>
<li><p>Frequentist statistics can have problems when sample sizes are small and when the data are extreme compared to historical results.</p></li>
<li><p><em>Bayesian statistics</em> allows prior knowledge to modify observed results, which alters our conclusions about event probabilities.</p></li>
</ul>
</div>
</div>
<div id="section-the-hierarchical-model" class="section level2">
<h2>The Hierarchical Model</h2>
<p><img src="https://youtu.be/Tr3Z8W3xEEQ" /></p>
<div id="section-textbook-link-22" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#hierarchical-models">textbook section - 16.6 Hierarchical models</a>.</p>
</div>
<div id="section-key-points-22" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic15.png" alt="R Studio" style="width:700px">
</figure>
</div>
</div>
<div id="section-assessment-bayesian-statistics" class="section level2">
<h2>5.1 Assessment: Bayesian Statistics</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-6-overview" class="section level2">
<h2>Section 6 Overview</h2>
<p>In Section 6, you will learn about election forecasting, building on what you’ve learned in the previous sections about statistical modeling and Bayesian statistics.</p>
<p>After completing Section 6, you will be able to:</p>
<ul>
<li><p>Understand how pollsters use hierarchical models to forecast the results of elections.</p></li>
<li><p>Incorporate multiple sources of variability into a mathematical model to make predictions.</p></li>
<li><p>Construct confidence intervals that better model deviations such as those seen in election data using the t-distribution.</p></li>
</ul>
<p>There is 2 assignment that uses the DataCamp platform for you to practice your coding skills.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-election-forecasting" class="section level2">
<h2>Election Forecasting</h2>
<p><img src="https://youtu.be/TMFZy8YkyCw" /></p>
<div id="section-textbook-link-23" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#bayesian-approach">textbook section - 16.8.1 Bayesian approach</a>.</p>
</div>
<div id="section-key-points-23" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic16.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-code-definition-of-results-object" class="section level3">
<h3>Code: Definition of <code>results</code> object</h3>
<p>This code from previous videos defines the results object used for empirical Bayes election forecasting.</p>
<pre class="r"><code>library(tidyverse)
library(dslabs)
polls &lt;- polls_us_election_2016 %&gt;%
    filter(state == &quot;U.S.&quot; &amp; enddate &gt;= &quot;2016-10-31&quot; &amp;
                 (grade %in% c(&quot;A+&quot;, &quot;A&quot;, &quot;A-&quot;, &quot;B+&quot;) | is.na(grade))) %&gt;%
    mutate(spread = rawpoll_clinton/100 - rawpoll_trump/100)

one_poll_per_pollster &lt;- polls %&gt;% group_by(pollster) %&gt;%
    filter(enddate == max(enddate)) %&gt;%
    ungroup()

results &lt;- one_poll_per_pollster %&gt;%
    summarize(avg = mean(spread), se = sd(spread)/sqrt(length(spread))) %&gt;%
    mutate(start = avg - 1.96*se, end = avg + 1.96*se)</code></pre>
</div>
<div id="section-code-computing-the-posterior-mean-standard-error-credible-interval-and-probability" class="section level3">
<h3>Code: Computing the posterior mean, standard error, credible interval and probability</h3>
<p>Note that to compute an exact 95% credible interval, we would use qnorm(.975) instead of 1.96.</p>
<pre class="r"><code>mu &lt;- 0
tau &lt;- 0.035
sigma &lt;- results$se
Y &lt;- results$avg
B &lt;- sigma^2 / (sigma^2 + tau^2)
posterior_mean &lt;- B*mu + (1-B)*Y
posterior_se &lt;- sqrt(1 / (1/sigma^2 + 1/tau^2))

posterior_mean
posterior_se

# 95% credible interval
posterior_mean + c(-1.96, 1.96)*posterior_se

# probability of d &gt; 0
1 - pnorm(0, posterior_mean, posterior_se)</code></pre>
</div>
</div>
<div id="section-mathematical-representations-of-models" class="section level2">
<h2>Mathematical Representations of Models</h2>
<p><img src="https://youtu.be/F_2zBEdxXYw" /></p>
<div id="section-textbook-link-24" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#mathematical-representations-of-models">textbook section - 16.8.3 Mathematical representations of models</a>.</p>
</div>
<div id="section-key-points-24" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic17.png" alt="R Studio" style="width:700px">
</figure>
<figure>
<img src="images/pic18.png" alt="R Studio" style="width:350px">
</figure>
<pre class="r"><code>J &lt;- 6
N &lt;- 2000
d &lt;- .021
p &lt;- (d+1)/2
X &lt;- d + rnorm(J, 0, 2*sqrt(p*(1-p)/N))</code></pre>
<figure>
<img src="images/pic19.png" alt="R Studio" style="width:350px">
</figure>
<pre class="r"><code>I &lt;- 5
J &lt;- 6
N &lt;- 2000
d &lt;- .021
p &lt;- (d+1)/2
X &lt;- sapply(1:I, function(i){
    d + rnorm(J, 0, 2*sqrt(p*(1-p)/N))
})</code></pre>
<figure>
<img src="images/pic20.png" alt="R Studio" style="width:400px">
</figure>
<pre class="r"><code>I &lt;- 5
J &lt;- 6
N &lt;- 2000
d &lt;- .021
p &lt;- (d+1)/2
h &lt;- rnorm(I, 0, 0.025)    # assume standard error of pollster-to-pollster variability is 0.025
X &lt;- sapply(1:I, function(i){
    d + rnorm(J, 0, 2*sqrt(p*(1-p)/N))
})</code></pre>
<figure>
<img src="images/pic21.png" alt="R Studio" style="width:600px">
</figure>
<pre class="r"><code>mu &lt;- 0
tau &lt;- 0.035
sigma &lt;- sqrt(results$se^2 + .025^2)
Y &lt;- results$avg
B &lt;- sigma^2 / (sigma^2 + tau^2)

posterior_mean &lt;- B*mu + (1-B)*Y
posterior_se &lt;- sqrt(1 / (1/sigma^2 + 1/tau^2))

1 - pnorm(0, posterior_mean, posterior_se)</code></pre>
</div>
</div>
<div id="section-predicting-the-electoral-college" class="section level2">
<h2>Predicting the Electoral College</h2>
<p><img src="https://youtu.be/Re-GKnEGNKU" /></p>
<div id="section-textbook-link-25" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#predicting-the-electoral-college">textbook section - 16.8.4 Predicting the electoral college</a>.</p>
</div>
<div id="section-key-points-25" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>In the US election, each state has a certain number of votes that are won all-or-nothing based on the popular vote result in that state (with minor exceptions not discussed here).</p></li>
<li><p>We use the <code>left_join()</code> function to combine the number of electoral votes with our poll results.</p></li>
<li><p>For each state, we apply a Bayesian approach to generate an Election Day 𝑑. We keep our prior simple by assuming an expected value of 0 and a standard deviation based on recent history of 0.02.</p></li>
<li><p>We can run a Monte Carlo simulation that for each iteration simulates poll results in each state using that state’s average and standard deviation, awards electoral votes for each state to Clinton if the spread is greater than 0, then compares the number of electoral votes won to the number of votes required to win the election (over 269).</p></li>
<li><p>If we run a Monte Carlo simulation for the electoral college without accounting for general bias, we overestimate Clinton’s chances of winning at over 99%.</p></li>
<li><p>If we include a general bias term, the estimated probability of Clinton winning decreases significantly.</p></li>
</ul>
</div>
<div id="section-code-top-5-states-ranked-by-electoral-votes" class="section level3">
<h3>Code: Top 5 states ranked by electoral votes</h3>
<p>The <code>results_us_election_2016</code> object is defined in the <strong>dslabs</strong> package:</p>
<pre class="r"><code>library(tidyverse)
library(dslabs)
data(&quot;polls_us_election_2016&quot;)
head(results_us_election_2016)

results_us_election_2016 %&gt;% arrange(desc(electoral_votes)) %&gt;% top_n(5, electoral_votes)</code></pre>
</div>
<div id="section-code-computing-the-average-and-standard-deviation-for-each-state" class="section level3">
<h3>Code: Computing the average and standard deviation for each state</h3>
<pre class="r"><code>results &lt;- polls_us_election_2016 %&gt;%
    filter(state != &quot;U.S.&quot; &amp;
            !grepl(&quot;CD&quot;, &quot;state&quot;) &amp;
            enddate &gt;= &quot;2016-10-31&quot; &amp;
            (grade %in% c(&quot;A+&quot;, &quot;A&quot;, &quot;A-&quot;, &quot;B+&quot;) | is.na(grade))) %&gt;%
    mutate(spread = rawpoll_clinton/100 - rawpoll_trump/100) %&gt;%
    group_by(state) %&gt;%
    summarize(avg = mean(spread), sd = sd(spread), n = n()) %&gt;%
    mutate(state = as.character(state))

# 10 closest races = battleground states
results %&gt;% arrange(abs(avg))

# joining electoral college votes and results
results &lt;- left_join(results, results_us_election_2016, by=&quot;state&quot;)

# states with no polls: note Rhode Island and District of Columbia = Democrat
results_us_election_2016 %&gt;% filter(!state %in% results$state)

# assigns sd to states with just one poll as median of other sd values
results &lt;- results %&gt;%
    mutate(sd = ifelse(is.na(sd), median(results$sd, na.rm = TRUE), sd))</code></pre>
</div>
<div id="section-code-calculating-the-posterior-mean-and-posterior-standard-error" class="section level3">
<h3>Code: Calculating the posterior mean and posterior standard error</h3>
<p>Note there is a small error in the video code: B should be defined as sigma^2 / (sigma^2 + tau^2).</p>
<pre class="r"><code>mu &lt;- 0
tau &lt;- 0.02
results %&gt;% mutate(sigma = sd/sqrt(n),
                   B = sigma^2/ (sigma^2 + tau^2),
                   posterior_mean = B*mu + (1-B)*avg,
                   posterior_se = sqrt( 1 / (1/sigma^2 + 1/tau^2))) %&gt;%
    arrange(abs(posterior_mean))</code></pre>
</div>
<div id="section-code-monte-carlo-simulation-of-election-night-results-no-general-bias" class="section level3">
<h3>Code: Monte Carlo simulation of Election Night results (no general bias)</h3>
<pre class="r"><code>mu &lt;- 0
tau &lt;- 0.02
clinton_EV &lt;- replicate(1000, {
    results %&gt;% mutate(sigma = sd/sqrt(n),
                       B = sigma^2/ (sigma^2 + tau^2),
                       posterior_mean = B*mu + (1-B)*avg,
                       posterior_se = sqrt( 1 / (1/sigma^2 + 1/tau^2)),
                       simulated_result = rnorm(length(posterior_mean), posterior_mean, posterior_se),
                       clinton = ifelse(simulated_result &gt; 0, electoral_votes, 0)) %&gt;%    # award votes if Clinton wins state
        summarize(clinton = sum(clinton)) %&gt;%    # total votes for Clinton
        .$clinton + 7    # 7 votes for Rhode Island and DC
})
mean(clinton_EV &gt; 269)    # over 269 votes wins election

# histogram of outcomes
data.frame(clintonEV) %&gt;%
    ggplot(aes(clintonEV)) +
    geom_histogram(binwidth = 1) +
    geom_vline(xintercept = 269)</code></pre>
</div>
<div id="section-code-monte-carlo-simulation-including-general-bias" class="section level3">
<h3>Code: Monte Carlo simulation including general bias</h3>
<pre class="r"><code>mu &lt;- 0
tau &lt;- 0.02
bias_sd &lt;- 0.03
clinton_EV_2 &lt;- replicate(1000, {
    results %&gt;% mutate(sigma = sqrt(sd^2/(n) + bias_sd^2),    # added bias_sd term
                        B = sigma^2/ (sigma^2 + tau^2),
                        posterior_mean = B*mu + (1-B)*avg,
                        posterior_se = sqrt( 1 / (1/sigma^2 + 1/tau^2)),
                        simulated_result = rnorm(length(posterior_mean), posterior_mean, posterior_se),
                        clinton = ifelse(simulated_result &gt; 0, electoral_votes, 0)) %&gt;%    # award votes if Clinton wins state
        summarize(clinton = sum(clinton)) %&gt;%    # total votes for Clinton
        .$clinton + 7    # 7 votes for Rhode Island and DC
})
mean(clinton_EV_2 &gt; 269)    # over 269 votes wins election</code></pre>
</div>
</div>
<div id="section-forecasting" class="section level2">
<h2>Forecasting</h2>
<p><img src="https://youtu.be/VSdmH1DnSdw" /></p>
<div id="section-textbook-link-26" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#forecasting">textbook section - 16.8.5 Forecasting</a>.</p>
</div>
<div id="section-key-points-26" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic22.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-code-variability-across-one-pollster" class="section level3">
<h3>Code: Variability across one pollster</h3>
<pre class="r"><code># select all national polls by one pollster
one_pollster &lt;- polls_us_election_2016 %&gt;%
    filter(pollster == &quot;Ipsos&quot; &amp; state == &quot;U.S.&quot;) %&gt;%
    mutate(spread = rawpoll_clinton/100 - rawpoll_trump/100)

# the observed standard error is higher than theory predicts
se &lt;- one_pollster %&gt;%
    summarize(empirical = sd(spread),
            theoretical = 2*sqrt(mean(spread)*(1-mean(spread))/min(samplesize)))
se

# the distribution of the data is not normal
one_pollster %&gt;% ggplot(aes(spread)) +
    geom_histogram(binwidth = 0.01, color = &quot;black&quot;)</code></pre>
</div>
<div id="section-code-trend-across-time-for-several-pollsters" class="section level3">
<h3>Code: Trend across time for several pollsters</h3>
<pre class="r"><code>polls_us_election_2016 %&gt;%
    filter(state == &quot;U.S.&quot; &amp; enddate &gt;= &quot;2016-07-01&quot;) %&gt;%
    group_by(pollster) %&gt;%
    filter(n() &gt;= 10) %&gt;%
    ungroup() %&gt;%
    mutate(spread = rawpoll_clinton/100 - rawpoll_trump/100) %&gt;%
    ggplot(aes(enddate, spread)) +
    geom_smooth(method = &quot;loess&quot;, span = 0.1) +
    geom_point(aes(color = pollster), show.legend = FALSE, alpha = 0.6)</code></pre>
</div>
<div id="section-code-plotting-raw-percentages-across-time" class="section level3">
<h3>Code: Plotting raw percentages across time</h3>
<pre class="r"><code>polls_us_election_2016 %&gt;%
    filter(state == &quot;U.S.&quot; &amp; enddate &gt;= &quot;2016-07-01&quot;) %&gt;%
    select(enddate, pollster, rawpoll_clinton, rawpoll_trump) %&gt;%
    rename(Clinton = rawpoll_clinton, Trump = rawpoll_trump) %&gt;%
    gather(candidate, percentage, -enddate, -pollster) %&gt;%
    mutate(candidate = factor(candidate, levels = c(&quot;Trump&quot;, &quot;Clinton&quot;))) %&gt;%
    group_by(pollster) %&gt;%
    filter(n() &gt;= 10) %&gt;%
    ungroup() %&gt;%
    ggplot(aes(enddate, percentage, color = candidate)) +
    geom_point(show.legend = FALSE, alpha = 0.4) +
    geom_smooth(method = &quot;loess&quot;, span = 0.15) +
    scale_y_continuous(limits = c(30, 50))</code></pre>
</div>
</div>
<div id="section-assessment-election-forecasting" class="section level2">
<h2>6.1 Assessment: Election Forecasting</h2>
<p>Insert assessment here</p>
</div>
<div id="section-the-t-distribution" class="section level2">
<h2>The t-Distribution</h2>
<p><img src="https://youtu.be/8VpwIoDGSzs" /></p>
<div id="section-textbook-link-27" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/models.html#t-dist">textbook section - 16.10 The t-distribution</a>.</p>
</div>
<div id="section-correction" class="section level3">
<h3>Correction</h3>
<figure>
<img src="images/pic23.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-key-points-27" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic24.png" alt="R Studio" style="width:700px">
</figure>
</div>
<div id="section-code-calculating-95-confidence-intervals-with-the-t-distribution" class="section level3">
<h3>Code: Calculating 95% confidence intervals with the t-distribution</h3>
<pre class="r"><code>z &lt;- qt(0.975, nrow(one_poll_per_pollster) - 1)
one_poll_per_pollster %&gt;%
    summarize(avg = mean(spread), moe = z*sd(spread)/sqrt(length(spread))) %&gt;%
    mutate(start = avg - moe, end = avg + moe)

# quantile from t-distribution versus normal distribution
qt(0.975, 14)    # 14 = nrow(one_poll_per_pollster) - 1
qnorm(0.975)</code></pre>
</div>
</div>
<div id="section-assessment-the-t-distribution" class="section level2">
<h2>6.2 Assessment: The t-Distribution</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-7-overview" class="section level2">
<h2>Section 7 Overview</h2>
<p>In Section 7, you will learn how to use association and chi-squared tests to perform inference for binary, categorical, and ordinal data through an example looking at research funding rates.</p>
<p>After completing Section 7, you will be able to:</p>
<ul>
<li><p>Use association and chi-squared tests to perform inference on binary, categorical, and ordinal data.</p></li>
<li><p>Calculate an odds ratio to get an idea of the magnitude of an observed effect.</p></li>
</ul>
<p>There is 1 assignment that uses the DataCamp platform for you to practice your coding skills.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
</div>
<div id="section-association-tests" class="section level2">
<h2>Association Tests</h2>
<p><img src="https://youtu.be/njZtpqK6snY" /></p>
<div id="section-textbook-link-28" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#association-tests">textbook section - 15.10 Association tests</a> up to and including the <a href="https://rafalab.github.io/dsbook/inference.html#two-by-two-tables">textbook section - 15.10.2 Two-by-two tables</a>.</p>
</div>
<div id="section-key-points-28" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>We learn how to determine the probability that an observation is due to random variability given categorical, binary or ordinal data.</p></li>
<li><p>Fisher’s exact test determines the p-value as the probability of observing an outcome as extreme or more extreme than the observed outcome given the null distribution.</p></li>
<li><p>Data from a binary experiment are often summarized in <em>two-by-two tables</em>.</p></li>
<li><p>The p-value can be calculated from a two-by-two table using Fisher’s exact test with the function <code>fisher.test()</code>.</p></li>
</ul>
</div>
<div id="section-code-research-funding-rates-example" class="section level3">
<h3>Code: Research funding rates example</h3>
<pre class="r"><code># load and inspect research funding rates object
library(tidyverse)
library(dslabs)
data(research_funding_rates)
research_funding_rates

# compute totals that were successful or not successful
totals &lt;- research_funding_rates %&gt;%
    select(-discipline) %&gt;%
    summarize_all(funs(sum)) %&gt;%
    summarize(yes_men = awards_men,
                         no_men = applications_men - awards_men,
                         yes_women = awards_women,
                         no_women = applications_women - awards_women)

# compare percentage of men/women with awards
totals %&gt;% summarize(percent_men = yes_men/(yes_men + no_men),
                                          percent_women = yes_women/(yes_women + no_women))</code></pre>
</div>
<div id="section-code-two-by-two-table-and-p-value-for-the-lady-tasting-tea-problem" class="section level3">
<h3>Code: Two-by-two table and p-value for the Lady Tasting Tea problem</h3>
<pre class="r"><code>tab &lt;- matrix(c(3,1,1,3), 2, 2)
rownames(tab) &lt;- c(&quot;Poured Before&quot;, &quot;Poured After&quot;)
colnames(tab) &lt;- c(&quot;Guessed Before&quot;, &quot;Guessed After&quot;)
tab

# p-value calculation with Fisher&#39;s Exact Test
fisher.test(tab, alternative = &quot;greater&quot;)</code></pre>
</div>
</div>
<div id="section-chi-squared-tests" class="section level2">
<h2>Chi-Squared Tests</h2>
<p><img src="https://youtu.be/njZtpqK6snY" /></p>
<div id="section-textbook-link-29" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/inference.html#chi-square-test">textbook section - 15.10.3 Chi-square Test</a> and the <a href="https://rafalab.github.io/dsbook/inference.html#odds-ratio">textbook section - 15.10.4 The odds ratio</a>.</p>
</div>
<div id="section-key-points-29" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>If the sums of the rows and the sums of the columns in the two-by-two table are fixed, then the hypergeometric distribution and Fisher’s exact test can be used. Otherwise, we must use the chi-squared test.</p></li>
<li><p>The <em>chi-squared test</em> compares the observed two-by-two table to the two-by-two table expected by the null hypothesis and asks how likely it is that we see a deviation as large as observed or larger by chance.</p></li>
<li><p>The function <code>chisq.test()</code> takes a two-by-two table and returns the p-value from the chi-squared test.</p></li>
<li><p>The <em>odds ratio</em> states how many times larger the odds of an outcome are for one group relative to another group.</p></li>
<li><p>A small p-value does not imply a large odds ratio. If a finding has a small p-value but also a small odds ratio, it may not be a practically significant or scientifically significant finding.</p></li>
<li><p>Because the odds ratio is a ratio of ratios, there is no simple way to use the Central Limit Theorem to compute confidence intervals. There are advanced methods for computing confidence intervals for odds ratios that we do not discuss here.</p></li>
</ul>
</div>
<div id="section-code-chi-squared-test" class="section level3">
<h3>Code: Chi-squared test</h3>
<pre class="r"><code># compute overall funding rate
funding_rate &lt;- totals %&gt;%
    summarize(percent_total = (yes_men + yes_women) / (yes_men + no_men + yes_women + no_women)) %&gt;%
    .$percent_total
funding_rate

# construct two-by-two table for observed data
two_by_two &lt;- tibble(awarded = c(&quot;no&quot;, &quot;yes&quot;),
                    men = c(totals$no_men, totals$yes_men),
                     women = c(totals$no_women, totals$yes_women))
two_by_two

# compute null hypothesis two-by-two table
tibble(awarded = c(&quot;no&quot;, &quot;yes&quot;),
           men = (totals$no_men + totals$yes_men) * c(1-funding_rate, funding_rate),
           women = (totals$no_women + totals$yes_women) * c(1-funding_rate, funding_rate))

# chi-squared test
chisq_test &lt;- two_by_two %&gt;%
    select(-awarded) %&gt;%
nbsp;   chisq.test()
chisq_test$p.value</code></pre>
</div>
<div id="section-code-odds-ratio" class="section level3">
<h3>Code: Odds ratio</h3>
<pre class="r"><code># odds of getting funding for men
odds_men &lt;- (two_by_two$men[2] / sum(two_by_two$men)) /
        (two_by_two$men[1] / sum(two_by_two$men))

# odds of getting funding for women
odds_women &lt;- (two_by_two$women[2] / sum(two_by_two$women)) /
        (two_by_two$women[1] / sum(two_by_two$women))

# odds ratio - how many times larger odds are for men than women
odds_men/odds_women</code></pre>
</div>
<div id="section-code-p-value-and-odds-ratio-responses-to-increasing-sample-size" class="section level3">
<h3>Code: p-value and odds ratio responses to increasing sample size</h3>
<pre class="r"><code># multiplying all observations by 10 decreases p-value without changing odds ratio
two_by_two %&gt;%
  select(-awarded) %&gt;%
  mutate(men = men*10, women = women*10) %&gt;%
  chisq.test()</code></pre>
</div>
</div>
<div id="section-assessment-association-and-chi-squared-tests" class="section level2">
<h2>7.1 Assessment: Association and Chi-Squared Tests</h2>
<p>Insert assessment here</p>
</div>
<div id="section-brexit-poll-analysis---part-1" class="section level2">
<h2>7.2 Brexit poll analysis - Part 1</h2>
<div id="section-directions" class="section level3">
<h3>Directions</h3>
<p>There are 12 multi-part problems in this comprehensive assessment that review concepts from the entire course. The problems are split over 3 pages. Make sure you read the instructions carefully and run all pre-exercise code.</p>
<p>For numeric entry problems, you have 10 attempts to input the correct answer. For true/false problems, you have 2 attempts.</p>
<p>If you have questions, visit the “Brexit poll analysis” discussion forum that follows the assessment.</p>
</div>
</div>
<div id="section-brexit-poll-analysis---part-2" class="section level2">
<h2>7.2 Brexit poll analysis - Part 2</h2>
<p>Insert assessment here</p>
</div>
<div id="section-brexit-poll-analysis---part-3" class="section level2">
<h2>7.2 Brexit poll analysis - Part 3</h2>
<p>Insert assessment here</p>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)

library(learnr) #necessary to render tutorial correctly

library(forcats)
library(ggplot2)
library(htmltools)
library(kableExtra)
library(lubridate)
library(magrittr)
library(tibble)


source("./www/datsci_helpers.R")
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/lumen.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72]}},"value":[{"type":"character","attributes":{},"value":["backports","base","colorspace","compiler","crayon","datasets","digest","dplyr","ellipsis","evaluate","farver","fastmap","forcats","generics","ggplot2","glue","graphics","grDevices","grid","gtable","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","kableExtra","knitr","labeling","later","lattice","learnr","lifecycle","lubridate","magrittr","markdown","Matrix","methods","mgcv","mime","munsell","nlme","pillar","pkgconfig","promises","purrr","R6","Rcpp","readr","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","splines","stats","stringi","stringr","tibble","tidyselect","tools","utils","vctrs","viridisLite","webshot","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["1.1.8","4.0.2","1.4-1","4.0.2","1.3.4","4.0.2","0.6.25","1.0.0","0.3.1","0.14","2.0.3","1.0.1","0.5.0","0.0.2","3.3.2","1.4.1","4.0.2","4.0.2","4.0.2","0.3.0","0.5.3","0.5.0","1.5.1","1.5.4","1.4.2","1.7.0","1.1.0","1.29","0.3","1.1.0.1","0.20-41","0.10.1","0.2.0","1.7.9","1.5","1.1","1.2-18","4.0.2","1.8-31","0.9","0.5.0","3.1-148","1.4.6","2.0.3","1.1.1","0.3.4","2.4.1","1.0.5","1.3.1","0.4.7","2.3","1.3-2","0.11","0.3.6","1.1.1","1.5.0","4.0.2","4.0.2","1.4.6","1.4.0","3.0.3","1.1.0","4.0.2","4.0.2","0.3.2","0.3.0","0.5.2","2.2.0","0.16","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">datsci_04: Inference and Modeling</h2>
<h4 class="author"><em>Rafael Irizarry &amp; Fatih Uenal</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
