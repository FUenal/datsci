<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Rafael Irizarry &amp; Fatih Uenal" />


<meta name="progressive" content="true" />
<meta name="allow-skip" content="false" />

<title>datsci_03: Probability</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->


<link rel="stylesheet" href="css/datsci_style.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<html lang="en">
<div id="section-datsci_03-probability" class="section level1">
<h1>datsci_03: Probability</h1>
<div id="section-introduction-and-welcome" class="section level2">
<h2>Introduction and Welcome!</h2>
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:100px;height:100px;" class = "img_left"></p>
<p><strong>Usage:</strong> This tutorial accompanies the textbook <a href="https://rafalab.github.io/dsbook/">Introduction to Data Science</a> by <a href="http://rafalab.github.io/pages/about.html">Prof Rafael Irizarry</a>. It contains material from the textbook which is offered under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>.</p>
</div>
<div id="section-welcome-to-data-science-probability" class="section level3">
<h3>Welcome to <em>Data Science: Probability</em>!</h3>
<p>We’re excited to have you join us in this course, which is designed to teach you the basics of probability theory, which is the mathematical foundation of statistical inference.</p>
</div>
<div id="section-course-overview" class="section level3">
<h3>Course Overview</h3>
<p>This is the third in a series of courses in the Introduction to Data Science program. The courses in the program are designed to prepare you to do data analysis in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, from simple computations to machine learning. The courses are designed to be taken in order. A prerequisite for this course is courses 1 and 2 of the series or equivalent knowledge of basic R coding and data visualization. If you need to learn or refresh some basic <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, check out <em>Data Science: <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> Basics</em> (datsci_01), the first course in this series.</p>
<p>The textbook for the Data Science course series is <a href="https://rafalab.github.io/dsbook/">freely available online</a>. This course corresponds to the Probability section of textbook, starting here.</p>
<p>This course assumes you are comfortable with basic math, algebra, and logical operations. We have some assignments in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> that allow you to program directly in a browser-based interface. You will further have access to additional exercises to be completed on your local installation of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>.</p>
<p>Using a combination of a guided introduction lectures and more independent in-depth exploration, you will get to practice your new <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> skills on real-life applications.</p>
<p>Probability theory is the mathematical foundation of statistical inference which is indispensable for analyzing data affected by chance, and thus essential for data scientists. In this course, you will learn important concepts in probability theory. The motivation for this course is the circumstances surrounding the financial crisis of 2007-2008. Part of what caused this financial crisis was that the risk of certain securities sold by financial institutions was underestimated. To begin to understand this very complicated event, we need to understand the basics of probability. We will introduce important concepts such as random variables, independence, Monte Carlo simulations, expected values, standard errors, and the Central Limit Theorem. These statistical concepts are fundamental to conducting statistical tests on data and understanding whether the data you are analyzing are likely occurring due to an experimental method or to chance. Statistical inference, covered in the next course in this program (datsci_04), builds upon probability theory.</p>
</div>
<div id="section-in-this-course-you-will-learn" class="section level3">
<h3>In this course, you will learn:</h3>
<ul>
<li>Important concepts in probability theory including random variables and independence</li>
<li>How to perform a Monte Carlo simulation</li>
<li>The meaning of expected values and standard errors and how to compute them in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg></li>
<li>The importance of the Central Limit Theorem</li>
</ul>
</div>
<div id="section-course-overview-1" class="section level3">
<h3>Course overview</h3>
<p><strong>Section 1:</strong> Discrete Probability</p>
<ul>
<li>You will learn about basic principles of probability related to categorical data using card games as examples.</li>
</ul>
<p><strong>Section 2:</strong> Continuous Probability</p>
<ul>
<li>You will learn about basic principles of probability related to numeric and continuous data.</li>
</ul>
<p><strong>Section 3:</strong> Random Variables, Sampling Models, and The Central Limit Theorem</p>
<ul>
<li>You will learn about random variables (numeric outcomes resulting from random processes), how to model data generation procedures as draws from an urn, and the Central Limit Theorem, which applies to large sample sizes.</li>
</ul>
<p><strong>Section 4:</strong> The Big Short</p>
<ul>
<li>You will learn how interest rates are determined and how some bad assumptions led to the financial crisis of 2007-2008.</li>
</ul>
</div>
<div id="section-meet-the-course-instructor" class="section level3">
<h3>Meet the Course Instructor</h3>
<div class="infobox">
<p><img src="images/photo2014.jpg" alt="Dr Fatih Uenal." style="width:150px;height:200px;" class = "img_left" ></p>
<p><strong>Fatih Uenal</strong> is currenlty a Visitng Postdoctoral Researcher at the University of Cambridge, Department of Psychology, where he conducts research on the psychology of anthropocentrism and social and ecological dominance. Prior to his current position, he has worked as a postdoc at <a href="https://scholar.harvard.edu/fatih-uenal/home">Harvard University</a>. Together with <a href="http://rafalab.github.io/pages/about.html">Prof Rafael Irizarry</a> he programmed this interactive tutorial based on the the textbook <a href="https://rafalab.github.io/dsbook/"><em>Introduction to Data Science</em></a>. This interactive tutorial is developed using the <code>learnr</code> package. It has a general social scientists audience in mind and is suited for undergrad and graduate levels of study.</p>
<p>Webpage: <a href="https://scholar.harvard.edu/fatih-uenal/home" class="uri">https://scholar.harvard.edu/fatih-uenal/home</a></p>
</div>
<hr />
</div>
<div id="section-essential-course-information" class="section level3">
<h3>Essential Course Information</h3>
<div id="section-course-objectives" class="section level4">
<h4><strong>Course Objectives</strong></h4>
<p>“Data science” is a catch-all term used to describe the practice of working with and analyzing messy data sources to draw meaningful conclusions using techniques developed by computer scientists and computational statisticians. The purpose of this course is to give students who are training as quantitative social scientists a broad introduction to this skillset via the statistical programming language, <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>. You will learn how to conduct many statistical analyses such as univariate statistics (e.g., ANOVA, correlation, regression) in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> that you may have already done in SPSS, Excel, or another such program. Additionally, we will build on this foundation to explore new skillsets uncommon in the social sciences, such as natural language processing, automated data curation, and machine learning.</p>
<p>At the end of this course you will be able to:</p>
<ul>
<li><p>To answer research questions in Social Sciences (e.g., Psychology) with data</p></li>
<li><p>Understand the basics of research designs in Social Sciences, and how they relate to data-analysis strategies</p></li>
<li><p>Develop an intuitive, practical, and conceptual understanding of strategies for asking and answering questions with data</p></li>
<li><p>To use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, a free and open-source statistics software program.</p></li>
<li><p>Develop a basic understanding of frequently used Data Science Techniques.</p></li>
<li><p>Practice your newly acquired skills with interesting, interactive, and fun projects.</p></li>
</ul>
<p><strong>NOTE</strong>: The schedule and procedures described in this syllabus are subject to change depending on specific needs and requirements. You will always be notified of changes on the homepage (see “last update”).</p>
</div>
<div id="section-course-structure" class="section level4">
<h4><strong>Course Structure</strong></h4>
<p>This is the first module in a series of a 8 week-intensive course. and I suggest that you devote approx 10 hours a week to learning <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, or if you are teaching graduate students, I’d recommend adopting the schedule below, which is designed for an intense but doable semester-long course, one module per week. It is intended to take the average graduate student roughly 10 hours per week to complete all required tasks.However, some number of students will find programming to be more challenging and may take up to 15 hours per week. Some will breeze through the material in 5.</p>
</div>
<div id="section-grading" class="section level4">
<h4><strong>Grading</strong></h4>
<p>Each Monday, lessons will be assigned from datacamp.com. Some of these lessons will be complete DataCamp courses, and others will be specific modules of courses. This will all be managed by assigning content to your (free) DataCamp account. The amount of content assigned will vary between one and two courses of content. DataCamp considers a course to be roughly 4 hours of lessons, which includes practice time. Realistically, the time you need will depend upon how intuitive you find <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to be. For students already familiar with other programming languages and those with previous <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> experience, “8 hours” of courses is realistically closer to 2 hours; for complete novices that also find the material difficult, 8 hours is a realistic estimate. It is strongly recommended that you stretch out DataCamp lessons across the assignment period, for example, allocating 1 hour each day. You will gain the most by treating this as a foreign language immersion course by using R every day, including for your own research. Remember that you can always go to the <strong>Slack Group</strong> for help.</p>
</div>
<div id="section-passing-rate" class="section level4">
<h4><strong>Passing Rate</strong></h4>
<p>The passing rate is 70%.</p>
</div>
</div>
<div id="section-pre-course-survey" class="section level3">
<h3>Pre-Course Survey</h3>
<p>Insert Survey Link here</p>
<p><em>If you cannot see the survey above, click this link to access it in a new window.</em></p>
</div>
<div id="section-installing-and-r-studio" class="section level3">
<h3>Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> and R Studio</h3>
<div id="section-installing-r" class="section level4">
<h4><strong>Installing R</strong></h4>
<p>If you want to install <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to work on your own computer, you can download it freely from the <a href="https://cran.r-project.org/">Comprehensive R Archive Network (CRAN)</a>. Note that CRAN makes several versions of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> available: versions for multiple operating systems and releases older than the current one. You want to read the CRAN instructions to assure you download the correct version. If you need further help, you can try the following resources:</p>
<ul>
<li><a href="https://github.com/genomicsclass/windows#installing-r">Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on Windows</a></li>
<li><a href="http://youtu.be/Icawuhf0Yqo">Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on Mac</a></li>
<li><a href="https://cran.r-project.org/bin/linux/ubuntu/README">Installing <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on Ubuntu</a></li>
</ul>
</div>
<div id="section-installing-rstudio" class="section level4">
<h4><strong>Installing RStudio</strong></h4>
<p>RStudio is an integrated development environment (IDE). We highly recommend installing and using RStudio to edit and test your code. You can install RStudio through the <a href="https://www.rstudio.com/products/rstudio/download/">RStudio website</a>. Their <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">cheatsheet</a> is a great resource. You need to install <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> first.</p>
</div>
</div>
</div>
<div id="section-introduction-to-probability" class="section level2">
<h2>Introduction to Probability</h2>
<p>In games of chance, probability has a very intuitive definition. For instance, we know what it means that the chance of a pair of dice coming up seven is 1 in 6. However, this is not the case in other contexts. Today probability theory is being used much more broadly with the word <em>probability</em> commonly used in everyday language. Google’s auto-complete of “What are the chances of” give us: “having twins”, “rain today”, “getting struck by lightning”, and “getting cancer”. One of the goals of this part of the course is to help us understand how probability is useful to understand and describe real-world events when performing data analysis.</p>
<p>Because knowing how to compute probabilities gives you an edge in games of chance, throughout history many smart individuals, including famous mathematicians such as Cardano, Fermat, and Pascal, spent time and energy thinking through the math of these games. As a result, Probability Theory was born. Probability continues to be highly useful in modern games of chance. For example, in poker, we can compute the probability of winning a hand based on the cards on the table. Also, casinos rely on probability theory to develop games that almost certainly guarantee a profit.</p>
<p>Probability theory is useful in many other contexts and, in particular, in areas that depend on data affected by chance in some way. All of the other sectionss in this part build upon probability theory. Knowledge of probability is therefore indispensable for data science.</p>
</div>
<div id="section-section-1-discrete-probability" class="section level2">
<h2>Section 1: Discrete Probability</h2>
<p>Section 1 introduces you to Discrete Probability. Section 1 is divided into three parts:</p>
<p>1. Introduction to Discrete Probability</p>
<p>2. Combinations and Permutations</p>
<p>3. Addition Rule and Monty Hall</p>
<p>After completing Section 1, you will be able to:</p>
<ul>
<li><p>apply basic probability theory to categorical data.</p></li>
<li><p>perform a Monte Carlo simulation to approximate the results of repeating an experiment over and over, including simulating the outcomes in the Monty Hall problem.</p></li>
<li><p>distinguish between: sampling with and without replacement, events that are and are not independent, and combinations and permutations.</p></li>
<li><p>apply the multiplication and addition rules, as appropriate, to calculate the probably of multiple events occurring.</p></li>
<li><p>use <code>sapply()</code> instead of a for loop to perform element-wise operations on a function.</p></li>
</ul>
<p>There are 3 assignments for you to practice your coding skills. There are also some quick probability calculations for you to perform as well, and there is a longer set of problems at the end of section 1.</p>
<p>This section corresponds to <a href="https://rafalab.github.io/dsbook/probability.html#discrete-probability">the following section of the course textbook</a>.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
<hr />
<div id="section-discrete-probability" class="section level3">
<h3>1.1 Discrete Probability</h3>
<div class="infobox">
<p><strong>Textbook link</strong> The contents are discussed within the <a href="https://rafalab.github.io/dsbook/probability.html#discrete-probability">textbook section on the R basics - 13.1 Discrete probability</a>.</p>
</div>
<hr />
<p>We start by covering some basic principles related to categorical data. The subset of probability is referred to as <em>discrete probability</em>. It will help us understand the probability theory we will later introduce for numeric and continuous data, which is much more common in data science applications. Discrete probability is more useful in card games and therefore we use these as examples.</p>
</div>
<div id="section-relative-frequency" class="section level3">
<h3>Relative frequency</h3>
<p>The word probability is used in everyday language. Answering questions about probability is often hard, if not impossible. Here we discuss a mathematical definition of <em>probability</em> that does permit us to give precise answers to certain questions.</p>
<p>For example, if I have <a href="https://en.wikipedia.org/wiki/Urn_problem">2 red beads and 3 blue beads inside an urn</a> (most probability books use this archaic term, so we do too) and I pick one at random, what is the probability of picking a red one? Our intuition tells us that the answer is 2/5 or 40%. A precise definition can be given by noting that there are five possible outcomes of which two satisfy the condition necessary for the event “pick a red bead”. Since each of the five outcomes has the same chance of occurring, we conclude that the probability is .4 for red and .6 for blue.</p>
<p>A more tangible way to think about the probability of an event is as the proportion of times the event occurs when we repeat the experiment an infinite number of times, independently, and under the same conditions.</p>
</div>
<div id="section-notation" class="section level3">
<h3>Notation</h3>
<p>We use the notation <span class="math inline">\(\mbox{Pr}(A)\)</span> to denote the probability of event <span class="math inline">\(A\)</span> happening. We use the very general term <em>event</em> to refer to things that can happen when something occurs by chance. In our previous example, the event was “picking a red bead”. In a political poll in which we call 100 likely voters at random, an example of an event is “calling 48 Democrats and 52 Republicans”.</p>
<p>In data science applications, we will often deal with continuous variables. These events will often be things like “is this person taller than 6 feet”. In this case, we write events in a more mathematical form: <span class="math inline">\(X \geq 6\)</span>. We will see more of these examples later. Here we focus on categorical data.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li>The <em>probability of an event</em> is the proportion of times the event occurs when we repeat the experiment independently under the same conditions.</li>
</ul>
<p><span class="math display">\[\mbox{Pr}(A) = \mbox{probability of event A}\]</span> - An <em>event</em> is defined as an outcome that can occur when when something happens by chance.</p>
<ul>
<li>We can determine probabilities related to discrete variables (picking a red bead, choosing 48 Democrats and 52 Republicans from 100 likely voters) and continuous variables (height over 6 feet).</li>
</ul>
</div>
<hr />
</div>
<div id="section-monte-carlo-simulations" class="section level3">
<h3>1.1 Monte Carlo Simulations</h3>
<p>Computers provide a way to actually perform the simple random experiment described above: pick a bead at random from a bag that contains three blue beads and two red ones. Random number generators permit us to mimic the process of picking at random.</p>
<p>An example is the <code>sample</code> function in R. We demonstrate its use in the code below. First, we use the function <code>rep</code> to generate the urn:</p>
<pre class="r"><code>beads &lt;- rep(c(&quot;red&quot;, &quot;blue&quot;), times = c(2,3))
beads</code></pre>
<pre><code>## [1] &quot;red&quot;  &quot;red&quot;  &quot;blue&quot; &quot;blue&quot; &quot;blue&quot;</code></pre>
<p>and then use <code>sample</code> to pick a bead at random:</p>
<pre class="r"><code>sample(beads, 1)</code></pre>
<pre><code>## [1] &quot;red&quot;</code></pre>
<p>This line of code produces one random outcome. We want to repeat this experiment an infinite number of times, but it is impossible to repeat forever. Instead, we repeat the experiment a large enough number of times to make the results practically equivalent to repeating forever. <strong>This is an example of a <em>Monte Carlo</em> simulation</strong>.</p>
<p>Much of what mathematical and theoretical statisticians study, which we do not cover in this course, relates to providing rigorous definitions of “practically equivalent” as well as studying how close a large number of experiments gets us to what happens in the limit. Later in this section, we provide a practical approach to deciding what is “large enough”.</p>
<p>To perform our first Monte Carlo simulation, we use the <code>replicate</code> function, which permits us to repeat the same task any number of times. Here, we repeat the random event <span class="math inline">\(B =\)</span> 10,000 times:</p>
<pre class="r"><code>B &lt;- 10000
events &lt;- replicate(B, sample(beads, 1))</code></pre>
<p>We can now see if our definition actually is in agreement with this Monte Carlo simulation approximation. We can use <code>table</code> to see the distribution:</p>
<pre class="r"><code>tab &lt;- table(events)
tab</code></pre>
<pre><code>## events
## blue  red 
## 6004 3996</code></pre>
<p>and <code>prop.table</code> gives us the proportions:</p>
<pre class="r"><code>prop.table(tab)</code></pre>
<pre><code>## events
##   blue    red 
## 0.6004 0.3996</code></pre>
<p>The numbers above are the estimated probabilities provided by this Monte Carlo simulation. Statistical theory, not covered here, tells us that as <span class="math inline">\(B\)</span> gets larger, the estimates get closer to 3/5=.6 and 2/5=.4.</p>
<p>Although this is a simple and not very useful example, we will use Monte Carlo simulations to estimate probabilities in cases in which it is harder to compute the exact ones. Before delving into more complex examples, we use simple ones to demonstrate the computing tools available in R.</p>
</div>
<div id="section-with-and-without-replacement" class="section level3">
<h3>With and without replacement</h3>
<p>The function <code>sample</code> has an argument that permits us to pick more than one element from the urn. However, by default, this selection occurs <em>without replacement</em>: after a bead is selected, it is not put back in the bag. Notice what happens when we ask to randomly select five beads:</p>
<pre class="r"><code>sample(beads, 5)</code></pre>
<pre><code>## [1] &quot;blue&quot; &quot;red&quot;  &quot;blue&quot; &quot;red&quot;  &quot;blue&quot;</code></pre>
<pre class="r"><code>sample(beads, 5)</code></pre>
<pre><code>## [1] &quot;red&quot;  &quot;blue&quot; &quot;red&quot;  &quot;blue&quot; &quot;blue&quot;</code></pre>
<pre class="r"><code>sample(beads, 5)</code></pre>
<pre><code>## [1] &quot;blue&quot; &quot;red&quot;  &quot;red&quot;  &quot;blue&quot; &quot;blue&quot;</code></pre>
<p>This results in rearrangements that always have three blue and two red beads. If we ask that six beads be selected, we get an error:</p>
<pre class="r"><code>sample(beads, 6)</code></pre>
<p><em>Error in sample.int(length(x), size, replace, prob) : cannot take a sample larger than the population when ’replace = FALSE</em></p>
<p>However, the <code>sample</code> function can be used directly, without the use of <code>replicate</code>, to repeat the same experiment of picking 1 out of the 5 beads, continually, under the same conditions. To do this, we sample <em>with replacement</em>: return the bead back to the urn after selecting it. We can tell <code>sample</code> to do this by changing the <code>replace</code> argument, which defaults to <code>FALSE</code>, to <code>replace = TRUE</code>:</p>
<pre class="r"><code>events &lt;- sample(beads, B, replace = TRUE)
prop.table(table(events))</code></pre>
<pre><code>## events
##   blue    red 
## 0.6052 0.3948</code></pre>
<p>Not surprisingly, we get results very similar to those previously obtained with <code>replicate</code>.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>Monte Carlo simulations model the probability of different outcomes by repeating a random process a large enough number of times that the results are similar to what would be observed if the process were repeated forever.</p></li>
<li><p>The <code>sample()</code> function draws random outcomes from a set of options.</p></li>
<li><p>The <code>replicate()</code> function repeats lines of code a set number of times. It is used with <code>sample()</code> and similar functions to run Monte Carlo simulations.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-setting-the-random-seed" class="section level3">
<h3>Setting the Random Seed</h3>
<div id="section-the-set.seed-function" class="section level4">
<h4><strong>The <code>set.seed()</code> function</strong></h4>
<p>Before we continue, we will briefly explain the following important line of code:</p>
<pre class="r"><code>set.seed(1986) </code></pre>
<p>Throughout this course, we use random number generators. This implies that many of the results presented can actually change by chance, which then suggests that a frozen version of the book may show a different result than what you obtain when you try to code as shown in the book. This is actually fine since the results are random and change from time to time. However, if you want to to ensure that results are exactly the same every time you run them, you can set <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>’s random number generation seed to a specific number. Above we set it to 1986. We want to avoid using the same seed every time. A popular way to pick the seed is the year - month - day. For example, we picked 1986 on December 20, 2018: 2018 − 12 − 20 = 1986.</p>
<p>You can learn more about setting the seed by looking at the documentation:</p>
<pre class="r"><code>?set.seed</code></pre>
</div>
<div id="section-important-note-on-seeds-in-r-3.5-and-r-3.6" class="section level4">
<h4><strong>Important note on seeds in R 3.5 and R 3.6</strong></h4>
<svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512">
<path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/>
</svg>
<p>was recently updated to version 3.6 in early 2019. In this update, the default method for setting the seed changed. This means that exercises, textbook excerpts and other code you encounter online may yield a different result based on your version of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>.</p>
<p>If you are running <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> 3.6, you can revert to the original seed setting behavior by adding the argument sample.kind=“Rounding”. For example:</p>
<pre class="r"><code>set.seed(1)
set.seed(1, sample.kind=&quot;Rounding&quot;)    # will make R 3.6 generate a seed as in R 3.5</code></pre>
<p>Using the <code>sample.kind="Rounding"</code> argument will generate a message:</p>
<p><code>non-uniform 'Rounding' sampler used</code></p>
<p>This is not a warning or a cause for alarm - it is a confirmation that <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> is using the alternate seed generation method, and you should expect to receive this message in your console.</p>
<p><strong>If you use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> 3.6, you should always use the second form of <code>set.seed()</code> in this course series (outside of DataCamp assignments).</strong> Failure to do so may result in an otherwise correct answer being rejected by the grader. In most cases where a seed is required, you will be reminded of this fact.</p>
</div>
</div>
<div id="section-using-the-mean-function-for-probability" class="section level3">
<h3>Using the <code>mean</code> Function for Probability</h3>
<div id="section-an-important-application-of-the-mean-function" class="section level4">
<h4><strong>An important application of the <code>mean()</code> function</strong></h4>
<p>In <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, applying the <code>mean()</code> function to a logical vector returns the proportion of elements that are <code>TRUE</code>. It is very common to use the <code>mean()</code> function in this way to calculate probabilities and we will do so throughout the course.</p>
<p>Suppose you have the vector <code>beads</code> from a previous section:</p>
<pre class="r"><code>beads &lt;- rep(c(&quot;red&quot;, &quot;blue&quot;), times = c(2,3))
beads
[1] &quot;red&quot; &quot;red&quot; &quot;blue&quot; &quot;blue&quot; &quot;blue&quot;</code></pre>
<p>To find the probability of drawing a blue bead at random, you can run:</p>
<pre class="r"><code>mean(beads == &quot;blue&quot;)
[1] 0.6</code></pre>
<p>This code is broken down into steps inside <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>. First, <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> evaluates the logical statement <code>beads == "blue"</code>, which generates the vector:</p>
<pre class="r"><code>FALSE FALSE TRUE TRUE TRUE</code></pre>
<p>When the <code>mean</code> function is applied, <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> coerces the logical values to numeric values, changing <code>TRUE</code> to 1 and <code>FALSE</code> to 0:</p>
<pre class="r"><code>0 0 1 1 1</code></pre>
<p>The mean of the zeros and ones thus gives the proportion of <code>TRUE</code> values. As we have learned and will continue to see, probabilities are directly related to the proportion of events that satisfy a requirement.</p>
</div>
</div>
<div id="section-probability-distributions" class="section level3">
<h3>Probability Distributions</h3>
<p>If we know the relative frequency of the different categories, defining a distribution for categorical outcomes is relatively straightforward. We simply assign a probability to each category. In cases that can be thought of as beads in an urn, for each bead type, their proportion defines the distribution.</p>
<p>If we are randomly calling likely voters from a population that is 44% Democrat, 44% Republican, 10% undecided, and 2% Green Party, these proportions define the probability for each group. The probability distribution is:</p>
<table>
<tbody>
<tr class="odd">
<td>Pr(picking a Republican)</td>
<td>=</td>
<td>0.44</td>
</tr>
<tr class="even">
<td>Pr(picking a Democrat)</td>
<td>=</td>
<td>0.44</td>
</tr>
<tr class="odd">
<td>Pr(picking an undecided)</td>
<td>=</td>
<td>0.10</td>
</tr>
<tr class="even">
<td>Pr(picking a Green)</td>
<td>=</td>
<td>0.02</td>
</tr>
</tbody>
</table>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The probability distribution for a variable describes the probability of observing each possible outcome.</p></li>
<li><p>For discrete categorical variables, the probability distribution is defined by the proportions for each group.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-independence" class="section level3">
<h3>Independence</h3>
<p>We say two events are independent if the outcome of one does not affect the other. The classic example is coin tosses. Every time we toss a fair coin, the probability of seeing heads is 1/2 regardless of what previous tosses have revealed. The same is true when we pick beads from an urn with replacement. In the example above, the probability of red is 0.40 regardless of previous draws.</p>
<p>Many examples of events that are not independent come from card games. When we deal the first card, the probability of getting a King is 1/13 since there are thirteen possibilities: Ace, Deuce, Three, <span class="math inline">\(\dots\)</span>, Ten, Jack, Queen, King, and Ace. Now if we deal a King for the first card, and don’t replace it into the deck, the probabilities of a second card being a King is less because there are only three Kings left: the probability is 3 out of 51. These events are therefore <strong>not independent</strong>: the first outcome affected the next one.</p>
<p>To see an extreme case of non-independent events, consider our example of drawing five beads at random <strong>without</strong> replacement:</p>
<pre class="r"><code>x &lt;- sample(beads, 5)</code></pre>
<p>If you have to guess the color of the first bead, you will predict blue since blue has a 60% chance. But if I show you the result of the last four outcomes:</p>
<pre class="r"><code>x[2:5]</code></pre>
<pre><code>## [1] &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;red&quot;</code></pre>
<p>would you still guess blue? Of course not. Now you know that the probability of red is 1 since the only bead left is red. The events are not independent, so the probabilities change.</p>
</div>
<div id="section-conditional-probabilities" class="section level3">
<h3>Conditional probabilities</h3>
<p>When events are not independent, <em>conditional probabilities</em> are useful. We already saw an example of a conditional probability: we computed the probability that a second dealt card is a King given that the first was a King. In probability, we use the following notation:</p>
<p><span class="math display">\[
\mbox{Pr}(\mbox{Card 2 is a king} \mid \mbox{Card 1 is a king}) = 3/51
\]</span></p>
<p>We use the <span class="math inline">\(\mid\)</span> as shorthand for “given that” or “conditional on”.</p>
<p>When two events, say <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, are independent, we have:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mid B) = \mbox{Pr}(A) 
\]</span></p>
<p>This is the mathematical way of saying: the fact that <span class="math inline">\(B\)</span> happened does not affect the probability of <span class="math inline">\(A\)</span> happening. In fact, this can be considered the mathematical definition of independence.</p>
</div>
<div id="section-addition-and-multiplication-rules" class="section level3">
<h3>Addition and multiplication rules</h3>
<div id="section-multiplication-rule" class="section level4">
<h4><strong>Multiplication rule</strong></h4>
<p>If we want to know the probability of two events, say <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, occurring, we can use the multiplication rule:</p>
<p><span class="math display">\[ 
\mbox{Pr}(A \mbox{ and } B) = \mbox{Pr}(A)\mbox{Pr}(B \mid A)
\]</span> Let’s use Blackjack as an example. In Blackjack, you are assigned two random cards. After you see what you have, you can ask for more. The goal is to get closer to 21 than the dealer, without going over. Face cards are worth 10 points and Aces are worth 11 or 1 (you choose).</p>
<p>So, in a Blackjack game, to calculate the chances of getting a 21 by drawing an Ace and then a face card, we compute the probability of the first being an Ace and multiply by the probability of drawing a face card or a 10 given that the first was an Ace: <span class="math inline">\(1/13 \times 16/51 \approx 0.025\)</span></p>
<p>The multiplication rule also applies to more than two events. We can use induction to expand for more events:</p>
<p><span class="math display">\[ 
\mbox{Pr}(A \mbox{ and } B \mbox{ and } C) = \mbox{Pr}(A)\mbox{Pr}(B \mid A)\mbox{Pr}(C \mid A \mbox{ and } B)
\]</span></p>
</div>
</div>
<div id="section-multiplication-rule-under-independence" class="section level3">
<h3>Multiplication rule under independence</h3>
<p>When we have independent events, then the multiplication rule becomes simpler:</p>
<p><span class="math display">\[ 
\mbox{Pr}(A \mbox{ and } B \mbox{ and } C) = \mbox{Pr}(A)\mbox{Pr}(B)\mbox{Pr}(C)
\]</span></p>
<p>But we have to be very careful before using this since assuming independence can result in very different and incorrect probability calculations when we don’t actually have independence.</p>
<p>As an example, imagine a court case in which the suspect was described as having a mustache and a beard. The defendant has a mustache and a beard and the prosecution brings in an “expert” to testify that 1/10 men have beards and 1/5 have mustaches, so using the multiplication rule we conclude that only <span class="math inline">\(1/10 \times 1/5\)</span> or 0.02 have both.</p>
<p>But to multiply like this we need to assume independence! Say the conditional probability of a man having a mustache conditional on him having a beard is .95. So the correct calculation probability is much higher: <span class="math inline">\(1/10 \times 95/100 = 0.095\)</span>.</p>
<p>The multiplication rule also gives us a general formula for computing conditional probabilities:</p>
<p><span class="math display">\[ 
\mbox{Pr}(B \mid A) = \frac{\mbox{Pr}(A \mbox{ and } B)}{ \mbox{Pr}(A)}
\]</span></p>
<p>To illustrate how we use these formulas and concepts in practice, we will use several examples related to card games.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><em>Conditional probabilities</em> compute the probability that an event occurs given information about dependent events. For example, the probability of drawing a second king given that the first draw is a king is:</li>
</ul>
<p><span class="math display">\[
\mbox{Pr}(\mbox{Card 2 is a king} \mid \mbox{Card 1 is a king}) = 3/51
\]</span></p>
<ul>
<li><p>If two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent, <span class="math inline">\(\mbox{Pr}(A \mid B) = \mbox{Pr}(A)\)</span>.</p></li>
<li><p>To determine the probability of multiple events occurring, we use the <em>multiplication rule</em>.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-assessment-introduction-to-discrete-probability" class="section level3">
<h3>1.1 Assessment: Introduction to Discrete Probability</h3>
<p>Insert assessment here</p>
</div>
<div id="section-datacamp-assessment-introduction-to-discrete-probability" class="section level3">
<h3>1.1 DataCamp Assessment: Introduction to Discrete Probability</h3>
<p>Insert assessment here</p>
</div>
<div id="section-combinations-and-permutations" class="section level3">
<h3>1.2 Combinations and Permutations</h3>
<p>In our very first example, we imagined an urn with five beads. As a reminder, to compute the probability distribution of one draw, we simply listed out all the possibilities. There were 5 and so then, for each event, we counted how many of these possibilities were associated with the event. The resulting probability of choosing a blue bead is 3/5 because out of the five possible outcomes, three were blue.</p>
<p>For more complicated cases, the computations are not as straightforward. For instance, what is the probability that if I draw five cards without replacement, I get all cards of the same suit, what is known as a “flush” in poker? In a discrete probability course you learn theory on how to make these computations. Here we focus on how to use R code to compute the answers.</p>
<p>First, let’s construct a deck of cards. For this, we will use the <code>expand.grid</code> and <code>paste</code> functions. We use <code>paste</code> to create strings by joining smaller strings. To do this, we take the number and suit of a card and create the card name like this:</p>
<pre class="r"><code>number &lt;- &quot;Three&quot;
suit &lt;- &quot;Hearts&quot;
paste(number, suit)</code></pre>
<pre><code>## [1] &quot;Three Hearts&quot;</code></pre>
<p><code>paste</code> also works on pairs of vectors performing the operation element-wise:</p>
<pre class="r"><code>paste(letters[1:5], as.character(1:5))</code></pre>
<pre><code>## [1] &quot;a 1&quot; &quot;b 2&quot; &quot;c 3&quot; &quot;d 4&quot; &quot;e 5&quot;</code></pre>
<p>The function <code>expand.grid</code> gives us all the combinations of entries of two vectors. For example, if you have blue and black pants and white, grey, and plaid shirts, all your combinations are:</p>
<pre class="r"><code>expand.grid(pants = c(&quot;blue&quot;, &quot;black&quot;), shirt = c(&quot;white&quot;, &quot;grey&quot;, &quot;plaid&quot;))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["pants"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["shirt"],"name":[2],"type":["fctr"],"align":["left"]}],"data":[{"1":"blue","2":"white"},{"1":"black","2":"white"},{"1":"blue","2":"grey"},{"1":"black","2":"grey"},{"1":"blue","2":"plaid"},{"1":"black","2":"plaid"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Here is how we generate a deck of cards:</p>
<pre class="r"><code>suits &lt;- c(&quot;Diamonds&quot;, &quot;Clubs&quot;, &quot;Hearts&quot;, &quot;Spades&quot;)
numbers &lt;- c(&quot;Ace&quot;, &quot;Deuce&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, &quot;Six&quot;, &quot;Seven&quot;, 
             &quot;Eight&quot;, &quot;Nine&quot;, &quot;Ten&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;)
deck &lt;- expand.grid(number=numbers, suit=suits)
deck &lt;- paste(deck$number, deck$suit)</code></pre>
<p>With the deck constructed, we can double check that the probability of a King in the first card is 1/13 by computing the proportion of possible outcomes that satisfy our condition:</p>
<pre class="r"><code>kings &lt;- paste(&quot;King&quot;, suits)
mean(deck %in% kings)</code></pre>
<pre><code>## [1] 0.07692308</code></pre>
<p>Now, how about the conditional probability of the second card being a King given that the first was a King? Earlier, we deduced that if one King is already out of the deck and there are 51 left, then this probability is 3/51. Let’s confirm by listing out all possible outcomes.</p>
<p>To do this, we can use the <code>permutations</code> function from the <strong>gtools</strong> package. For any list of size <code>n</code>, this function computes all the different combinations we can get when we select <code>r</code> items. Here are all the ways we can choose two numbers from a list consisting of <code>1,2,3</code>:</p>
<pre class="r"><code>library(gtools)
permutations(3, 2)</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    1
## [4,]    2    3
## [5,]    3    1
## [6,]    3    2</code></pre>
<p>Notice that the order matters here: 3,1 is different than 1,3. Also, note that (1,1), (2,2), and (3,3) do not appear because once we pick a number, it can’t appear again.</p>
<p>Optionally, we can add a vector. If you want to see five random seven digit phone numbers out of all possible phone numbers (without repeats), you can type:</p>
<pre class="r"><code>all_phone_numbers &lt;- permutations(10, 7, v = 0:9)
n &lt;- nrow(all_phone_numbers)
index &lt;- sample(n, 5)
all_phone_numbers[index,]</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
## [1,]    1    3    8    0    6    7    5
## [2,]    2    9    1    6    4    8    0
## [3,]    5    1    6    0    9    8    2
## [4,]    7    4    6    0    2    8    1
## [5,]    4    6    5    9    2    8    0</code></pre>
<p>Instead of using the numbers 1 through 10, the default, it uses what we provided through <code>v</code>: the digits 0 through 9.</p>
<p>To compute all possible ways we can choose two cards when the order matters, we type:</p>
<pre class="r"><code>hands &lt;- permutations(52, 2, v = deck)</code></pre>
<p>This is a matrix with two columns and 2652 rows. With a matrix we can get the first and second cards like this:</p>
<pre class="r"><code>first_card &lt;- hands[,1]
second_card &lt;- hands[,2]</code></pre>
<p>Now the cases for which the first hand was a King can be computed like this:</p>
<pre class="r"><code>kings &lt;- paste(&quot;King&quot;, suits)
sum(first_card %in% kings)</code></pre>
<pre><code>## [1] 204</code></pre>
<p>To get the conditional probability, we compute what fraction of these have a King in the second card:</p>
<pre class="r"><code>sum(first_card%in%kings &amp; second_card%in%kings) / sum(first_card%in%kings)</code></pre>
<pre><code>## [1] 0.05882353</code></pre>
<p>which is exactly 3/51, as we had already deduced. Notice that the code above is equivalent to:</p>
<pre class="r"><code>mean(first_card%in%kings &amp; second_card%in%kings) / mean(first_card%in%kings)</code></pre>
<pre><code>## [1] 0.05882353</code></pre>
<p>which uses <code>mean</code> instead of <code>sum</code> and is an R version of:</p>
<p><span class="math display">\[
\frac{\mbox{Pr}(A \mbox{ and } B)}{ \mbox{Pr}(A)}
\]</span></p>
<p>How about if the order doesn’t matter? For example, in Blackjack if you get an Ace and a face card in the first draw, it is called a <em>Natural 21</em> and you win automatically. If we wanted to compute the probability of this happening, we would enumerate the <em>combinations</em>, not the permutations, since the order does not matter.</p>
<pre class="r"><code>combinations(3,2)</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    3</code></pre>
<p>In the second line, the outcome does not include (2,1) because (1,2) already was enumerated. The same applies to (3,1) and (3,2).</p>
<p>So to compute the probability of a <em>Natural 21</em> in Blackjack, we can do this:</p>
<pre class="r"><code>aces &lt;- paste(&quot;Ace&quot;, suits)

facecard &lt;- c(&quot;King&quot;, &quot;Queen&quot;, &quot;Jack&quot;, &quot;Ten&quot;)
facecard &lt;- expand.grid(number = facecard, suit = suits)
facecard &lt;- paste(facecard$number, facecard$suit)

hands &lt;- combinations(52, 2, v = deck)
mean(hands[,1] %in% aces &amp; hands[,2] %in% facecard)</code></pre>
<pre><code>## [1] 0.04826546</code></pre>
<p>In the last line, we assume the Ace comes first. This is only because we know the way <code>combination</code> enumerates possibilities and it will list this case first. But to be safe, we could have written this and produced the same answer:</p>
<pre class="r"><code>mean((hands[,1] %in% aces &amp; hands[,2] %in% facecard) |
       (hands[,2] %in% aces &amp; hands[,1] %in% facecard))</code></pre>
<pre><code>## [1] 0.04826546</code></pre>
</div>
<div id="section-monte-carlo-example" class="section level3">
<h3>Monte Carlo example</h3>
<p>Instead of using <code>combinations</code> to deduce the exact probability of a Natural 21, we can use a Monte Carlo to estimate this probability. In this case, we draw two cards over and over and keep track of how many 21s we get. We can use the function sample to draw two cards without replacements:</p>
<pre class="r"><code>hand &lt;- sample(deck, 2)
hand</code></pre>
<pre><code>## [1] &quot;Queen Clubs&quot;  &quot;Seven Spades&quot;</code></pre>
<p>And then check if one card is an Ace and the other a face card or a 10. Going forward, we include 10 when we say <em>face card</em>. Now we need to check both possibilities:</p>
<pre class="r"><code>(hands[1] %in% aces &amp; hands[2] %in% facecard) | 
  (hands[2] %in% aces &amp; hands[1] %in% facecard)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>If we repeat this 10,000 times, we get a very good approximation of the probability of a Natural 21.</p>
<p>Let’s start by writing a function that draws a hand and returns TRUE if we get a 21. The function does not need any arguments because it uses objects defined in the global environment.</p>
<pre class="r"><code>blackjack &lt;- function(){
   hand &lt;- sample(deck, 2)
  (hand[1] %in% aces &amp; hand[2] %in% facecard) | 
    (hand[2] %in% aces &amp; hand[1] %in% facecard)
}</code></pre>
<p>Here we do have to check both possibilities: Ace first or Ace second because we are not using the <code>combinations</code> function. The function returns <code>TRUE</code> if we get a 21 and <code>FALSE</code> otherwise:</p>
<pre class="r"><code>blackjack()</code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>Now we can play this game, say, 10,000 times:</p>
<pre class="r"><code>B &lt;- 10000
results &lt;- replicate(B, blackjack())
mean(results)</code></pre>
<pre><code>## [1] 0.0475</code></pre>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p><code>paste()</code> joins two strings and inserts a space in between.</p></li>
<li><p><code>expand.grid()</code> gives the combinations of 2 vectors or lists.</p></li>
<li><p><code>permutations(n,r)</code> from the <strong>gtools</strong> package lists the different ways that r items can be selected from a set of n options when order matters.</p></li>
<li><p><code>combinations(n,r)</code> from the <strong>gtools</strong> package lists the different ways that r items can be selected from a set of n options when order does not matter.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-the-birthday-problem" class="section level3">
<h3>The Birthday Problem</h3>
<p>In this section, we describe two discrete probability popular examples: the Monty Hall problem and the birthday problem. We use R to help illustrate the mathematical concepts.</p>
<hr />
<p>Suppose you are in a classroom with 50 people. If we assume this is a randomly selected group of 50 people, what is the chance that at least two people have the same birthday? Although it is somewhat advanced, we can deduce this mathematically. We will do this later. Here we use a Monte Carlo simulation. For simplicity, we assume nobody was born on February 29. This actually doesn’t change the answer much.</p>
<p>First, note that birthdays can be represented as numbers between 1 and 365, so a sample of 50 birthdays can be obtained like this:</p>
<pre class="r"><code>n &lt;- 50
bdays &lt;- sample(1:365, n, replace = TRUE)</code></pre>
<p>To check if in this particular set of 50 people we have at least two with the same birthday, we can use the function <code>duplicated</code>, which returns <code>TRUE</code> whenever an element of a vector is a duplicate. Here is an example:</p>
<pre class="r"><code>duplicated(c(1,2,3,1,4,3,5))</code></pre>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<p>The second time 1 and 3 appear, we get a <code>TRUE</code>. So to check if two birthdays were the same, we simply use the <code>any</code> and <code>duplicated</code> functions like this:</p>
<pre class="r"><code>any(duplicated(bdays))</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>In this case, we see that it did happen. At least two people had the same birthday.</p>
<p>To estimate the probability of a shared birthday in the group, we repeat this experiment by sampling sets of 50 birthdays over and over:</p>
<pre class="r"><code>B &lt;- 10000
same_birthday &lt;- function(n){
  bdays &lt;- sample(1:365, n, replace=TRUE)
  any(duplicated(bdays))
}
results &lt;- replicate(B, same_birthday(50))
mean(results)</code></pre>
<pre><code>## [1] 0.9691</code></pre>
<p>Were you expecting the probability to be this high?</p>
<p>People tend to underestimate these probabilities. To get an intuition as to why it is so high, think about what happens when the group size is close to 365. At this stage, we run out of days and the probability is one.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p><code>duplicated()</code> takes a vector and returns a vector of the same length with TRUE for any elements that have appeared previously in that vector.</p></li>
<li><p>We can compute the probability of shared birthdays in a group of people by modeling birthdays as random draws from the numbers 1 through 365. We can then use this sampling model of birthdays to run a Monte Carlo simulation to estimate the probability of shared birthdays.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-sapply" class="section level3">
<h3>sapply</h3>
<p>Say we want to use this knowledge to bet with friends about two people having the same birthday in a group of people. When are the chances larger than 50%? Larger than 75%?</p>
<p>Let’s create a look-up table. We can quickly create a function to compute this for any group size:</p>
<pre class="r"><code>compute_prob &lt;- function(n, B=10000){
  results &lt;- replicate(B, same_birthday(n))
  mean(results)
}</code></pre>
<p>Using the function <code>sapply</code>, we can perform element-wise operations on any function:</p>
<pre class="r"><code>n &lt;- seq(1,60)
prob &lt;- sapply(n, compute_prob)</code></pre>
<p>We can now make a plot of the estimated probabilities of two people having the same birthday in a group of size <span class="math inline">\(n\)</span>:</p>
<pre class="r"><code>library(tidyverse)
prob &lt;- sapply(n, compute_prob)
qplot(n, prob)</code></pre>
<p><img src="datsci_03_files/figure-html/birthday-problem-mc-probabilities-1.png" width="624" /></p>
<p>Now let’s compute the exact probabilities rather than use Monte Carlo approximations. Not only do we get the exact answer using math, but the computations are much faster since we don’t have to generate experiments.</p>
<p>To make the math simpler, instead of computing the probability of it happening, we will compute the probability of it not happening. For this, we use the multiplication rule.</p>
<p>Let’s start with the first person. The probability that person 1 has a unique birthday is 1. The probability that person 2 has a unique birthday, given that person 1 already took one, is 364/365. Then, given that the first two people have unique birthdays, person 3 is left with 363 days to choose from. We continue this way and find the chances of all 50 people having a unique birthday is:</p>
<p><span class="math display">\[
1 \times \frac{364}{365}\times\frac{363}{365} \dots \frac{365-n + 1}{365}
\]</span></p>
<p>We can write a function that does this for any number:</p>
<pre class="r"><code>exact_prob &lt;- function(n){
  prob_unique &lt;- seq(365,365-n+1)/365 
  1 - prod( prob_unique)
}
eprob &lt;- sapply(n, exact_prob)
qplot(n, prob) + geom_line(aes(n, eprob), col = &quot;red&quot;)</code></pre>
<p><img src="datsci_03_files/figure-html/birthday-problem-exact-probabilities-1.png" width="624" /></p>
<p>This plot shows that the Monte Carlo simulation provided a very good estimate of the exact probability. Had it not been possible to compute the exact probabilities, we would have still been able to accurately estimate the probabilities.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>Some functions automatically apply element-wise to vectors, such as <code>sqrt()</code> and *. However, other functions do not operate element-wise by default. This includes functions we define ourselves.</p></li>
<li><p>The function <code>sapply(x, f)</code> allows any other function f to be applied element-wise to the vector x.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-how-many-monte-carlo-experiments-are-enough" class="section level3">
<h3>How Many Monte Carlo Experiments are Enough?</h3>
<p>The theory described here requires repeating experiments over and over forever. In practice we can’t do this. In the examples above, we used <span class="math inline">\(B=10,000\)</span> Monte Carlo experiments and it turned out that this provided accurate estimates. The larger this number, the more accurate the estimate becomes until the approximaton is so good that your computer can’t tell the difference. But in more complex calculations, 10,000 may not be nearly enough. Also, for some calculations, 10,000 experiments might not be computationally feasible. In practice, we won’t know what the answer is, so we won’t know if our Monte Carlo estimate is accurate. We know that the larger <span class="math inline">\(B\)</span>, the better the approximation. But how big do we need it to be? This is actually a challenging question and answering it often requires advanced theoretical statistics training.</p>
<p>One practical approach we will describe here is to check for the stability of the estimate. The following is an example with the birthday problem for a group of 25 people.</p>
<pre class="r"><code>B &lt;- 10^seq(1, 5, len = 100)
compute_prob &lt;- function(B, n=25){
  same_day &lt;- replicate(B, same_birthday(n))
  mean(same_day)
}
prob &lt;- sapply(B, compute_prob)
qplot(log10(B), prob, geom = &quot;line&quot;)</code></pre>
<p><img src="datsci_03_files/figure-html/monte-carlo-convergence-1.png" width="624" /></p>
<p>In this plot, we can see that the values start to stabilize (that is, they vary less than .01) around 1000. Note that the exact probability, which we know in this case, is 0.5686997.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The larger the number of Monte Carlo replicates <strong>𝐵</strong>, the more accurate the estimate.</p></li>
<li><p>Determining the appropriate size for <strong>𝐵</strong> can require advanced statistics.</p></li>
<li><p>One practical approach is to try many sizes for <strong>𝐵</strong> and look for sizes that provide stable estimates.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-datacamp-assessment-combinations-and-permutations" class="section level3">
<h3>1.2 DataCamp Assessment: Combinations and Permutations</h3>
<p>Insert assessment here</p>
</div>
<div id="section-the-addition-rule" class="section level3">
<h3>The Addition Rule</h3>
<p>The addition rule tells us that:</p>
<p><span class="math display">\[
\mbox{Pr}(A \mbox{ or } B) = \mbox{Pr}(A) + \mbox{Pr}(B) - \mbox{Pr}(A \mbox{ and } B)
\]</span></p>
<p>This rule is intuitive: think of a Venn diagram. If we simply add the probabilities, we count the intersection twice so we need to substract one instance.</p>
<p><img src="datsci_03_files/figure-html/venn-diagram-addition-rule-1.png" width="35%" /></p>
<div id="section-example-the-addition-rule-for-a-natural-21-in-blackjack" class="section level4">
<h4><strong>Example: The addition rule for a natural 21 in blackjack</strong></h4>
<p>We apply the addition rule where <strong>𝐴</strong> = drawing an ace then a facecard and <strong>𝐵</strong> = drawing a facecard then an ace. Note that in this case, both events A and B cannot happen at the same time, so Pr(<strong>𝐴</strong> and <strong>𝐵</strong>) = 0.</p>
<center>
<figure>
<img src="images/pic4.png" alt="R Studio" style="width:650px">
</figure>
</center>
</div>
</div>
<div id="section-the-monty-hall-problem" class="section level3">
<h3>The Monty Hall Problem</h3>
<p>In the 1970s, there was a game show called “Let’s Make a Deal” and Monty Hall was the host. At some point in the game, contestants were asked to pick one of three doors. Behind one door there was a prize. The other doors had a goat behind them to show the contestant they had lost. After the contestant picked a door, before revealing whether the chosen door contained a prize, Monty Hall would open one of the two remaining doors and show the contestant there was no prize behind that door. Then he would ask “Do you want to switch doors?” What would you do?</p>
<p>We can use probability to show that if you stick with the original door choice, your chances of winning a prize remain 1 in 3. However, if you switch to the other door, your chances of winning double to 2 in 3! This seems counterintuitive. Many people incorrectly think both chances are 1 in 2 since you are choosing between 2 options. You can watch a detailed mathematical explanation on <a href="https://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem">Khan Academy</a> or read one on <a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">Wikipedia</a>. Below we use a Monte Carlo simulation to see which strategy is better. Note that this code is written longer than it should be for pedagogical purposes.</p>
<p>Let’s start with the stick strategy:</p>
<pre class="r"><code>B &lt;- 10000
monty_hall &lt;- function(strategy){
  doors &lt;- as.character(1:3)
  prize &lt;- sample(c(&quot;car&quot;, &quot;goat&quot;, &quot;goat&quot;))
  prize_door &lt;- doors[prize == &quot;car&quot;]
  my_pick  &lt;- sample(doors, 1)
  show &lt;- sample(doors[!doors %in% c(my_pick, prize_door)],1)
  stick &lt;- my_pick
  stick == prize_door
  switch &lt;- doors[!doors%in%c(my_pick, show)]
  choice &lt;- ifelse(strategy == &quot;stick&quot;, stick, switch)
  choice == prize_door
}
stick &lt;- replicate(B, monty_hall(&quot;stick&quot;))
mean(stick)</code></pre>
<pre><code>## [1] 0.3336</code></pre>
<pre class="r"><code>switch &lt;- replicate(B, monty_hall(&quot;switch&quot;))
mean(switch)</code></pre>
<pre><code>## [1] 0.6631</code></pre>
<p>As we write the code, we note that the lines starting with <code>my_pick</code> and <code>show</code> have no influence on the last logical operation when we stick to our original choice anyway. From this we should realize that the chance is 1 in 3, what we began with. When we switch, the Monte Carlo estimate confirms the 2/3 calculation. This helps us gain some insight by showing that we are removing a door, <code>show</code>, that is definitely not a winner from our choices. We also see that unless we get it right when we first pick, you win: 1 - 1/3 = 2/3.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>Monte Carlo simulations can be used to simulate random outcomes, which makes them useful when exploring ambiguous or less intuitive problems like the Monty Hall problem.</p></li>
<li><p>In the Monty Hall problem, contestants choose one of three doors that may contain a prize. Then, one of the doors that was not chosen by the contestant and does not contain a prize is revealed. The contestant can then choose whether to stick with the original choice or switch to the remaining unopened door.</p></li>
<li><p>Although it may seem intuitively like the contestant has a 1 in 2 chance of winning regardless of whether they stick or switch, Monte Carlo simulations demonstrate that the actual probability of winning is 1 in 3 with the stick strategy and 2 in 3 with the switch strategy.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-datacamp-assessment-the-addition-rule-and-monty-hall" class="section level3">
<h3>1.3 DataCamp Assessment: The Addition Rule and Monty Hall</h3>
<p>Insert assessment here</p>
</div>
<div id="section-introduction" class="section level3">
<h3>Introduction</h3>
<p>The following assessments allow you to practice the probability and coding skills you’ve learned in Section 1: Discrete Probability. You will likely find it useful to try out code to answer the problems using <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> on your own machine.</p>
<p>You will benefit from using the following libraries:</p>
<pre class="r"><code>library(gtools)
library(tidyverse)</code></pre>
</div>
<div id="section-question-1-olympic-running" class="section level3">
<h3>1.4 Question 1: Olympic running</h3>
<p>Insert assessment here</p>
</div>
<div id="section-question-2-restaurant-management" class="section level3">
<h3>1.4 Question 2: Restaurant management</h3>
<p>Insert assessment here</p>
</div>
<div id="section-questions-3-and-4-esophageal-cancer-and-alcoholtobacco-use-part-1" class="section level3">
<h3>1.4 Questions 3 and 4: Esophageal cancer and alcohol/tobacco use, part 1</h3>
<p>Insert assessment here</p>
</div>
<div id="section-questions-5-and-6-esophageal-cancer-and-alcoholtobacco-use-part-2" class="section level3">
<h3>1.4 Questions 5 and 6: Esophageal cancer and alcohol/tobacco use, part 2</h3>
<p>Insert assessment here</p>
</div>
</div>
<div id="section-section-2-continuous-probability" class="section level2">
<h2>Section 2: Continuous Probability</h2>
<p>Section 2 introduces you to Continuous Probability.</p>
<p>After completing Section 2, you will:</p>
<ul>
<li><p>understand the differences between calculating probabilities for discrete and continuous data.</p></li>
<li><p>be able to use cumulative distribution functions to assign probabilities to intervals when dealing with continuous data.</p></li>
<li><p>be able to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to generate normally distributed outcomes for use in Monte Carlo simulations.</p></li>
<li><p>know some of the useful theoretical continuous distributions in addition to the normal distribution, such as the student-t, chi-squared, exponential, gamma, beta, and beta-binomial distributions.</p></li>
</ul>
<p>There is 1 assignment that uses the DataCamp platform for you to practice your coding skills as well as a set of questions at the end of section 3.</p>
<hr />
<div id="section-continuous-probability" class="section level3">
<h3>Continuous Probability</h3>
<p>In a previous <a href="https://rafalab.github.io/dsbook/distributions.html#cdf-intro">section - 8.4 Cumulative distribution functions</a>, we explained why when summarizing a list of numeric values, such as heights, it is not useful to construct a distribution that defines a proportion to each possible outcome. For example, if we measure every single person in a very large population of size <span class="math inline">\(n\)</span> with extremely high precision, since no two people are exactly the same height, we need to assign the proportion <span class="math inline">\(1/n\)</span> to each observed value and attain no useful summary at all. Similarly, when defining probability distributions, it is not useful to assign a very small probability to every single height.</p>
<p>Just as when using distributions to summarize numeric data, it is much more practical to define a function that operates on intervals rather than single values. The standard way of doing this is using the <em>cumulative distribution function</em> (CDF).</p>
<p>We described empirical cumulative distribution function (eCDF) in the textbook <a href="https://rafalab.github.io/dsbook/distributions.html#cdf-intro">(Section - 8.4 Cumulative distribution functions)</a> as a basic summary of a list of numeric values. As an example, we earlier defined the height distribution for adult male students. Here, we define the vector <span class="math inline">\(x\)</span> to contain these heights:</p>
<pre class="r"><code>library(tidyverse)
library(dslabs)
data(heights)
x &lt;- heights %&gt;% filter(sex==&quot;Male&quot;) %&gt;% pull(height)</code></pre>
<p>We defined the empirical distribution function as:</p>
<pre class="r"><code>F &lt;- function(a) mean(x&lt;=a)</code></pre>
<p>which, for any value <code>a</code>, gives the proportion of values in the list <code>x</code> that are smaller or equal than <code>a</code>.</p>
<p>Keep in mind that we have not yet introduced probability in the context of CDFs. Let’s do this by asking the following: if I pick one of the male students at random, what is the chance that he is taller than 70.5 inches? Because every student has the same chance of being picked, the answer to this is equivalent to the proportion of students that are taller than 70.5 inches. Using the CDF we obtain an answer by typing:</p>
<pre class="r"><code>1 - F(70)</code></pre>
<pre><code>## [1] 0.3768473</code></pre>
<p>Once a CDF is defined, we can use this to compute the probability of any subset. For instance, the probability of a student being between height <code>a</code> and height <code>b</code> is:</p>
<pre class="r"><code>F(b)-F(a)</code></pre>
<p>Because we can compute the probability for any possible event this way, the cumulative probability function defines the probability distribution for picking a height at random from our vector of heights <code>x</code>.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li>The <em>cumulative distribution function</em> (CDF) is a distribution function for continuous data <span class="math inline">\(x\)</span> that reports the proportion of the data below <span class="math inline">\(a\)</span> for all values of <span class="math inline">\(a\)</span>:</li>
</ul>
<p><span class="math display">\[F(a)=\mbox{Pr}(x \leq a)\]</span></p>
<ul>
<li>The CDF is the <em>probability distribution function</em> for continuous variables. For example, to determine the probability that a male student is taller than 70.5 inches given a vector of male heights 𝑥, we can use the CDF:</li>
</ul>
<p><span class="math display">\[\mbox{Pr}(x &gt; 70.5) = 1 - \mbox{Pr}(x \leq 70.5) = 1 - F(70.5)\]</span></p>
<ul>
<li>The probability that an observation is in between two values <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> is <span class="math inline">\(F(b)-F(a)\)</span>.</li>
</ul>
</div>
<hr />
</div>
<div id="section-theoretical-continuous-distribution" class="section level3">
<h3>Theoretical Continuous Distribution</h3>
<p>In the Data Visualization Module (datsci_02) we introduced the normal distribution as a useful approximation to many naturally occurring distributions, including that of height. The cumulative distribution for the normal distribution is defined by a mathematical formula which in R can be obtained with the function <code>pnorm</code>. We say that a random quantity is normally distributed with average <code>m</code> and standard deviation <code>s</code> if its probability distribution is defined by:</p>
<pre class="r"><code>F(a) = pnorm(a, m, s)</code></pre>
<p>This is useful because if we are willing to use the normal approximation for, say, height, we don’t need the entire dataset to answer questions such as: what is the probability that a randomly selected student is taller then 70 inches? We just need the average height and standard deviation:</p>
<pre class="r"><code>m &lt;- mean(x)
s &lt;- sd(x)
1 - pnorm(70.5, m, s)</code></pre>
<pre><code>## [1] 0.371369</code></pre>
<div id="section-theoretical-distributions-as-approximations" class="section level4">
<h4><strong>Theoretical distributions as approximations</strong></h4>
<p>The normal distribution is derived mathematically: we do not need data to define it. For practicing data scientists, almost everything we do involves data. Data is always, technically speaking, discrete. For example, we could consider our height data categorical with each specific height a unique category. The probability distribution is defined by the proportion of students reporting each height. Here is a plot of that probability distribution:</p>
<p><img src="datsci_03_files/figure-html/plot-of-height-frequencies-1.png" width="624" /></p>
<p>While most students rounded up their heights to the nearest inch, others reported values with more precision. One student reported his height to be 69.6850393700787, which is 177 centimeters. The probability assigned to this height is 0.0012315 or 1 in 812. The probability for 70 inches is much higher at 0.1059113, but does it really make sense to think of the probability of being exactly 70 inches as being different than 69.6850393700787? Clearly it is much more useful for data analytic purposes to treat this outcome as a continuous numeric variable, keeping in mind that very few people, or perhaps none, are exactly 70 inches, and that the reason we get more values at 70 is because people round to the nearest inch.</p>
<p>With continuous distributions, the probability of a singular value is not even defined. For example, it does not make sense to ask what is the probability that a normally distributed value is 70. Instead, we define probabilities for intervals. We thus could ask what is the probability that someone is between 69.5 and 70.5.</p>
<p>In cases like height, in which the data is rounded, the normal approximation is particularly useful if we deal with intervals that include exactly one round number. For example, the normal distribution is useful for approximating the proportion of students reporting values in intervals like the following three:</p>
<pre class="r"><code>mean(x &lt;= 68.5) - mean(x &lt;= 67.5)</code></pre>
<pre><code>## [1] 0.114532</code></pre>
<pre class="r"><code>mean(x &lt;= 69.5) - mean(x &lt;= 68.5)</code></pre>
<pre><code>## [1] 0.1194581</code></pre>
<pre class="r"><code>mean(x &lt;= 70.5) - mean(x &lt;= 69.5)</code></pre>
<pre><code>## [1] 0.1219212</code></pre>
<p>Note how close we get with the normal approximation:</p>
<pre class="r"><code>pnorm(68.5, m, s) - pnorm(67.5, m, s) </code></pre>
<pre><code>## [1] 0.1031077</code></pre>
<pre class="r"><code>pnorm(69.5, m, s) - pnorm(68.5, m, s) </code></pre>
<pre><code>## [1] 0.1097121</code></pre>
<pre class="r"><code>pnorm(70.5, m, s) - pnorm(69.5, m, s) </code></pre>
<pre><code>## [1] 0.1081743</code></pre>
<p>However, the approximation is not as useful for other intervals. For instance, notice how the approximation breaks down when we try to estimate:</p>
<pre class="r"><code>mean(x &lt;= 70.9) - mean(x&lt;=70.1)</code></pre>
<pre><code>## [1] 0.02216749</code></pre>
<p>with</p>
<pre class="r"><code>pnorm(70.9, m, s) - pnorm(70.1, m, s)</code></pre>
<pre><code>## [1] 0.08359562</code></pre>
<p>In general, we call this situation <em>discretization</em>. Although the true height distribution is continuous, the reported heights tend to be more common at discrete values, in this case, due to rounding. As long as we are aware of how to deal with this reality, the normal approximation can still be a very useful tool.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p><code>pnorm(a, avg, s)</code> gives the value of the cumulative distribution function <span class="math inline">\(F(a)\)</span> for the normal distribution defined by average <code>avg</code> and standard deviation s.</p></li>
<li><p>We say that a random quantity is normally distributed with average avg and standard deviation s if the approximation <code>pnorm(a, avg, s)</code> holds for all values of a.</p></li>
<li><p>If we are willing to use the normal approximation for height, we can estimate the distribution simply from the mean and standard deviation of our values.</p></li>
<li><p>If we treat the height data as discrete rather than categorical, we see that the data are not very useful because integer values are more common than expected due to rounding. This is called <em>discretization</em>.</p></li>
<li><p>With rounded data, the normal approximation is particularly useful when computing probabilities of intervals of length 1 that include exactly one integer.</p></li>
</ul>
</div>
<hr />
</div>
</div>
<div id="section-probability-density" class="section level3">
<h3>2.1 Probability Density</h3>
<p>For categorical distributions, we can define the probability of a category. For example, a roll of a die, let’s call it <span class="math inline">\(X\)</span>, can be 1,2,3,4,5 or 6. The probability of 4 is defined as:</p>
<p><span class="math display">\[
\mbox{Pr}(X=4) = 1/6
\]</span></p>
<p>The CDF can then easily be defined: <span class="math display">\[
F(4) = \mbox{Pr}(X\leq 4) =  \mbox{Pr}(X = 4) +  \mbox{Pr}(X = 3) +  \mbox{Pr}(X = 2) +  \mbox{Pr}(X = 1) 
\]</span></p>
<p>Although for continuous distributions the probability of a single value <span class="math inline">\(\mbox{Pr}(X=x)\)</span> is not defined, there is a theoretical definition that has a similar interpretation. The probability density at <span class="math inline">\(x\)</span> is defined as the function <span class="math inline">\(f(a)\)</span> such that:</p>
<p><span class="math display">\[
F(a) = \mbox{Pr}(X\leq a) = \int_{-\infty}^a f(x)\, dx
\]</span></p>
<p>For those that know calculus, remember that the integral is related to a sum: it is the sum of bars with widths approximating 0. If you don’t know calculus, you can think of <span class="math inline">\(f(x)\)</span> as a curve for which the area under that curve up to the value <span class="math inline">\(a\)</span>, gives you the probability <span class="math inline">\(\mbox{Pr}(X\leq a)\)</span>.</p>
<p>For example, to use the normal approximation to estimate the probability of someone being taller than 76 inches, we use:</p>
<pre class="r"><code>1 - pnorm(76, m, s)</code></pre>
<pre><code>## [1] 0.03206008</code></pre>
<p>which mathematically is the grey area below:</p>
<p><img src="datsci_03_files/figure-html/intergrals-1.png" width="624" /></p>
<p>The curve you see is the probability density for the normal distribution. In R, we get this using the function <code>dnorm</code>.</p>
<p>Although it may not be immediately obvious why knowing about probability densities is useful, understanding this concept will be essential to those wanting to fit models to data for which predefined functions are not available.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The probability of a single value is not defined for a continuous distribution.</p></li>
<li><p>The quantity with the most similar interpretation to the probability of a single value is the probability density function <span class="math inline">\(f(x)\)</span>.</p></li>
<li><p>The probability density <span class="math inline">\(f(x)\)</span> is defined such that the integral of <span class="math inline">\(f(x)\)</span> over a range gives the CDF of that range.</p></li>
</ul>
<p><span class="math display">\[
F(a) = \mbox{Pr}(X\leq a) = \int_{-\infty}^a f(x)\, dx
\]</span></p>
<ul>
<li><p>In <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, the probability density function for the normal distribution is given by <code>dnorm()</code>. We will see uses of <code>dnorm()</code> in the future.</p></li>
<li><p>Note that <code>dnorm()</code> gives the density function and <code>pnorm()</code> gives the distribution function, which is the integral of the density function.</p></li>
</ul>
</div>
</div>
<div id="section-plotting-the-probability-density" class="section level3">
<h3>Plotting the Probability Density</h3>
<div id="section-plotting-the-probability-density-for-the-normal-distribution" class="section level4">
<h4><strong>Plotting the probability density for the normal distribution</strong></h4>
<p>We can use <code>dnorm()</code> to plot the density curve for the normal distribution. <code>dnorm(z)</code> gives the probability density <span class="math inline">\(f(z)\)</span> of a certain z-score, so we can draw a curve by calculating the density over a range of possible values of z.</p>
<p>First, we generate a series of z-scores covering the typical range of the normal distribution. Since we know 99.7% of observations will be within <span class="math inline">\(-3 \leq z \leq 3\)</span> −3 ≤ 𝑧 ≤ 3, we can use a value of <span class="math inline">\(z\)</span> slightly larger than 3 and this will cover most likely values of the normal distribution. Then, we calculate <span class="math inline">\(f(z)\)</span>, which is <code>dnorm()</code> of the series of z-scores. Last, we plot <span class="math inline">\(z\)</span> against <span class="math inline">\(f(z)\)</span>.</p>
<pre class="r"><code>library(tidyverse)
x &lt;- seq(-4, 4, length = 100)
data.frame(x, f = dnorm(x)) %&gt;%
    ggplot(aes(x, f)) +
    geom_line()</code></pre>
<p><img src="datsci_03_files/figure-html/unnamed-chunk-58-1.png" width="624" /></p>
<p>Note that <code>dnorm()</code> gives densities for the standard normal distribution by default. Probabilities for alternative normal distributions with mean mu and standard deviation sigma can be evaluated with:</p>
<pre class="r"><code>dnorm(z, mu, sigma)</code></pre>
</div>
</div>
<div id="section-monte-carlo-simulations-1" class="section level3">
<h3>2.1 Monte Carlo Simulations</h3>
<p>R provides functions to generate normally distributed outcomes. Specifically, the <code>rnorm</code> function takes three arguments: size, average (defaults to 0), and standard deviation (defaults to 1) and produces random numbers. Here is an example of how we could generate data that looks like our reported heights:</p>
<pre class="r"><code>n &lt;- length(x)
m &lt;- mean(x)
s &lt;- sd(x)
simulated_heights &lt;- rnorm(n, m, s)</code></pre>
<p>Not surprisingly, the distribution looks normal:</p>
<p><img src="datsci_03_files/figure-html/simulated-heights-1.png" width="624" /></p>
<p>This is one of the most useful functions in R as it will permit us to generate data that mimics natural events and answers questions related to what could happen by chance by running Monte Carlo simulations.</p>
<p>If, for example, we pick 800 males at random, what is the distribution of the tallest person? How rare is a seven footer in a group of 800 males? The following Monte Carlo simulation helps us answer that question:</p>
<pre class="r"><code>B &lt;- 10000
tallest &lt;- replicate(B, {
  simulated_data &lt;- rnorm(800, m, s)
  max(simulated_data)
})</code></pre>
<p>Having a seven footer is quite rare:</p>
<pre class="r"><code>mean(tallest &gt;= 7*12)</code></pre>
<pre><code>## [1] 0</code></pre>
<p>Here is the resulting distribution:</p>
<p><img src="datsci_03_files/figure-html/simulated-tallest-height-1.png" width="624" /></p>
<p>Note that it does not look normal.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p><code>rnorm(n, avg, s)</code> generates n random numbers from the normal distribution with average avg and standard deviation s.</p></li>
<li><p>By generating random numbers from the normal distribution, we can simulate height data with similar properties to our dataset. Here we generate simulated height data using the normal distribution.</p></li>
</ul>
</div>
</div>
<div id="section-other-continuous-distributions" class="section level3">
<h3>2.1 Other Continuous Distributions</h3>
<p>We introduced the normal distribution in the data visualization module (datsci_02; <a href="https://rafalab.github.io/dsbook/distributions.html#normal-distribution">textbook section - 8.8 The normal distribution</a>) and used it as an example above. The normal distribution is not the only useful theoretical distribution. Other continuous distributions that we may encounter are the student-t, Chi-square, exponential, gamma, beta, and beta-binomial. R provides functions to compute the density, the quantiles, the cumulative distribution functions and to generate Monte Carlo simulations. R uses a convention that lets us remember the names, namely using the letters <code>d</code>, <code>q</code>, <code>p</code>, and <code>r</code> in front of a shorthand for the distribution. We have already seen the functions <code>dnorm</code>, <code>pnorm</code>, and <code>rnorm</code> for the normal distribution. The functions <code>qnorm</code> gives us the quantiles. We can therefore draw a distribution like this:</p>
<pre class="r"><code>x &lt;- seq(-4, 4, length.out = 100)
qplot(x, f, geom = &quot;line&quot;, data = data.frame(x, f = dnorm(x)))</code></pre>
<p>For the student-t, described later in <a href="https://rafalab.github.io/dsbook/models.html#t-dist">textbook section - 16.10 The t-distribution</a>, the shorthand <code>t</code> is used so the functions are <code>dt</code> for the density, <code>qt</code> for the quantiles, <code>pt</code> for the cumulative distribution function, and <code>rt</code> for Monte Carlo simulation.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>You may encounter other continuous distributions (Student t, chi-squared, exponential, gamma, beta, etc.).</p></li>
<li><p>R provides functions for density (d), quantile (q), probability distribution (p) and random number generation (r) for many of these distributions.</p></li>
<li><p>Each distribution has a matching abbreviation (for example, <code>norm()</code> or <code>t()</code>) that is paired with the related function abbreviations (<strong>d, p, q, r</strong>) to create appropriate functions.</p></li>
<li><p>For example, use <code>rt()</code> to generate random numbers for a Monte Carlo simulation using the Student t distribution.</p></li>
</ul>
</div>
</div>
<div id="section-datacamp-assessment-continuous-probability" class="section level3">
<h3>2.1 DataCamp Assessment: Continuous Probability</h3>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-questions-1-and-2-act-scores-part-1" class="section level3">
<h3>2.2 Assessment: Questions 1 and 2: ACT scores, part 1</h3>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-questions-3-and-4-act-scores-part-2" class="section level3">
<h3>2.2 Assessment: Questions 3 and 4: ACT scores, part 2</h3>
<p>Insert assessment here</p>
</div>
</div>
<div id="section-section-3-random-variables-sampling-models-and-the-central-limit-theorem" class="section level2">
<h2>Section 3: Random Variables, Sampling Models, and The Central Limit Theorem</h2>
<p>Section 3 introduces you to Random Variables, Sampling Models, and the Central Limit Theorem.</p>
<p>Section 3 is divided into two parts:</p>
<p>1. Random Variables and Sampling Models</p>
<p>2. The Central Limit Theorem.</p>
<p>After completing Section 3, you will:</p>
<ul>
<li><p>understand what random variables are, how to generate them, and the correct mathematical notation to use with them.</p></li>
<li><p>be able to use sampling models to estimate characteristics of a larger population.</p></li>
<li><p>be able to explain the difference between a distribution and a probability distribution.</p></li>
<li><p>understand the Central Limit Theorem and the law of large numbers.</p></li>
</ul>
<p>There are 2 assignments that use the DataCamp platform for you to practice your coding skills as well as a set of questions at the end of section 3.</p>
<p>This section corresponds to <a href="https://rafalab.github.io/dsbook/random-variables.html">the following section of the course textbook</a>.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
<hr />
<div id="section-random-variables" class="section level3">
<h3>3.1 Random Variables</h3>
<p>Random variables are numeric outcomes resulting from random processes. We can easily generate random variables using some of the simple examples we have shown. For example, define <code>X</code> to be 1 if a bead is blue and red otherwise:</p>
<pre class="r"><code>beads &lt;- rep( c(&quot;red&quot;, &quot;blue&quot;), times = c(2,3))
X &lt;- ifelse(sample(beads, 1) == &quot;blue&quot;, 1, 0)</code></pre>
<p>Here <code>X</code> is a random variable: every time we select a new bead the outcome changes randomly. See below:</p>
<pre class="r"><code>ifelse(sample(beads, 1) == &quot;blue&quot;, 1, 0)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>ifelse(sample(beads, 1) == &quot;blue&quot;, 1, 0)</code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code>ifelse(sample(beads, 1) == &quot;blue&quot;, 1, 0)</code></pre>
<pre><code>## [1] 0</code></pre>
<p>Sometimes it’s 1 and sometimes it’s 0.</p>
<p>In data science, we often deal with data that is affected by chance in some way: the data comes from a random sample, the data is affected by measurement error, or the data measures some outcome that is random in nature. Being able to quantify the uncertainty introduced by randomness is one of the most important jobs of a data analyst. Statistical inference offers a framework, as well as several practical tools, for doing this. The first step is to learn how to mathematically describe random variables.</p>
<p>In this section, we introduce random variables and their properties starting with their application to games of chance. We then describe some of the events surrounding the <a href="https://en.wikipedia.org/w/index.php?title=Financial_crisis_of_2007%E2%80%932008">financial crisis of 2007-2008</a> using probability theory. This <a href="https://en.wikipedia.org/w/index.php?title=Security_(finance)">financial crisis was in part caused by underestimating the risk of certain securities</a> sold by financial institutions. Specifically, the risks of mortgage-backed securities (MBS) and collateralized debt obligations (CDO) were grossly underestimated. These assets were sold at prices that assumed most homeowners would make their monthly payments, and the probability of this not occurring was calculated as being low. A combination of factors resulted in many more defaults than were expected, which led to a price crash of these securities. As a consequence, banks lost so much money that they needed government bailouts to avoid closing down completely.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>Random variables are numeric outcomes resulting from random processes.</p></li>
<li><p>Statistical inference offers a framework for quantifying uncertainty due to randomness.</p></li>
</ul>
</div>
</div>
<div id="section-sampling-models" class="section level3">
<h3>3.1 Sampling Models</h3>
<p>Many data generation procedures, those that produce the data we study, can be modeled quite well as draws from an urn. For instance, we can model the process of polling likely voters as drawing 0s (Republicans) and 1s (Democrats) from an urn containing the 0 and 1 code for all likely voters. In epidemiological studies, we often assume that the subjects in our study are a random sample from the population of interest. The data related to a specific outcome can be modeled as a random sample from an urn containing the outcome for the entire population of interest. Similarly, in experimental research, we often assume that the individual organisms we are studying, for example worms, flies, or mice, are a random sample from a larger population. Randomized experiments can also be modeled by draws from an urn given the way individuals are assigned into groups: when getting assigned, you draw your group at random. Sampling models are therefore ubiquitous in data science. Casino games offer a plethora of examples of real-world situations in which sampling models are used to answer specific questions. We will therefore start with such examples.</p>
<p>Suppose a very small casino hires you to consult on whether they should set up roulette wheels. To keep the example simple, we will assume that 1,000 people will play and that the only game you can play on the roulette wheel is to bet on red or black. The casino wants you to predict how much money they will make or lose. They want a range of values and, in particular, they want to know what’s the chance of losing money. If this probability is too high, they will pass on installing roulette wheels.</p>
<p>We are going to define a random variable <span class="math inline">\(S\)</span> that will represent the casino’s total winnings. Let’s start by constructing the urn. A roulette wheel has 18 red pockets, 18 black pockets and 2 green ones. So playing a color in one game of roulette is equivalent to drawing from this urn:</p>
<pre class="r"><code>color &lt;- rep(c(&quot;Black&quot;, &quot;Red&quot;, &quot;Green&quot;), c(18, 18, 2))</code></pre>
<p>The 1,000 outcomes from 1,000 people playing are independent draws from this urn. If red comes up, the gambler wins and the casino loses a dollar, so we draw a -$1. Otherwise, the casino wins a dollar and we draw a $1. To construct our random variable <span class="math inline">\(S\)</span>, we can use this code:</p>
<pre class="r"><code>n &lt;- 1000
X &lt;- sample(ifelse(color == &quot;Red&quot;, -1, 1),  n, replace = TRUE)
X[1:10]</code></pre>
<pre><code>##  [1] -1  1  1 -1 -1 -1  1  1  1  1</code></pre>
<p>Because we know the proportions of 1s and -1s, we can generate the draws with one line of code, without defining <code>color</code>:</p>
<pre class="r"><code>X &lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))</code></pre>
<p>We call this a <strong>sampling model</strong> since we are modeling the random behavior of roulette with the sampling of draws from an urn. The total winnings <span class="math inline">\(S\)</span> is simply the sum of these 1,000 independent draws:</p>
<pre class="r"><code>X &lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))
S &lt;- sum(X)
S</code></pre>
<pre><code>## [1] 22</code></pre>
</div>
<div id="section-the-probability-distribution-of-a-random-variable" class="section level3">
<h3>The probability distribution of a random variable</h3>
<p>If you run the code above, you see that <span class="math inline">\(S\)</span> changes every time. This is, of course, because <span class="math inline">\(S\)</span> is a <strong>random variable</strong>. The probability distribution of a random variable tells us the probability of the observed value falling at any given interval. So, for example, if we want to know the probability that we lose money, we are asking the probability that <span class="math inline">\(S\)</span> is in the interval <span class="math inline">\(S&lt;0\)</span>.</p>
<p>Note that if we can define a cumulative distribution function <span class="math inline">\(F(a) = \mbox{Pr}(S\leq a)\)</span>, then we will be able to answer any question related to the probability of events defined by our random variable <span class="math inline">\(S\)</span>, including the event <span class="math inline">\(S&lt;0\)</span>. We call this <span class="math inline">\(F\)</span> the random variable’s <em>distribution function</em>.</p>
<p>We can estimate the distribution function for the random variable <span class="math inline">\(S\)</span> by using a Monte Carlo simulation to generate many realizations of the random variable. With this code, we run the experiment of having 1,000 people play roulette, over and over, specifically <span class="math inline">\(B = 10,000\)</span> times:</p>
<pre class="r"><code>n &lt;- 1000
B &lt;- 10000
roulette_winnings &lt;- function(n){
  X &lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))
  sum(X)
}
S &lt;- replicate(B, roulette_winnings(n))</code></pre>
<p>Now we can ask the following: in our simulations, how often did we get sums less than or equal to <code>a</code>?</p>
<pre class="r"><code>mean(S &lt;= a)</code></pre>
<p>This will be a very good approximation of <span class="math inline">\(F(a)\)</span> and we can easily answer the casino’s question: how likely is it that we will lose money? We can see it is quite low:</p>
<pre class="r"><code>mean(S&lt;0)</code></pre>
<pre><code>## [1] 0.0456</code></pre>
<p>We can visualize the distribution of <span class="math inline">\(S\)</span> by creating a histogram showing the probability <span class="math inline">\(F(b)-F(a)\)</span> for several intervals <span class="math inline">\((a,b]\)</span>:</p>
<p><img src="datsci_03_files/figure-html/normal-approximates-distribution-1.png" width="624" /></p>
<p>We see that the distribution appears to be approximately normal. A qq-plot will confirm that the normal approximation is close to a perfect approximation for this distribution. If, in fact, the distribution is normal, then all we need to define the distribution is the average and the standard deviation. Because we have the original values from which the distribution is created, we can easily compute these with <code>mean(S)</code> and <code>sd(S)</code>. The blue curve you see added to the histogram above is a normal density with this average and standard deviation.</p>
<p>This average and this standard deviation have special names. They are referred to as the <em>expected value</em> and <em>standard error</em> of the random variable <span class="math inline">\(S\)</span>. We will say more about these in the next section.</p>
<p>Statistical theory provides a way to derive the distribution of random variables defined as independent random draws from an urn. Specifically, in our example above, we can show that <span class="math inline">\((S+n)/2\)</span> follows a binomial distribution. We therefore do not need to run for Monte Carlo simulations to know the probability distribution of <span class="math inline">\(S\)</span>. We did this for illustrative purposes.</p>
<p>We can use the function <code>dbinom</code> and <code>pbinom</code> to compute the probabilities exactly. For example, to compute <span class="math inline">\(\mbox{Pr}(S &lt; 0)\)</span> we note that:</p>
<p><span class="math display">\[\mbox{Pr}(S &lt; 0) = \mbox{Pr}((S+n)/2 &lt; (0+n)/2)\]</span></p>
<p>and we can use the <code>pbinom</code> to compute <span class="math display">\[\mbox{Pr}(S \leq 0)\]</span></p>
<pre class="r"><code>n &lt;- 1000
pbinom(n/2, size = n, prob = 10/19)</code></pre>
<pre><code>## [1] 0.05109794</code></pre>
<p>Because this is a discrete probability function, to get <span class="math inline">\(\mbox{Pr}(S &lt; 0)\)</span> rather than <span class="math inline">\(\mbox{Pr}(S \leq 0)\)</span>, we write:</p>
<pre class="r"><code>pbinom(n/2-1, size = n, prob = 10/19)</code></pre>
<pre><code>## [1] 0.04479591</code></pre>
<p>For the details of the binomial distribution, you can consult any basic probability book or even <a href="https://en.wikipedia.org/w/index.php?title=Binomial_distribution">Wikipedia</a>.</p>
<p>Here we do not cover these details. Instead, we will discuss an incredibly useful approximation provided by mathematical theory that applies generally to sums and averages of draws from any urn: the Central Limit Theorem (CLT).</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>A sampling model models the random behavior of a process as the sampling of draws from an urn.</p></li>
<li><p>The <strong>probability distribution of a random variable</strong> is the probability of the observed value falling in any given interval.</p></li>
<li><p>We can define a CDF 𝐹(𝑎) = Pr(𝑆 ≤ 𝑎) to answer questions related to the probability of S being in any interval.</p></li>
<li><p>The average of many draws of a random variable is called its <strong>expected value</strong>.</p></li>
<li><p>The standard deviation of many draws of a random variable is called its <strong>standard error</strong>.</p></li>
</ul>
</div>
</div>
<div id="section-distributions-versus-probability-distributions" class="section level3">
<h3>3.1 Distributions versus Probability Distributions</h3>
<p>Before we continue, let’s make an important distinction and connection between the distribution of a list of numbers and a probability distribution. In the visualization section, we described how any list of numbers <span class="math inline">\(x_1,\dots,x_n\)</span> has a distribution. The definition is quite straightforward. We define <span class="math inline">\(F(a)\)</span> as the function that tells us what proportion of the list is less than or equal to <span class="math inline">\(a\)</span>. Because they are useful summaries when the distribution is approximately normal, we define the average and standard deviation. These are defined with a straightforward operation of the vector containing the list of numbers <code>x</code>:</p>
<pre class="r"><code>m &lt;- sum(x)/length(x)
s &lt;- sqrt(sum((x - m)^2) / length(x))</code></pre>
<p>A random variable <span class="math inline">\(X\)</span> has a distribution function. To define this, we do not need a list of numbers. It is a theoretical concept. In this case, we define the distribution as the <span class="math inline">\(F(a)\)</span> that answers the question: what is the probability that <span class="math inline">\(X\)</span> is less than or equal to <span class="math inline">\(a\)</span>? There is no list of numbers.</p>
<p>However, if <span class="math inline">\(X\)</span> is defined by drawing from an urn with numbers in it, then there is a list: the list of numbers inside the urn. In this case, the distribution of that list is the probability distribution of <span class="math inline">\(X\)</span> and the average and standard deviation of that list are the expected value and standard error of the random variable.</p>
<p>Another way to think about it that does not involve an urn is to run a Monte Carlo simulation and generate a very large list of outcomes of <span class="math inline">\(X\)</span>. These outcomes are a list of numbers. The distribution of this list will be a very good approximation of the probability distribution of <span class="math inline">\(X\)</span>. The longer the list, the better the approximation. The average and standard deviation of this list will approximate the expected value and standard error of the random variable.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>A random variable 𝑋 has a probability distribution function 𝐹(𝑎) that defines Pr(𝑋 ≤ 𝑎) over all values of 𝑎.</p></li>
<li><p>Any list of numbers has a distribution. The probability distribution function of a random variable is defined mathematically and does not depend on a list of numbers.</p></li>
<li><p>The results of a Monte Carlo simulation with a large enough number of observations will approximate the probability distribution of 𝑋.</p></li>
<li><p>If a random variable is defined as draws from an urn:</p>
<ul>
<li>The probability distribution function of the random variable is defined as the distribution of the list of values in the urn.</li>
<li>The expected value of the random variable is the average of values in the urn.</li>
<li>The standard error of one draw of the random variable is the standard deviation of the values of the urn.</li>
</ul></li>
</ul>
</div>
</div>
<div id="section-notation-for-random-variables" class="section level3">
<h3>3.1 Notation for Random Variables</h3>
<p>In statistical textbooks, upper case letters are used to denote random variables and we follow this convention here. Lower case letters are used for observed values. You will see some notation that includes both. For example, you will see events defined as <span class="math inline">\(X \leq x\)</span>. Here <span class="math inline">\(X\)</span> is a random variable, making it a random event, and <span class="math inline">\(x\)</span> is an arbitrary value and not random. So, for example, <span class="math inline">\(X\)</span> might represent the number on a die roll and <span class="math inline">\(x\)</span> will represent an actual value we see 1, 2, 3, 4, 5, or 6. So in this case, the probability of <span class="math inline">\(X=x\)</span> is 1/6 regardless of the observed value <span class="math inline">\(x\)</span>. This notation is a bit strange because, when we ask questions about probability, <span class="math inline">\(X\)</span> is not an observed quantity. Instead, it’s a random quantity that we will see in the future. We can talk about what we expect it to be, what values are probable, but not what it is. But once we have data, we do see a realization of <span class="math inline">\(X\)</span>. So data scientists talk of what could have been after we see what actually happened.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>Capital letters denote random variables (𝑋) and lowercase letters denote observed values (𝑥).</p></li>
<li><p>In the notation Pr(𝑋 = 𝑥), we are asking how frequently the random variable 𝑋 is equal to the value 𝑥. For example, if 𝑥 = 6, this statement becomes Pr(𝑋 = 6).</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-central-limit-theorem" class="section level3">
<h3>3.1 Central Limit Theorem</h3>
<p>The Central Limit Theorem (CLT) tells us that when the number of draws, also called the <em>sample size</em>, is large, the probability distribution of the sum of the independent draws is approximately normal. Because sampling models are used for so many data generation processes, the CLT is considered one of the most important mathematical insights in history.</p>
<p>Previously, we discussed that if we know that the distribution of a list of numbers is approximated by the normal distribution, all we need to describe the list are the average and standard deviation. We also know that the same applies to probability distributions. If a random variable has a probability distribution that is approximated with the normal distribution, then all we need to describe the probability distribution are the average and standard deviation, referred to as the expected value and standard error.</p>
<p>We have described sampling models for draws. We will now go over the mathematical theory that lets us approximate the probability distributions for the sum of draws. Once we do this, we will be able to help the casino predict how much money they will make. The same approach we use for the sum of draws will be useful for describing the distribution of averages and proportion which we will need to understand how polls work.</p>
<p>The first important concept to learn is the <em>expected value</em>. In statistics books, it is common to use letter <span class="math inline">\(\mbox{E}\)</span> like this:</p>
<p><span class="math display">\[\mbox{E}[X]\]</span></p>
<p>to denote the expected value of the random variable <span class="math inline">\(X\)</span>.</p>
<p>A random variable will vary around its expected value in a way that if you take the average of many, many draws, the average of the draws will approximate the expected value, getting closer and closer the more draws you take.</p>
<p>Theoretical statistics provides techniques that facilitate the calculation of expected values in different circumstances. For example, a useful formula tells us that the <em>expected value of a random variable defined by one draw is the average of the numbers in the urn</em>. In the urn used to model betting on red in roulette, we have 20 one dollars and 18 negative one dollars. The expected value is thus:</p>
<p><span class="math display">\[
\mbox{E}[X] = (20 + -18)/38
\]</span></p>
<p>which is about 5 cents. It is a bit counterintuitive to say that <span class="math inline">\(X\)</span> varies around 0.05, when the only values it takes is 1 and -1. One way to make sense of the expected value in this context is by realizing that if we play the game over and over, the casino wins, on average, 5 cents per game. A Monte Carlo simulation confirms this:</p>
<pre class="r"><code>B &lt;- 10^6
x &lt;- sample(c(-1,1), B, replace = TRUE, prob=c(9/19, 10/19))
mean(x)</code></pre>
<pre><code>## [1] 0.05169</code></pre>
<p>In general, if the urn has two possible outcomes, say <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>, with proportions <span class="math inline">\(p\)</span> and <span class="math inline">\(1-p\)</span> respectively, the average is:</p>
<p><span class="math display">\[\mbox{E}[X] = ap + b(1-p)\]</span></p>
<p>To see this, notice that if there are <span class="math inline">\(n\)</span> beads in the urn, then we have <span class="math inline">\(np\)</span> <span class="math inline">\(a\)</span>s and <span class="math inline">\(n(1-p)\)</span> <span class="math inline">\(b\)</span>s and because the average is the sum, <span class="math inline">\(n\times a \times p + n\times b \times (1-p)\)</span>, divided by the total <span class="math inline">\(n\)</span>, we get that the average is <span class="math inline">\(ap + b(1-p)\)</span>.</p>
<p>Now the reason we define the expected value is because this mathematical definition turns out to be useful for approximating the probability distributions of sum, which then is useful for describing the distribution of averages and proportions. The first useful fact is that the <em>expected value of the sum of the draws</em> is:</p>
<p><span class="math display">\[
\mbox{}\mbox{number of draws } \times \mbox{ average of the numbers in the urn}
\]</span></p>
<p>So if 1,000 people play roulette, the casino expects to win, on average, about 1,000 <span class="math inline">\(\times\)</span> $0.05 = $50. But this is an expected value. How different can one observation be from the expected value? The casino really needs to know this. What is the range of possibilities? If negative numbers are too likely, they will not install roulette wheels. Statistical theory once again answers this question. The <em>standard error</em> (SE) gives us an idea of the size of the variation around the expected value. In statistics books, it’s common to use:</p>
<p><span class="math display">\[\mbox{SE}[X]\]</span></p>
<p>to denote the standard error of a random variable.</p>
<p><strong>If our draws are independent</strong>, then the <em>standard error of the sum</em> is given by the equation:</p>
<p><span class="math display">\[
\sqrt{\mbox{number of draws }} \times \mbox{ standard deviation of the numbers in the urn}
\]</span></p>
<p>Using the definition of standard deviation, we can derive, with a bit of math, that if an urn contains two values <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> with proportions <span class="math inline">\(p\)</span> and <span class="math inline">\((1-p)\)</span>, respectively, the standard deviation is:</p>
<p><span class="math display">\[\mid b - a \mid \sqrt{p(1-p)}.\]</span></p>
<p>So in our roulette example, the standard deviation of the values inside the urn is: <span class="math inline">\(\mid 1 - (-1) \mid \sqrt{10/19 \times 9/19}\)</span> or:</p>
<pre class="r"><code>2 * sqrt(90)/19</code></pre>
<pre><code>## [1] 0.998614</code></pre>
<p>The standard error tells us the typical difference between a random variable and its expectation. Since one draw is obviously the sum of just one draw, we can use the formula above to calculate that the random variable defined by one draw has an expected value of 0.05 and a standard error of about 1. This makes sense since we either get 1 or -1, with 1 slightly favored over -1.</p>
<p>Using the formula above, the sum of 1,000 people playing has standard error of about $32:</p>
<pre class="r"><code>n &lt;- 1000
sqrt(n) * 2 * sqrt(90)/19</code></pre>
<pre><code>## [1] 31.57895</code></pre>
<p>As a result, when 1,000 people bet on red, the casino is expected to win $50 with a standard error of $32. It therefore seems like a safe bet. But we still haven’t answered the question: how likely is it to lose money? Here the CLT will help.</p>
<p><strong>Advanced note</strong>: Before continuing we should point out that exact probability calculations for the casino winnings can be performed with the binomial distribution. However, here we focus on the CLT, which can be generally applied to sums of random variables in a way that the binomial distribution can’t.</p>
<hr />
<p>We previously ran this Monte Carlo simulation:</p>
<pre class="r"><code>n &lt;- 1000
B &lt;- 10000
roulette_winnings &lt;- function(n){
  X &lt;- sample(c(-1,1), n, replace = TRUE, prob=c(9/19, 10/19))
  sum(X)
}
S &lt;- replicate(B, roulette_winnings(n))</code></pre>
<p>The Central Limit Theorem (CLT) tells us that the sum <span class="math inline">\(S\)</span> is approximated by a normal distribution. Using the formulas above, we know that the expected value and standard error are:</p>
<pre class="r"><code>n * (20-18)/38 </code></pre>
<pre><code>## [1] 52.63158</code></pre>
<pre class="r"><code>sqrt(n) * 2 * sqrt(90)/19 </code></pre>
<pre><code>## [1] 31.57895</code></pre>
<p>The theoretical values above match those obtained with the Monte Carlo simulation:</p>
<pre class="r"><code>mean(S)</code></pre>
<pre><code>## [1] 52.2242</code></pre>
<pre class="r"><code>sd(S)</code></pre>
<pre><code>## [1] 31.65508</code></pre>
<p>Using the CLT, we can skip the Monte Carlo simulation and instead compute the probability of the casino losing money using this approximation:</p>
<pre class="r"><code>mu &lt;- n * (20-18)/38
se &lt;-  sqrt(n) * 2 * sqrt(90)/19 
pnorm(0, mu, se)</code></pre>
<pre><code>## [1] 0.04779035</code></pre>
<p>which is also in very good agreement with our Monte Carlo result:</p>
<pre class="r"><code>mean(S &lt; 0)</code></pre>
<pre><code>## [1] 0.0458</code></pre>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The Central Limit Theorem (CLT) says that the distribution of the sum of a random variable is approximated by a normal distribution.</p></li>
<li><p>The expected value of a random variable, <span class="math inline">\(E[X]= \mu\)</span>, is the average of the values in the urn. This represents the expectation of one draw.</p></li>
<li><p>The standard error of one draw of a random variable is the standard deviation of the values in the urn.</p></li>
<li><p>The expected value of the sum of draws is the number of draws times the expected value of the random variable.</p></li>
<li><p>The standard error of the sum of independent draws of a random variable is the square root of the number of draws times the standard deviation of the urn.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-datacamp-assessment-random-variables-and-sampling-models" class="section level3">
<h3>3.1 DataCamp Assessment: Random Variables and Sampling Models</h3>
<p>Insert assessment here</p>
</div>
<div id="section-averages-and-proportions" class="section level3">
<h3>3.2 Averages and Proportions</h3>
<p>There are several useful mathematical results that we used above and often employ when working with data. We list them below.</p>
<p>1. The expected value of the sum of random variables is the sum of each random variable’s expected value. We can write it like this:</p>
<p><span class="math display">\[ 
\mbox{E}[X_1+X_2+\dots+X_n] =  \mbox{E}[X_1] + \mbox{E}[X_2]+\dots+\mbox{E}[X_n]
\]</span></p>
<p>If the <span class="math inline">\(X\)</span> are independent draws from the urn, then they all have the same expected value. Let’s call it <span class="math inline">\(\mu\)</span> and thus:</p>
<p><span class="math display">\[ 
\mbox{E}[X_1+X_2+\dots+X_n]=  n\mu
\]</span></p>
<p>which is another way of writing the result we show above for the sum of draws.</p>
<p>2. The expected value of a non-random constant times a random variable is the non-random constant times the expected value of a random variable. This is easier to explain with symbols:</p>
<p><span class="math display">\[
\mbox{E}[aX] =  a\times\mbox{E}[X]
\]</span></p>
<p>To see why this is intuitive, consider change of units. If we change the units of a random variable, say from dollars to cents, the expectation should change in the same way. A consequence of the above two facts is that the expected value of the average of independent draws from the same urn is the expected value of the urn, call it <span class="math inline">\(\mu\)</span> again:</p>
<p><span class="math display">\[
\mbox{E}[(X_1+X_2+\dots+X_n) / n]=   \mbox{E}[X_1+X_2+\dots+X_n] / n = n\mu/n = \mu 
\]</span></p>
<p>3. The square of the standard error of the sum of <strong>independent</strong> random variables is the sum of the square of the standard error of each random variable. This one is easier to understand in math form:</p>
<p><span class="math display">\[ 
\mbox{SE}[X_1+X_2+\dots+X_n] = \sqrt{\mbox{SE}[X_1]^2 + \mbox{SE}[X_2]^2+\dots+\mbox{SE}[X_n]^2  }
\]</span></p>
<p>The square of the standard error is referred to as the <em>variance</em> in statistical textbooks. Note that this particular property is not as intuitive as the previous three and more in depth explanations can be found in statistics textbooks.</p>
<p>4. The standard error of a non-random constant times a random variable is the non-random constant times the random variable’s standard error. As with the expectation: <span class="math display">\[
\mbox{SE}[aX] =  a \times \mbox{SE}[X]
\]</span></p>
<p>To see why this is intuitive, again think of units.</p>
<p>A consequence of 3 and 4 is that the standard error of the average of independent draws from the same urn is the standard deviation of the urn divided by the square root of <span class="math inline">\(n\)</span> (the number of draws), call it <span class="math inline">\(\sigma\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
\mbox{SE}[(X_1+X_2+\dots+X_n) / n] &amp;=   \mbox{SE}[X_1+X_2+\dots+X_n]/n \\
&amp;= \sqrt{\mbox{SE}[X_1]^2+\mbox{SE}[X_2]^2+\dots+\mbox{SE}[X_n]^2}/n \\
&amp;= \sqrt{\sigma^2+\sigma^2+\dots+\sigma^2}/n\\
&amp;= \sqrt{n\sigma^2}/n\\
&amp;= \sigma / \sqrt{n}    
\end{aligned}
\]</span></p>
<p>5. If <span class="math inline">\(X\)</span> is a normally distributed random variable, then if <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are non-random constants, <span class="math inline">\(aX + b\)</span> is also a normally distributed random variable. All we are doing is changing the units of the random variable by multiplying by <span class="math inline">\(a\)</span>, then shifting the center by <span class="math inline">\(b\)</span>.</p>
<p>Note that statistical textbooks use the Greek letters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> to denote the expected value and standard error, respectively. This is because <span class="math inline">\(\mu\)</span> is the Greek letter for <span class="math inline">\(m\)</span>, the first letter of <em>mean</em>, which is another term used for expected value. Similarly, <span class="math inline">\(\sigma\)</span> is the Greek letter for <span class="math inline">\(s\)</span>, the first letter of standard error.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<p><strong>Random variable times a constant</strong></p>
<ul>
<li>The <em>expected value of a random variable multiplied by a constant</em> is that constant times its original expected value:</li>
</ul>
<p><span class="math display">\[
\mbox{E}[aX] =  a\mu
\]</span></p>
<ul>
<li>The <em>standard error of a random variable multiplied by a constant</em> is that constant times its original standard error:</li>
</ul>
<p><span class="math display">\[
\mbox{SE}[aX] =  a\sigma
\]</span></p>
<p><strong>Average of multiple draws of a random variable</strong></p>
<ul>
<li><p>The <em>expected value of the average of multiple draws from an urn</em> is the expected value of the urn (𝜇).</p></li>
<li><p>The <em>standard deviation of the average of multiple draws</em> from an urn is the standard deviation of the urn divided by the square root of the number of draws (<span class="math inline">\(𝜎/\sqrt{n}\)</span>).</p></li>
</ul>
<p><strong>The sum of multiple draws of a random variable</strong></p>
<ul>
<li>The <em>expected value of the sum of 𝑛 draws of a random variable</em> is 𝑛 times its original expected value:</li>
</ul>
<p><span class="math display">\[
\mbox{E}[nX] =  n\mu
\]</span></p>
<ul>
<li>The <em>standard error of the sum of 𝑛 draws of random variable</em> is 𝑛√ times its original standard error:</li>
</ul>
<p><span class="math display">\[
\mbox{SE}[nX] =  \sqrt{n\sigma}
\]</span></p>
<p><strong>The sum of multiple different random variables</strong></p>
<ul>
<li>The <em>expected value of the sum of different random variables</em> is the sum of the individual expected values for each random variable:</li>
</ul>
<p><span class="math display">\[ 
\mbox{E}[X_1+X_2+\dots+X_n] = \mu_1 + \mu_2 + \dots + \mu_n  
\]</span></p>
<ul>
<li>The <em>standard error of the sum of different random variables</em> is the square root of the sum of squares of the individual standard errors:</li>
</ul>
<p><span class="math display">\[ 
\mbox{SE}[X_1+X_2+\dots+X_n] = \sqrt{\sigma_1^2 + \sigma_2^2 + \dots +\sigma_n^2} 
\]</span></p>
<p><strong>Transformation of random variables</strong></p>
<ul>
<li>If 𝑋 is a normally distributed random variable and 𝑎 and 𝑏 are non-random constants, then 𝑎𝑋+𝑏 is also a normally distributed random variable.</li>
</ul>
</div>
</div>
<div id="section-law-of-large-numbers" class="section level3">
<h3>3.2 Law of Large Numbers</h3>
<p>An important implication of the final result is that the standard error of the average becomes smaller and smaller as <span class="math inline">\(n\)</span> grows larger. When <span class="math inline">\(n\)</span> is very large, then the standard error is practically 0 and the average of the draws converges to the average of the urn. This is known in statistical textbooks as the law of large numbers or the law of averages.</p>
<div id="section-misinterpreting-law-of-averages" class="section level4">
<h4><strong>Misinterpreting law of averages</strong></h4>
<p>The law of averages is sometimes misinterpreted. For example, if you toss a coin 5 times and see a head each time, you might hear someone argue that the next toss is probably a tail because of the law of averages: on average we should see 50% heads and 50% tails. A similar argument would be to say that red “is due” on the roulette wheel after seeing black come up five times in a row. These events are independent so the chance of a coin landing heads is 50% regardless of the previous 5. This is also the case for the roulette outcome. The law of averages applies only when the number of draws is very large and not in small samples. After a million tosses, you will definitely see about 50% heads regardless of the outcome of the first five tosses.</p>
<p>Another funny misuse of the law of averages is in sports when TV sportscasters predict a player is about to succeed because they have failed a few times in a row.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The law of large numbers states that as 𝑛 increases, the standard error of the average of a random variable decreases. In other words, when 𝑛 is large, the average of the draws converges to the average of the urn.</p></li>
<li><p>The law of large numbers is also known as the law of averages.</p></li>
<li><p>The law of averages only applies when 𝑛 is very large and events are independent. It is often misused to make predictions about an event being “due” because it has happened less frequently than expected in a small sample size.</p></li>
</ul>
</div>
<hr />
</div>
</div>
<div id="section-how-large-is-large-in-clt" class="section level3">
<h3>3.2 How Large is Large in CLT?</h3>
<p>The CLT works when the number of draws is large. But large is a relative term. In many circumstances as few as 30 draws is enough to make the CLT useful. In some specific instances, as few as 10 is enough. However, these should not be considered general rules. Note, for example, that when the probability of success is very small, we need much larger sample sizes.</p>
<p>By way of illustration, let’s consider the lottery. In the lottery, the chances of winning are less than 1 in a million. Thousands of people play so the number of draws is very large. Yet the number of winners, the sum of the draws, range between 0 and 4. This sum is certainly not well approximated by a normal distribution, so the CLT does not apply, even with the very large sample size. This is generally true when the probability of a success is very low. In these cases, the Poisson distribution is more appropriate.</p>
<p>You can examine the properties of the Poisson distribution using <code>dpois</code> and <code>ppois</code>. You can generate random variables following this distribution with <code>rpois</code>. However, we do not cover the theory here. You can learn about the Poisson distribution in any probability textbook and even <a href="https://en.wikipedia.org/w/index.php?title=Poisson_distribution">Wikipedia</a></p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The sample size required for the Central Limit Theorem and Law of Large Numbers to apply differs based on the probability of success.</p>
<ul>
<li><p>If the probability of success is high, then relatively few observations are needed.</p></li>
<li><p>As the probability of success decreases, more observations are needed.</p></li>
</ul></li>
<li><p>If the probability of success is extremely low, such as winning a lottery, then the Central Limit Theorem may not apply even with extremely large sample sizes. The normal distribution is not a good approximation in these cases, and other distributions such as the Poisson distribution (not discussed in these courses) may be more appropriate.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-datacamp-assessment-the-central-limit-theorem" class="section level3">
<h3>3.2 DataCamp Assessment: The Central Limit Theorem</h3>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-questions-1-and-2-sat-testing" class="section level3">
<h3>3.3 Assessment: Questions 1 and 2: SAT testing</h3>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-question-3-betting-on-roulette" class="section level3">
<h3>3.3 Assessment: Question 3: Betting on Roulette</h3>
<p>Insert assessment here</p>
</div>
</div>
<div id="section-section-4-the-big-short" class="section level2">
<h2>Section 4: The Big Short</h2>
<p>Section 4 introduces you to the Big Short.</p>
<p>After completing Section 4, you will:</p>
<ul>
<li>understand the relationship between sampling models and interest rates as determined by banks.</li>
<li>understand how interest rates can be set to minimize the chances of the bank losing money.</li>
<li>understand how inappropriate assumptions of independence contributed to the financial meltdown of 2007.</li>
</ul>
<p>There is 1 assignment that uses the DataCamp platform for you to practice your coding skills. For in-class students, there is an additional assignment with exercises on insurance that will comprehensively assess what you’ve learned throughout the course.</p>
<p>This section corresponds to <a href="https://rafalab.github.io/dsbook/random-variables.html#case-study-the-big-short">the following section of the course textbook</a>.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your learning.</p>
<div id="section-the-big-short-interest-rates-explained" class="section level3">
<h3>4.1 The Big Short: Interest Rates Explained</h3>
<div id="section-interest-rates-explained-with-chance-model" class="section level4">
<h4><strong>Interest rates explained with chance model</strong></h4>
<p>More complex versions of the sampling models we have discussed are also used by banks to decide interest rates. Suppose you run a small bank that has a history of identifying potential homeowners that can be trusted to make payments. In fact, historically, in a given year, only 2% of your customers default, meaning that they don’t pay back the money that you lent them. However, you are aware that if you simply loan money to everybody without interest, you will end up losing money due to this 2%. Although you know 2% of your clients will probably default, you don’t know which ones. Yet by charging everybody just a bit extra in interest, you can make up the losses incurred due to that 2% and also cover your operating costs. You can also make a profit, but if you set the interest rates too high, your clients will go to another bank. We use all these facts and some probability theory to decide what interest rate you should charge.</p>
<p>Suppose your bank will give out 1,000 loans for $180,000 this year. Also, after adding up all costs, suppose your bank loses $200,000 per foreclosure. For simplicity, we assume this includes all operational costs. A sampling model for this scenario can be coded like this:</p>
<pre class="r"><code>n &lt;- 1000
loss_per_foreclosure &lt;- -200000
p &lt;- 0.02 
defaults &lt;- sample( c(0,1), n, prob=c(1-p, p), replace = TRUE)
sum(defaults * loss_per_foreclosure)</code></pre>
<pre><code>## [1] -4e+06</code></pre>
<p>Note that the total loss defined by the final sum is a random variable. Every time you run the above code, you get a different answer. We can easily construct a Monte Carlo simulation to get an idea of the distribution of this random variable.</p>
<pre class="r"><code>B &lt;- 10000
losses &lt;- replicate(B, {
    defaults &lt;- sample( c(0,1), n, prob=c(1-p, p), replace = TRUE) 
  sum(defaults * loss_per_foreclosure)
})</code></pre>
<!--
Here is the distribution of this random variable:
<img src="datsci_03_files/figure-html/losses-distribution-1.png" width="624" />
-->
<p>We don’t really need a Monte Carlo simulation though. Using what we have learned, the CLT tells us that because our losses are a sum of independent draws, its distribution is approximately normal with expected value and standard errors given by:</p>
<pre class="r"><code>n*(p*loss_per_foreclosure + (1-p)*0)</code></pre>
<pre><code>## [1] -4e+06</code></pre>
<pre class="r"><code>sqrt(n)*abs(loss_per_foreclosure)*sqrt(p*(1-p))</code></pre>
<pre><code>## [1] 885437.7</code></pre>
<p>We can now set an interest rate to guarantee that, on average, we break even. Basically, we need to add a quantity <span class="math inline">\(x\)</span> to each loan, which in this case are represented by draws, so that the expected value is 0. If we define <span class="math inline">\(l\)</span> to be the loss per foreclosure, we need:</p>
<p><span class="math display">\[
lp  + x(1-p) = 0
\]</span></p>
<p>which implies <span class="math inline">\(x\)</span> is</p>
<pre class="r"><code>- loss_per_foreclosure*p/(1-p)</code></pre>
<pre><code>## [1] 4081.633</code></pre>
<p>or an interest rate of 0.0226757.</p>
<p>However, we still have a problem. Although this interest rate guarantees that on average we break even, there is a 50% chance that we lose money. If our bank loses money, we have to close it down. We therefore need to pick an interest rate that makes it unlikely for this to happen. At the same time, if the interest rate is too high, our clients will go to another bank so we must be willing to take some risks. So let’s say that we want our chances of losing money to be 1 in 100, what does the <span class="math inline">\(x\)</span> quantity need to be now? This one is a bit harder. We want the sum <span class="math inline">\(S\)</span> to have:</p>
<p><span class="math display">\[\mbox{Pr}(S&lt;0) = 0.01\]</span></p>
<p>We know that <span class="math inline">\(S\)</span> is approximately normal. The expected value of <span class="math inline">\(S\)</span> is</p>
<p><span class="math display">\[\mbox{E}[S] = \{ lp + x(1-p)\}n\]</span></p>
<p>with <span class="math inline">\(n\)</span> the number of draws, which in this case represents loans. The standard error is</p>
<p><span class="math display">\[\mbox{SD}[S] = |x-l| \sqrt{np(1-p)}.\]</span></p>
<p>Because <span class="math inline">\(x\)</span> is positive and <span class="math inline">\(l\)</span> negative <span class="math inline">\(|x-l|=x-l\)</span>. Note that these are just an application of the formulas shown earlier, but using more compact symbols.</p>
<p>Now we are going to use a mathematical “trick” that is very common in statistics. We add and subtract the same quantities to both sides of the event <span class="math inline">\(S&lt;0\)</span> so that the probability does not change and we end up with a standard normal random variable on the left, which will then permit us to write down an equation with only <span class="math inline">\(x\)</span> as an unknown. This “trick” is as follows:</p>
<p>If <span class="math inline">\(\mbox{Pr}(S&lt;0) = 0.01\)</span> then <span class="math display">\[
\mbox{Pr}\left(\frac{S - \mbox{E}[S]}{\mbox{SE}[S]} &lt; \frac{ - \mbox{E}[S]}{\mbox{SE}[S]}\right)
\]</span> And remember <span class="math inline">\(\mbox{E}[S]\)</span> and <span class="math inline">\(\mbox{SE}[S]\)</span> are the expected value and standard error of <span class="math inline">\(S\)</span>, respectively. All we did above was add and divide by the same quantity on both sides. We did this because now the term on the left is a standard normal random variable, which we will rename <span class="math inline">\(Z\)</span>. Now we fill in the blanks with the actual formula for expected value and standard error:</p>
<p><span class="math display">\[
\mbox{Pr}\left(Z &lt;  \frac{- \{ lp + x(1-p)\}n}{(x-l) \sqrt{np(1-p)}}\right) = 0.01
\]</span></p>
<p>It may look complicated, but remember that <span class="math inline">\(l\)</span>, <span class="math inline">\(p\)</span> and <span class="math inline">\(n\)</span> are all known amounts, so eventually we will replace them with numbers.</p>
<p>Now because the Z is a normal random with expected value 0 and standard error 1, it means that the quantity on the right side of the &lt; sign must be equal to:</p>
<pre class="r"><code>qnorm(0.01)</code></pre>
<pre><code>## [1] -2.326348</code></pre>
<p>for the equation to hold true. Remember that <span class="math inline">\(z=\)</span><code>qnorm(0.01)</code> gives us the value of <span class="math inline">\(z\)</span> for which:</p>
<p><span class="math display">\[
\mbox{Pr}(Z \leq z) = 0.01
\]</span></p>
<p>So this means that the right side of the complicated equation must be <span class="math inline">\(z\)</span>=<code>qnorm(0.01)</code>.</p>
<p><span class="math display">\[
\frac{- \{ lp + x(1-p)\}n} {(x-l) \sqrt{n p (1-p)}} = z
\]</span></p>
<p>The trick works because we end up with an expression containing <span class="math inline">\(x\)</span> that we know has to be equal to a known quantity <span class="math inline">\(z\)</span>. Solving for <span class="math inline">\(x\)</span> is now simply algebra:</p>
<p><span class="math display">\[ x = - l \frac{ np  - z \sqrt{np(1-p)}}{n(1-p) + z \sqrt{np(1-p)}}\]</span></p>
<p>which is:</p>
<pre class="r"><code>l &lt;- loss_per_foreclosure
z &lt;- qnorm(0.01)
x &lt;- -l*( n*p - z*sqrt(n*p*(1-p)))/ ( n*(1-p) + z*sqrt(n*p*(1-p)))
x</code></pre>
<pre><code>## [1] 6249.181</code></pre>
<p>Our interest rate now goes up to 0.0347177. This is still a very competitive interest rate. By choosing this interest rate, we now have an expected profit per loan of:</p>
<pre class="r"><code>loss_per_foreclosure*p + x*(1-p)</code></pre>
<pre><code>## [1] 2124.198</code></pre>
<p>which is a total expected profit of about:</p>
<pre class="r"><code>n*(loss_per_foreclosure*p + x*(1-p)) </code></pre>
<pre><code>## [1] 2124198</code></pre>
<p>dollars!</p>
<p>We can run a Monte Carlo simulation to double check our theoretical approximations:</p>
<pre class="r"><code>B &lt;- 100000
profit &lt;- replicate(B, {
    draws &lt;- sample( c(x, loss_per_foreclosure), n, 
                        prob=c(1-p, p), replace = TRUE) 
    sum(draws)
})
mean(profit)</code></pre>
<pre><code>## [1] 2120999</code></pre>
<pre class="r"><code>mean(profit&lt;0)</code></pre>
<pre><code>## [1] 0.01334</code></pre>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>Interest rates for loans are set using the probability of loan defaults to calculate a rate that minimizes the probability of losing money.</p></li>
<li><p>We can define the outcome of loans as a random variable. We can also define the sum of outcomes of many loans as a random variable.</p></li>
<li><p>The Central Limit Theorem can be applied to fit a normal distribution to the sum of profits over many loans. We can use properties of the normal distribution to calculate the interest rate needed to ensure a certain probability of losing money for a given probability of default.</p></li>
</ul>
</div>
<hr />
</div>
</div>
<div id="section-the-big-short" class="section level3">
<h3>4.1 The Big Short</h3>
<p>One of your employees points out that since the bank is making 2,124 dollars per loan, the bank should give out more loans! Why just <span class="math inline">\(n\)</span>? You explain that finding those <span class="math inline">\(n\)</span> clients was hard. You need a group that is predictable and that keeps the chances of defaults low. He then points out that even if the probability of default is higher, as long as our expected value is positive, you can minimize your chances of losses by increasing <span class="math inline">\(n\)</span> and relying on the law of large numbers.</p>
<p>He claims that even if the default rate is twice as high, say 4%, if we set the rate just a bit higher than this value:</p>
<pre class="r"><code>p &lt;- 0.04
r &lt;- (- loss_per_foreclosure*p/(1-p)) / 180000
r</code></pre>
<pre><code>## [1] 0.0462963</code></pre>
<p>we will profit. At 5%, we are guaranteed a positive expected value of:</p>
<pre class="r"><code>r &lt;- 0.05
x &lt;- r*180000
loss_per_foreclosure*p + x * (1-p)</code></pre>
<pre><code>## [1] 640</code></pre>
<p>and can minimize our chances of losing money by simply increasing <span class="math inline">\(n\)</span> since:</p>
<p><span class="math display">\[
\mbox{Pr}(S &lt; 0) = 
\mbox{Pr}\left(Z &lt; - \frac{\mbox{E}[S]}{\mbox{SE}[S]}\right)
\]</span> with <span class="math inline">\(Z\)</span> a standard normal random variable as shown earlier. If we define <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> to be the expected value and standard deviation of the urn, respectively (that is of a single loan), using the formulas above we have: <span class="math inline">\(\mbox{E}[S]= n\mu\)</span> and <span class="math inline">\(\mbox{SE}[S]= \sqrt{n}\sigma\)</span>. So if we define <span class="math inline">\(z\)</span>=<code>qnorm(0.01)</code>, we have: <span class="math display">\[
 - \frac{n\mu}{\sqrt{n}\sigma} = - \frac{\sqrt{n}\mu}{\sigma} = z
\]</span> which implies that if we let:</p>
<p><span class="math display">\[
n \geq z^2 \sigma^2 / \mu^2
\]</span> we are guaranteed to have a probability of less than 0.01. The implication is that, as long as <span class="math inline">\(\mu\)</span> is positive, we can find an <span class="math inline">\(n\)</span> that minimizes the probability of a loss. This is a form of the law of large numbers: when <span class="math inline">\(n\)</span> is large, our average earnings per loan converges to the expected earning <span class="math inline">\(\mu\)</span>.</p>
<p>With <span class="math inline">\(x\)</span> fixed, now we can ask what <span class="math inline">\(n\)</span> do we need for the probability to be 0.01? In our example, if we give out:</p>
<pre class="r"><code>z &lt;- qnorm(0.01)
n &lt;- ceiling((z^2*(x-l)^2*p*(1-p))/(l*p + x*(1-p))^2)
n</code></pre>
<pre><code>## [1] 22163</code></pre>
<p>loans, the probability of losing is about 0.01 and we are expected to earn a total of</p>
<pre class="r"><code>n*(loss_per_foreclosure*p + x * (1-p))</code></pre>
<pre><code>## [1] 14184320</code></pre>
<p>dollars! We can confirm this with a Monte Carlo simulation:</p>
<pre class="r"><code>p &lt;- 0.04
x &lt;- 0.05*180000
profit &lt;- replicate(B, {
    draws &lt;- sample( c(x, loss_per_foreclosure), n, 
                        prob=c(1-p, p), replace = TRUE) 
    sum(draws)
})
mean(profit)</code></pre>
<pre><code>## [1] 14208760</code></pre>
<p>This seems like a no brainer. As a result, your colleague decides to leave your bank and start his own high-risk mortgage company. A few months later, your colleague’s bank has gone bankrupt. A book is written and eventually a movie is made relating the mistake your friend, and many others, made. What happened?</p>
<p>Your colleague’s scheme was mainly based on this mathematical formula: <span class="math display">\[
    \mbox{SE}[(X_1+X_2+\dots+X_n) / n] = \sigma / \sqrt{n}    
\]</span></p>
<p>By making <span class="math inline">\(n\)</span> large, we minimize the standard error of our per-loan profit. However, for this rule to hold, the <span class="math inline">\(X\)</span>s must be independent draws: one person defaulting must be independent of others defaulting. Note that in the case of averaging the <strong>same</strong> event over and over, an extreme example of events that are not independent, we get a standard error that is <span class="math inline">\(\sqrt{n}\)</span> times bigger: <span class="math display">\[
    \mbox{SE}[(X_1+X_1+\dots+X_1) / n] =  \mbox{SE}[n X_1  / n] = \sigma &gt; \sigma / \sqrt{n} 
\]</span></p>
<p>To construct a more realistic simulation than the original one your colleague ran, let’s assume there is a global event that affects everybody with high-risk mortgages and changes their probability. We will assume that with 50-50 chance, all the probabilities go up or down slightly to somewhere between 0.03 and 0.05. But it happens to everybody at once, not just one person. These draws are no longer independent.</p>
<pre class="r"><code>p &lt;- 0.04
x &lt;- 0.05*180000
profit &lt;- replicate(B, {
    new_p &lt;- 0.04 + sample(seq(-0.01, 0.01, length = 100), 1)
    draws &lt;- sample( c(x, loss_per_foreclosure), n, 
                        prob=c(1-new_p, new_p), replace = TRUE) 
    sum(draws)
})</code></pre>
<p>Note that our expected profit is still large:</p>
<pre class="r"><code>mean(profit)</code></pre>
<pre><code>## [1] 14123465</code></pre>
<p>However, the probability of the bank having negative earnings shoots up to:</p>
<pre class="r"><code>mean(profit&lt;0)</code></pre>
<pre><code>## [1] 0.3485</code></pre>
<p>Even scarier is that the probability of losing more than 10 million dollars is:</p>
<pre class="r"><code>mean(profit &lt; -10000000)</code></pre>
<pre><code>## [1] 0.2401</code></pre>
<p>To understand how this happens look at the distribution:</p>
<pre class="r"><code>data.frame(profit_in_millions=profit/10^6) %&gt;% 
  ggplot(aes(profit_in_millions)) + 
  geom_histogram(color=&quot;black&quot;, binwidth = 5)</code></pre>
<p><img src="datsci_03_files/figure-html/profit-distribution-1.png" width="624" /></p>
<p>The theory completely breaks down and the random variable has much more variability than expected. The financial meltdown of 2007 was due, among other things, to financial “experts” assuming independence when there was none.</p>
<hr />
<div class="infobox">
<p><img src="images/The%20Brain.png" alt="The Brain Logo." style="width:50px;height:50px;" class = "img_left"></p>
<p><strong>Key points:</strong></p>
<hr />
<ul>
<li><p>The Central Limit Theorem states that the sum of independent draws of a random variable follows a normal distribution. However, when the draws are not independent, this assumption does not hold.</p></li>
<li><p>If an event changes the probability of default for all borrowers, then the probability of the bank losing money changes.</p></li>
<li><p>Monte Carlo simulations can be used to model the effects of unknown changes in the probability of default.</p></li>
</ul>
</div>
<hr />
</div>
<div id="section-datacamp-assessment-the-big-short" class="section level3">
<h3>4.1 DataCamp Assessment: The Big Short</h3>
<p>Insert assessment here</p>
</div>
<div id="section-introduction-to-assessment-the-big-short" class="section level3">
<h3>4.2 Introduction to Assessment: The Big Short</h3>
<div id="section-introduction-1" class="section level4">
<h4><strong>Introduction</strong></h4>
<p>These exercises review and assess the following concepts:</p>
<ul>
<li><p>Expected value and standard error of a single draw of a random variable</p></li>
<li><p>Expected value and standard error of the sum of draws of a random variable</p></li>
<li><p>Monte Carlo simulation of the sum of draws of a random variable</p></li>
<li><p>The Central Limit Theorem approximation of the sum of draws of a random variable</p></li>
<li><p>Using z-scores to calculate values related to the normal distribution and normal random variables</p></li>
<li><p>Calculating interest/premium rates to minimize chance of losing money</p></li>
<li><p>Determining a number of loans/policies required to profit</p></li>
<li><p>Simulating the effects of a change in event probability</p></li>
</ul>
</div>
</div>
<div id="section-setup-and-libraries" class="section level3">
<h3>Setup and libraries</h3>
<p>Run the code below to set up your environment and load the libraries you will need for the following exercises:</p>
<pre class="r"><code>library(tidyverse)
library(dslabs)</code></pre>
</div>
<div id="section-background" class="section level3">
<h3>Background</h3>
<p>In the motivating example <strong>The Big Short</strong>, we discussed how discrete and continuous probability concepts relate to bank loans and interest rates. Similar business problems are faced by the insurance industry.</p>
<p>Just as banks must decide how much to charge as interest on loans based on estimates of loan defaults, insurance companies must decide how much to charge as premiums for policies given estimates of the probability that an individual will collect on that policy.</p>
<p>We will use data from <a href="https://www.ssa.gov/oact/STATS/table4c6.html">2015 US Period Life Tables</a>. Here is the code you will need to load and examine the data from <strong>dslabs</strong>:</p>
<pre class="r"><code>data(death_prob)
head(death_prob)</code></pre>
<p>There are six multi-part questions for you to answer that follow.</p>
</div>
<div id="section-questions-1-and-2-insurance-rates-part-1" class="section level3">
<h3>4.2 Questions 1 and 2: Insurance rates, part 1</h3>
<p>Insert assessment here</p>
</div>
<div id="section-questions-3-and-4-insurance-rates-part-2" class="section level3">
<h3>4.2 Questions 3 and 4: insurance rates, part 2</h3>
<p>Insert assessment here</p>
</div>
<div id="section-questions-5-and-6-insurance-rates-part-3" class="section level3">
<h3>4.2 Questions 5 and 6: Insurance rates, part 3</h3>
<p>Insert assessment here</p>
</div>
</div>
<div id="section-acknowledgement" class="section level2">
<h2>Acknowledgement</h2>
<p>I am extremely grateful to <a href="http://rafalab.github.io/pages/about.html">Prof Rafael Irizarry</a> for his support and encouragement to create this interactive tutorial which is based on his freely available textbook <a href="https://rafalab.github.io/dsbook/">Introduction to Data Science</a>. The textbook has been developed as the basis for the associated edX Course Series <em>HarvardX Professional Certificate in Data Science</em> and this tutorial follows the structure of this online course. I’m further very grateful to <a href="https://profiles.sussex.ac.uk/p9846-andy-field">Andy Field</a> for his generous permission to use his <code>discovr</code> package as a basis for the development of this tutorial. Thanks to his amazing <code>discovr</code> package I also indirectly benefited from the work of <a href="https://www.allisonhorst.com/">Allison Horst</a> and her very informative blog post on <a href="https://education.rstudio.com/blog/2020/05/learnr-for-remote/">styling learnr tutorials with CSS</a> as well as her CSS template file which I adapted here.</p>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)

library(learnr) #necessary to render tutorial correctly

library(forcats)
library(ggplot2)
library(htmltools)
library(kableExtra)
library(lubridate)
library(magrittr)
library(tibble)


source("./www/datsci_helpers.R")
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/lumen.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","blob","broom","cellranger","cli","colorspace","compiler","crayon","datasets","DBI","dbplyr","digest","dplyr","dslabs","ellipsis","evaluate","fansi","farver","fastmap","forcats","formatR","fs","futile.logger","futile.options","generics","ggplot2","glue","graphics","grDevices","grid","gtable","gtools","haven","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","kableExtra","knitr","labeling","lambda.r","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","pillar","pkgconfig","promises","purrr","R6","rafalib","RColorBrewer","Rcpp","readr","readxl","reprex","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","utils","vctrs","VennDiagram","viridisLite","webshot","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.1.8","4.0.2","1.2.1","0.7.0","1.1.0","2.0.2","1.4-1","4.0.2","1.3.4","4.0.2","1.1.0","1.4.4","0.6.25","1.0.0","0.7.3","0.3.1","0.14","0.4.1","2.0.3","1.0.1","0.5.0","1.7","1.4.2","1.4.3","1.0.1","0.0.2","3.3.2","1.4.1","4.0.2","4.0.2","4.0.2","0.3.0","3.8.2","2.3.1","0.5.3","0.5.0","1.5.1","1.5.4","1.4.2","1.7.0","1.1.0","1.29","0.3","1.2.4","1.1.0.1","0.10.1","0.2.0","1.7.9","1.5","1.1","4.0.2","0.9","0.1.8","0.5.0","1.4.6","2.0.3","1.1.1","0.3.4","2.4.1","1.0.0","1.1-2","1.0.5","1.3.1","1.3.1","0.3.0","0.4.7","2.3","1.3-2","0.11","0.3.6","1.1.1","1.5.0","4.0.2","1.4.6","1.4.0","3.0.3","1.1.0","1.1.0","1.3.0","4.0.2","4.0.2","0.3.2","1.6.20","0.3.0","0.5.2","2.2.0","0.16","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">datsci_03: Probability</h2>
<h4 class="author"><em>Rafael Irizarry &amp; Fatih Uenal</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
