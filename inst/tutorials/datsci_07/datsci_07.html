<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Rafael Irizarry &amp; Fatih Uenal" />


<meta name="progressive" content="false" />
<meta name="allow-skip" content="false" />

<title>datsci_07: Linear Regression</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->


<link rel="stylesheet" href="css/datsci_style.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<html lang="en">
<div id="section-datsci_07-linear-regression" class="section level1">
<h1>datsci_07: Linear Regression</h1>
<div id="section-welcome-to-data-science-linear-regression" class="section level2">
<h2>Welcome to Data Science: Linear Regression!</h2>
<div class="infobox">
<p><strong>Usage:</strong> This tutorial accompanies <a href="https://rafalab.github.io/dsbook/">Introduction to Data Science</a> by <a href="http://rafalab.github.io/pages/about.html">Prof Rafael Irizarry</a>. It contains material from the textbook which is offered under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>.</p>
</div>
<div id="section-data-science-linear-regression" class="section level3">
<h3>Data Science: Linear Regression!</h3>
<p>We’re excited to have you join us in this course, which is designed to teach you about linear regression, one of the most common statistical modeling approaches used in data science.</p>
<p>This is the <strong>seventh</strong> in a series of courses in the Introduction to Data Science program, a series of courses that prepare you to do data analysis in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, from simple computations to machine learning. We assume that you have taken the preceding six courses in the series or are already familiar with the content covered in them.</p>
<p>Linear regression is commonly used to quantify the relationship between two or more variables. It is also used to adjust for confounding. In this course, we cover how to implement linear regression and adjust for confounding in practice using <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>.</p>
<p>In data science applications, it is very common to be interested in the relationship between two or more variables. The motivating case study we examine in this course relates to the data-driven approach used to construct baseball teams described in the book (and movie) Moneyball. We will try to determine which measured outcomes best predict baseball runs and to do this we’ll use linear regression.</p>
<p>We will also examine confounding, where extraneous variables affect the relationship between two or more other variables, leading to spurious associations. Linear regression is a powerful technique for removing confounders, but it is not a magical process, and it is essential to understand when it is appropriate to use. You will learn when to use it in this course.</p>
<p>The class notes for this course series can be found in Professor Irizarry’s freely available <a href="https://rafalab.github.io/dsbook/">Introduction to Data Science book</a>.</p>
</div>
<div id="section-in-this-course-you-will-learn" class="section level3">
<h3>In this course, you will learn:</h3>
<ul>
<li>How linear regression was originally developed by Galton</li>
<li>What confounding is and how to detect it</li>
<li>How to examine the relationships between variables by implementing linear regression in <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg></li>
</ul>
</div>
<div id="section-course-overview" class="section level3">
<h3>Course overview</h3>
<p>There are three major sections in this course: introduction to linear regression, linear models, and confounding.</p>
<p><strong>Introduction to Linear Regression</strong></p>
<p>In this section, you’ll learn the basics of linear regression through this course’s motivating example, the data-driven approach used to construct baseball teams. You’ll also learn about correlation, the correlation coefficient, stratification, and the variance explained.</p>
<p><strong>Linear Models</strong></p>
<p>In this section, you’ll learn about linear models. You’ll learn about least squares estimates, multivariate regression, and several useful features of <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>, such as tibbles, lm, do, and broom. You’ll learn how to apply regression to baseball to build a better offensive metric.</p>
<p><strong>Confounding</strong></p>
<p>In the final section of the course, you’ll learn about confounding and several reasons that correlation is not the same as causation, such as spurious correlation, outliers, reversing cause and effect, and confounders. You’ll also learn about Simpson’s Paradox.</p>
</div>
</div>
<div id="section-introduction-and-motivation" class="section level2">
<h2>Introduction and Motivation</h2>
<p><img src="https://youtu.be/msSOw7K0RXs" /></p>
</div>
<div id="section-meet-the-course-instructor" class="section level2">
<h2>Meet the Course Instructor</h2>
<div class="infobox">
<p><img src="images/photo2015.jpg" alt="Prof Rafael Irizarry." style="width:200px;height:200px;" class = "img_right"></p>
<p><strong>Rafael Irizarry</strong> is a Professor of Biostatistics and Computational Biology at the Dana-Farber Cancer Institute and a Professor of Biostatistics at Harvard Chan School of Public Health. He has been analyzing data, from sound signals to genomic measurements, for over 20 years.</p>
<p>Professor Irizarry teaches a popular Data Science course at Harvard and has developed several online courses on data analysis that are offered by HarvardX. These online courses, divided into the Data Analysis for the Life Sciences series and Genomics Data Analysis series, have been completed by thousands of students and much of the material is included in a book with a <a href="https://leanpub.com/dataanalysisforthelifesciences">freely available online version</a>.</p>
<p>Webpage: <a href="http://rafalab.github.io" class="uri">http://rafalab.github.io</a></p>
</div>
</div>
<div id="section-essential-course-information" class="section level2">
<h2>Essential Course Information</h2>
<div id="section-course-syllabus" class="section level3">
<h3>Course Syllabus</h3>
<p>The course syllabus contains a more comprehensive version of the information below - but if you don’t read the syllabus, please read this!</p>
</div>
<div id="section-course-structure" class="section level3">
<h3>Course Structure</h3>
<p>This is a self-paced course. You can work on it with your own timeline in mind. However, we suggest that you work on a section per week, and it will take you 2 - 4 hours per week.</p>
<p>Check the course home page for important dates. If you are interested in pursuing a Verified Certificate, you will need to upgrade before the date listed on the home page and finish all assignments before course close.</p>
</div>
<div id="section-grading" class="section level3">
<h3>Grading</h3>
<p>Assignments in the course allow you to practice your coding skills using the DataCamp platform. R is a flexible programming language designed partly for readability and ease of programming.</p>
<p>HarvardX has partnered with a platform called DataCamp to create programming assignments that you can do online. There is no need to install anything on your computer. You will be given a set of code to modify and run in your browser. You can take as many attempts as you need. When your code works correctly, you will be awarded points. You can also request hints, which will help you out, but hints decrease your point total. Remember that you can always go to the Discussion Board for help that doesn’t cost points.</p>
</div>
<div id="section-passing-rate" class="section level3">
<h3>Passing Rate</h3>
<p>The passing rate is 70%. You must sign up for a Verified Certificate and earn a grade of 70% of higher in order to obtain a certificate for this course.</p>
</div>
</div>
<div id="section-pre-course-survey" class="section level2">
<h2>Pre-Course Survey</h2>
<p>Insert Survey Link here</p>
<p><em>If you cannot see the survey above, click this link to access it in a new window.</em></p>
</div>
<div id="section-section-1-overview-data-import" class="section level2">
<h2>Section 1 Overview: Data Import</h2>
<p>In the <strong>Introduction to Regression</strong> section, you will learn the basics of linear regression.</p>
<p>After completing this section, you will be able to:</p>
<ul>
<li><p>Understand how Galton developed <strong>linear regression</strong>.</p></li>
<li><p>Calculate and interpret the <strong>sample correlation</strong>.</p></li>
<li><p><strong>Stratify</strong> a dataset when appropriate.</p></li>
<li><p>Understand what a <strong>bivariate normal distribution</strong> is.</p></li>
<li><p>Explain what the term <strong>variance explained</strong> means.</p></li>
<li><p>Interpret the two <strong>regression lines</strong>.</p></li>
</ul>
<p>This section has three parts: <strong>Baseball as a Motivating Example, Correlation</strong>, and <strong>Stratification and Variance Explained</strong>. There are comprehension checks at the end of each part.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your own learning.</p>
</div>
<div id="section-motivating-example-moneyball" class="section level2">
<h2>1. Motivating Example: Moneyball</h2>
<p><img src="https://youtu.be/95i80f3J1_s" /></p>
<div id="section-textbook-link" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#case-study-moneyball">textbook section - 18.1 Case study: Moneyball</a>.</p>
</div>
<div id="section-key-points" class="section level3">
<h3>Key Points</h3>
<ul>
<li>Bill James was the originator of the <strong>sabermetrics</strong>, the approach of using data to predict what outcomes best predicted if a team would win.</li>
</ul>
</div>
</div>
<div id="section-baseball-basics" class="section level2">
<h2>Baseball Basics</h2>
<p><img src="https://youtu.be/imVjUsiCx8c" /></p>
<div id="section-textbook-link-1" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#baseball-basics">textbook section - 18.1.2 Baseball basics</a>.</p>
</div>
<div id="section-key-points-1" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The goal of a baseball game is to score more runs (points) than the other team.</p></li>
<li><p>Each team has 9 batters who have an opportunity to hit a ball with a bat in a predetermined order.</p></li>
<li><p>Each time a batter has an opportunity to bat, we call it a plate appearance (PA).</p></li>
<li><p>The PA ends with a binary outcome: the batter either makes an out (failure) and returns to the bench or the batter doesn’t (success) and can run around the bases, and potentially score a run (reach all 4 bases).</p></li>
<li><p>We are simplifying a bit, but there are five ways a batter can succeed (not make an out):</p>
<ul>
<li><p>Bases on balls (BB): the pitcher fails to throw the ball through a predefined area considered to be hittable (the strike zone), so the batter is permitted to go to first base.</p></li>
<li><p>Single: the batter hits the ball and gets to first base.</p></li>
<li><p>Double (2B): the batter hits the ball and gets to second base.</p></li>
<li><p>Triple (3B): the batter hits the ball and gets to third base.</p></li>
<li><p>Home Run (HR): the batter hits the ball and goes all the way home and scores a run.</p></li>
</ul></li>
<li><p>Historically, the batting average has been considered the most important offensive statistic. To define this average, we define a hit (H) and an at bat (AB). Singles, doubles, triples and home runs are hits. The fifth way to be successful, a walk (BB), is not a hit. An AB is the number of times you either get a hit or make an out; BBs are excluded. The batting average is simply H/AB and is considered the main measure of a success rate.</p></li>
<li><p>Note: The video states that if you hit AFTER someone who hits many home runs, you will score many runs, while the textbook states that if you hit BEFORE someone who hits many home runs, you will score many runs. The textbook wording is accurate.</p></li>
</ul>
</div>
</div>
<div id="section-bases-on-balls-or-stolen-bases" class="section level2">
<h2>Bases on Balls or Stolen Bases?</h2>
<p><img src="https://youtu.be/35FofUwvh3k" /></p>
<div id="section-textbook-link-2" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#base-on-balls-or-stolen-bases">textbook section - 18.1.4 Base on balls or stolen bases?</a>.</p>
</div>
<div id="section-key-points-2" class="section level3">
<h3>Key Points</h3>
<ul>
<li>The visualization of choice when exploring the relationship between two variables like home runs and runs is a scatterplot.</li>
</ul>
</div>
<div id="section-code-scatterplot-of-the-relationship-between-hrs-and-wins" class="section level3">
<h3>Code: Scatterplot of the relationship between HRs and wins</h3>
<pre class="r"><code>library(Lahman)
library(tidyverse)
library(dslabs)
ds_theme_set()

Teams %&gt;% filter(yearID %in% 1961:2001) %&gt;%
    mutate(HR_per_game = HR / G, R_per_game = R / G) %&gt;%
    ggplot(aes(HR_per_game, R_per_game)) + 
    geom_point(alpha = 0.5)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-1-1.png" width="624" /></p>
</div>
<div id="section-code-scatterplot-of-the-relationship-between-stolen-bases-and-wins" class="section level3">
<h3>Code: Scatterplot of the relationship between stolen bases and wins</h3>
<pre class="r"><code>Teams %&gt;% filter(yearID %in% 1961:2001) %&gt;%
    mutate(SB_per_game = SB / G, R_per_game = R / G) %&gt;%
    ggplot(aes(SB_per_game, R_per_game)) + 
    geom_point(alpha = 0.5)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-2-1.png" width="624" /></p>
</div>
<div id="section-code-scatterplot-of-the-relationship-between-bases-on-balls-and-runs" class="section level3">
<h3>Code: Scatterplot of the relationship between bases on balls and runs</h3>
<pre class="r"><code>Teams %&gt;% filter(yearID %in% 1961:2001) %&gt;%
    mutate(BB_per_game = BB / G, R_per_game = R / G) %&gt;%
    ggplot(aes(BB_per_game, R_per_game)) + 
    geom_point(alpha = 0.5)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-3-1.png" width="624" /></p>
</div>
</div>
<div id="section-assessment-baseball-as-a-motivating-example" class="section level2">
<h2>1.1 Assessment: Baseball as a Motivating Example</h2>
<p>Insert assessment here</p>
</div>
<div id="section-correlation" class="section level2">
<h2>Correlation</h2>
<p><img src="https://youtu.be/11Z2uKuQByA" /></p>
<div id="section-textbook-link-3" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/regression.html#case-study-is-height-hereditary">textbook section - 17.1 Case study: is height hereditary?</a>.</p>
</div>
<div id="section-key-points-3" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Galton tried to predict sons’ heights based on fathers’ heights.</p></li>
<li><p>The mean and standard errors are insufficient for describing an important characteristic of the data: the trend that the taller the father, the taller the son.</p></li>
<li><p>The correlation coefficient is an informative summary of how two variables move together that can be used to predict one variable using the other.</p></li>
</ul>
</div>
<div id="section-code" class="section level3">
<h3>Code</h3>
<pre class="r"><code># create the dataset
library(tidyverse)
library(HistData)
data(&quot;GaltonFamilies&quot;)
set.seed(1983)
galton_heights &lt;- GaltonFamilies %&gt;%
  filter(gender == &quot;male&quot;) %&gt;%
  group_by(family) %&gt;%
  sample_n(1) %&gt;%
  ungroup() %&gt;%
  select(father, childHeight) %&gt;%
  rename(son = childHeight)

# means and standard deviations
galton_heights %&gt;%
    summarize(mean(father), sd(father), mean(son), sd(son))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mean(father)"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["sd(father)"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["mean(son)"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["sd(son)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"69.09888","2":"2.546555","3":"69.16927","4":"2.710965"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># scatterplot of father and son heights
galton_heights %&gt;%
    ggplot(aes(father, son)) +
    geom_point(alpha = 0.5)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-4-1.png" width="624" /></p>
</div>
</div>
<div id="section-correlation-coefficient" class="section level2">
<h2>Correlation Coefficient</h2>
<p><img src="https://youtu.be/1irgj_4RlkA" /></p>
<div id="section-textbook-link-4" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/regression.html#the-correlation-coefficient">textbook section - 17 Regression</a>.</p>
</div>
<div id="section-key-points-4" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic1.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-1" class="section level3">
<h3>Code</h3>
<pre class="r"><code>rho &lt;- mean(scale(x)*scale(y))
galton_heights %&gt;% summarize(r = cor(father, son)) %&gt;% pull(r)</code></pre>
</div>
</div>
<div id="section-sample-correlation-is-a-random-variable" class="section level2">
<h2>Sample Correlation is a Random Variable</h2>
<p><img src="https://youtu.be/04p-ljK-3Qo" /></p>
<div id="section-textbook-link-5" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/regression.html#sample-correlation-is-a-random-variable">textbook section - 17.2.1 Sample correlation is a random variable</a>.</p>
</div>
<div id="section-key-points-5" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The correlation that we compute and use as a summary is a random variable.</p></li>
<li><p>When interpreting correlations, it is important to remember that correlations derived from samples are estimates containing uncertainty.</p></li>
<li><p>Because the sample correlation is an average of independent draws, the central limit theorem applies.</p></li>
</ul>
</div>
<div id="section-code-2" class="section level3">
<h3>Code</h3>
<pre class="r"><code># compute sample correlation
R &lt;- sample_n(galton_heights, 25, replace = TRUE) %&gt;%
    summarize(r = cor(father, son))
R</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["r"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.4630811"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># Monte Carlo simulation to show distribution of sample correlation
B &lt;- 1000
N &lt;- 25
R &lt;- replicate(B, {
    sample_n(galton_heights, N, replace = TRUE) %&gt;%
    summarize(r = cor(father, son)) %&gt;%
    pull(r)
})
qplot(R, geom = &quot;histogram&quot;, binwidth = 0.05, color = I(&quot;black&quot;))</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-6-1.png" width="624" /></p>
<pre class="r"><code># expected value and standard error
mean(R)</code></pre>
<pre><code>## [1] 0.4291816</code></pre>
<pre class="r"><code>sd(R)</code></pre>
<pre><code>## [1] 0.1663783</code></pre>
<pre class="r"><code># QQ-plot to evaluate whether N is large enough
data.frame(R) %&gt;%
    ggplot(aes(sample = R)) +
    stat_qq() +
    geom_abline(intercept = mean(R), slope = sqrt((1-mean(R)^2)/(N-2)))</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-6-2.png" width="624" /></p>
</div>
</div>
<div id="section-assessment-correlation" class="section level2">
<h2>1.2 Assessment: Correlation</h2>
<p>Insert assessment here</p>
</div>
<div id="section-anscombes-quartetstratification" class="section level2">
<h2>Anscombe’s Quartet/Stratification</h2>
<p><img src="https://youtu.be/a2O_IR5ZxOo" /></p>
<div id="section-textbook-link-6" class="section level3">
<h3>Textbook link</h3>
<p>There are three links to relevant sections of the textbook for this video:</p>
<ul>
<li><p><a href="https://rafalab.github.io/dsbook/regression.html#correlation-is-not-always-a-useful-summary">17.2.2 Correlation is not always a useful summary</a></p></li>
<li><p><a href="https://rafalab.github.io/dsbook/regression.html#conditional-expectation">17.3 Conditional expectations</a></p></li>
<li><p><a href="https://rafalab.github.io/dsbook/regression.html#the-regression-line">17.4 The regression line</a></p></li>
</ul>
</div>
<div id="section-key-points-6" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Correlation is not always a good summary of the relationship between two variables.</p></li>
<li><p>The general idea of conditional expectation is that we stratify a population into groups and compute summaries in each group.</p></li>
<li><p>A practical way to improve the estimates of the conditional expectations is to define strata of with similar values of x.</p></li>
<li><p>If there is perfect correlation, the regression line predicts an increase that is the same number of SDs for both variables. If there is 0 correlation, then we don’t use x at all for the prediction and simply predict the average 𝜇𝑦. For values between 0 and 1, the prediction is somewhere in between. If the correlation is negative, we predict a reduction instead of an increase.</p></li>
</ul>
</div>
<div id="section-code-3" class="section level3">
<h3>Code</h3>
<pre class="r"><code># number of fathers with height 72 or 72.5 inches
sum(galton_heights$father == 72)</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="r"><code>sum(galton_heights$father == 72.5)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code># predicted height of a son with a 72 inch tall father
conditional_avg &lt;- galton_heights %&gt;%
    filter(round(father) == 72) %&gt;%
    summarize(avg = mean(son)) %&gt;%
    pull(avg)
conditional_avg</code></pre>
<pre><code>## [1] 70.5</code></pre>
<pre class="r"><code># stratify fathers&#39; heights to make a boxplot of son heights
galton_heights %&gt;% mutate(father_strata = factor(round(father))) %&gt;%
    ggplot(aes(father_strata, son)) +
    geom_boxplot() +
    geom_point()</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-7-1.png" width="624" /></p>
<pre class="r"><code># center of each boxplot
galton_heights %&gt;%
    mutate(father = round(father)) %&gt;%
    group_by(father) %&gt;%
    summarize(son_conditional_avg = mean(son)) %&gt;%
    ggplot(aes(father, son_conditional_avg)) +
    geom_point()</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-7-2.png" width="624" /></p>
<pre class="r"><code># calculate values to plot regression line on original data
mu_x &lt;- mean(galton_heights$father)
mu_y &lt;- mean(galton_heights$son)
s_x &lt;- sd(galton_heights$father)
s_y &lt;- sd(galton_heights$son)
r &lt;- cor(galton_heights$father, galton_heights$son)
m &lt;- r * s_y/s_x
b &lt;- mu_y - m*mu_x

# add regression line to plot
galton_heights %&gt;%
    ggplot(aes(father, son)) +
    geom_point(alpha = 0.5) +
    geom_abline(intercept = b, slope = m)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-7-3.png" width="624" /></p>
</div>
</div>
<div id="section-bivariate-normal-distribution" class="section level2">
<h2>Bivariate Normal Distribution</h2>
<p><img src="https://youtu.be/V3jz0MXlnuw" /></p>
<div id="section-textbook-link-7" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/regression.html#bivariate-normal-distribution-advanced">textbook section - 17.4.2 Bivariate normal distribution (advanced)</a>.</p>
</div>
<div id="section-key-points-7" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>When a pair of random variables are approximated by the bivariate normal distribution, scatterplots look like ovals. They can be thin (high correlation) or circle-shaped (no correlation).</p></li>
<li><p>When two variables follow a bivariate normal distribution, computing the regression line is equivalent to computing conditional expectations.</p></li>
<li><p>We can obtain a much more stable estimate of the conditional expectation by finding the regression line and using it to make predictions.</p></li>
</ul>
</div>
<div id="section-code-4" class="section level3">
<h3>Code</h3>
<pre class="r"><code>galton_heights %&gt;%
  mutate(z_father = round((father - mean(father)) / sd(father))) %&gt;%
  filter(z_father %in% -2:2) %&gt;%
  ggplot() +  
  stat_qq(aes(sample = son)) +
  facet_wrap( ~ z_father)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-8-1.png" width="624" /></p>
</div>
</div>
<div id="section-variance-explained" class="section level2">
<h2>Variance Explained</h2>
<div id="section-correction" class="section level3">
<h3>Correction</h3>
<p>The equation shown at 0:10 is for the standard deviation of the conditional distribution, not the variance. The variance is the standard deviation squared. See the notes below the video for more clarification.</p>
<p><img src="https://youtu.be/ExfGGFfdg00" /></p>
</div>
<div id="section-textbook-link-8" class="section level3">
<h3>Textbook link</h3>
<p>The video corresponds to the <a href="https://rafalab.github.io/dsbook/regression.html#variance-explained">textbook section - 17.4.3 Variance explained</a>.</p>
</div>
<div id="section-key-points-8" class="section level3">
<h3>Key points</h3>
<figure>
<img src="images/pic2.png" alt="R Studio" style="width:750px">
</figure>
</div>
</div>
<div id="section-there-are-two-regression-lines" class="section level2">
<h2>There are Two Regression Lines</h2>
<p><img src="https://youtu.be/uJlqgu3_nFw" /></p>
<div id="section-textbook-link-9" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/regression.html#warning-there-are-two-regression-lines">textbook section - 17.4.4 Warning: there are two regression lines</a>.</p>
</div>
<div id="section-key-points-9" class="section level3">
<h3>Key Points</h3>
<ul>
<li>There are two different regression lines depending on whether we are taking the expectation of Y given X or taking the expectation of X given Y.</li>
</ul>
</div>
<div id="section-code-5" class="section level3">
<h3>Code</h3>
<pre class="r"><code># compute a regression line to predict the son&#39;s height from the father&#39;s height
mu_x &lt;- mean(galton_heights$father)
mu_y &lt;- mean(galton_heights$son)
s_x &lt;- sd(galton_heights$father)
s_y &lt;- sd(galton_heights$son)
r &lt;- cor(galton_heights$father, galton_heights$son)
m_1 &lt;-  r * s_y / s_x
b_1 &lt;- mu_y - m_1*mu_x

# compute a regression line to predict the father&#39;s height from the son&#39;s height
m_2 &lt;-  r * s_x / s_y
b_2 &lt;- mu_x - m_2*mu_y</code></pre>
</div>
</div>
<div id="section-assessment-stratification-and-variance-explained-part-1" class="section level2">
<h2>1.3 Assessment: Stratification and Variance Explained, Part 1</h2>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-stratification-and-variance-explained-part-2" class="section level2">
<h2>1.3 Assessment: Stratification and Variance Explained, Part 2</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-2-overview-linear-models" class="section level2">
<h2>Section 2 Overview: Linear Models</h2>
<p>In the <strong>Linear Models</strong> section, you will learn how to do linear regression.</p>
<p>After completing this section, you will be able to:</p>
<ul>
<li><p>Use <strong>multivariate regression</strong> to adjust for confounders.</p></li>
<li><p>Write <strong>linear models</strong> to describe the relationship between two or more variables.</p></li>
<li><p>Calculate the <strong>least squares estimates</strong> for a regression model using the <code>lm</code> function.</p></li>
<li><p>Understand the differences between <strong>tibbles</strong> and <strong>data frames</strong>.</p></li>
<li><p>Use the <code>do()</code> function to bridge <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> functions and the tidyverse.</p></li>
<li><p>Use the <code>tidy()</code>, <code>glance()</code>, and <code>augment()</code> functions from the broom package.</p></li>
<li><p>Apply linear regression to <strong>measurement error models</strong>.</p></li>
</ul>
<p>This section has four parts: <strong>Introduction to Linear Models, Least Squares Estimates, Tibbles, do, and broom, and Regression and Baseball</strong>. There are comprehension checks at the end of each part, along with an assessment on linear models at the end of the whole section.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your own learning.</p>
</div>
<div id="section-confounding-are-bbs-more-predictive" class="section level2">
<h2>Confounding: Are BBs More Predictive?</h2>
<p><img src="https://youtu.be/PUnZ311nKow" /></p>
<div id="section-textbook-link-10" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#confounding">textbook section - 18.2 Confounding</a>.</p>
</div>
<div id="section-key-points-10" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Association is not causation!</p></li>
<li><p>Although it may appear that BB cause runs, it is actually the HR that cause most of these runs. We say that BB are <strong>confounded</strong> with HR.</p></li>
<li><p>Regression can help us account for confounding.</p></li>
</ul>
</div>
<div id="section-code-6" class="section level3">
<h3>Code</h3>
<pre class="r"><code># find regression line for predicting runs from BBs
library(tidyverse)
library(Lahman)
bb_slope &lt;- Teams %&gt;% 
  filter(yearID %in% 1961:2001 ) %&gt;% 
  mutate(BB_per_game = BB/G, R_per_game = R/G) %&gt;% 
  lm(R_per_game ~ BB_per_game, data = .) %&gt;% 
  .$coef %&gt;%
  .[2]
bb_slope

# compute regression line for predicting runs from singles
singles_slope &lt;- Teams %&gt;% 
  filter(yearID %in% 1961:2001 ) %&gt;%
  mutate(Singles_per_game = (H-HR-X2B-X3B)/G, R_per_game = R/G) %&gt;%
  lm(R_per_game ~ Singles_per_game, data = .) %&gt;%
  .$coef  %&gt;%
  .[2]
singles_slope

# calculate correlation between HR, BB and singles
Teams %&gt;% 
  filter(yearID %in% 1961:2001 ) %&gt;% 
  mutate(Singles = (H-HR-X2B-X3B)/G, BB = BB/G, HR = HR/G) %&gt;%  
  summarize(cor(BB, HR), cor(Singles, HR), cor(BB,Singles))</code></pre>
</div>
</div>
<div id="section-stratification-and-multivariate-regression" class="section level2">
<h2>Stratification and Multivariate Regression</h2>
<p><img src="https://youtu.be/E2WpCU0ihGU" /></p>
<div id="section-textbook-link-11" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#multivariate-regression">textbook section - 18.2.2 Multivariate regression</a>.</p>
</div>
<div id="section-key-points-11" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>A first approach to check confounding is to keep HRs fixed at a certain value and then examine the relationship between BB and runs.</p></li>
<li><p>The slopes of BB after stratifying on HR are reduced, but they are not 0, which indicates that BB are helpful for producing runs, just not as much as previously thought.</p></li>
</ul>
</div>
<div id="section-code-7" class="section level3">
<h3>Code</h3>
<pre class="r"><code># stratify HR per game to nearest 10, filter out strata with few points
dat &lt;- Teams %&gt;% filter(yearID %in% 1961:2001) %&gt;%
  mutate(HR_strata = round(HR/G, 1), 
         BB_per_game = BB / G,
         R_per_game = R / G) %&gt;%
  filter(HR_strata &gt;= 0.4 &amp; HR_strata &lt;=1.2)
  
# scatterplot for each HR stratum
dat %&gt;% 
  ggplot(aes(BB_per_game, R_per_game)) +  
  geom_point(alpha = 0.5) +
  geom_smooth(method = &quot;lm&quot;) +
  facet_wrap( ~ HR_strata)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-11-1.png" width="624" /></p>
<pre class="r"><code># calculate slope of regression line after stratifying by HR
dat %&gt;%  
  group_by(HR_strata) %&gt;%
  summarize(slope = cor(BB_per_game, R_per_game)*sd(R_per_game)/sd(BB_per_game))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["HR_strata"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["slope"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.4","2":"0.7342910"},{"1":"0.5","2":"0.5659067"},{"1":"0.6","2":"0.4119129"},{"1":"0.7","2":"0.2853933"},{"1":"0.8","2":"0.3650361"},{"1":"0.9","2":"0.2608882"},{"1":"1.0","2":"0.5115687"},{"1":"1.1","2":"0.4539252"},{"1":"1.2","2":"0.4403274"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># stratify by BB
dat &lt;- Teams %&gt;% filter(yearID %in% 1961:2001) %&gt;%
  mutate(BB_strata = round(BB/G, 1), 
         HR_per_game = HR / G,
         R_per_game = R / G) %&gt;%
  filter(BB_strata &gt;= 2.8 &amp; BB_strata &lt;=3.9) 

# scatterplot for each BB stratum
dat %&gt;% ggplot(aes(HR_per_game, R_per_game)) +  
  geom_point(alpha = 0.5) +
  geom_smooth(method = &quot;lm&quot;) +
  facet_wrap( ~ BB_strata)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-11-2.png" width="624" /></p>
<pre class="r"><code># slope of regression line after stratifying by BB
dat %&gt;%  
  group_by(BB_strata) %&gt;%
  summarize(slope = cor(HR_per_game, R_per_game)*sd(R_per_game)/sd(HR_per_game)) </code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["BB_strata"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["slope"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2.8","2":"1.518056"},{"1":"2.9","2":"1.567879"},{"1":"3.0","2":"1.518179"},{"1":"3.1","2":"1.494498"},{"1":"3.2","2":"1.582159"},{"1":"3.3","2":"1.560302"},{"1":"3.4","2":"1.481832"},{"1":"3.5","2":"1.631314"},{"1":"3.6","2":"1.829929"},{"1":"3.7","2":"1.451895"},{"1":"3.8","2":"1.704564"},{"1":"3.9","2":"1.302576"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-linear-models" class="section level2">
<h2>Linear Models</h2>
<p><img src="https://youtu.be/PDhawFk0yiU" /></p>
<div id="section-textbook-link-12" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#lse">textbook section - 18.3 Least squares estimates</a>.</p>
</div>
<div id="section-key-points-12" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic3.png" alt="R Studio" style="width:750px">
</figure>
</div>
</div>
<div id="section-assessment-introduction-to-linear-models" class="section level2">
<h2>2.1 Assessment: Introduction to Linear Models</h2>
<p>Insert assessment here</p>
</div>
<div id="section-least-squares-estimates-lse" class="section level2">
<h2>Least Squares Estimates (LSE)</h2>
<p><img src="https://youtu.be/BbeuwYgnUig" /></p>
<div id="section-textbook-link-13" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#lse">textbook section - 18.3 Least squares estimates</a>.</p>
</div>
<div id="section-key-points-13" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic4.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-8" class="section level3">
<h3>Code</h3>
<pre class="r"><code># compute RSS for any pair of beta0 and beta1 in Galton&#39;s data
library(HistData)
data(&quot;GaltonFamilies&quot;)
set.seed(1983)
galton_heights &lt;- GaltonFamilies %&gt;%
  filter(gender == &quot;male&quot;) %&gt;%
  group_by(family) %&gt;%
  sample_n(1) %&gt;%
  ungroup() %&gt;%
  select(father, childHeight) %&gt;%
  rename(son = childHeight)
rss &lt;- function(beta0, beta1, data){
    resid &lt;- galton_heights$son - (beta0+beta1*galton_heights$father)
    return(sum(resid^2))
}

# plot RSS as a function of beta1 when beta0=25
beta1 = seq(0, 1, len=nrow(galton_heights))
results &lt;- data.frame(beta1 = beta1,
                      rss = sapply(beta1, rss, beta0 = 25))
results %&gt;% ggplot(aes(beta1, rss)) + geom_line() + 
  geom_line(aes(beta1, rss))</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-12-1.png" width="624" /></p>
</div>
</div>
<div id="section-the-lm-function" class="section level2">
<h2>The lm Function</h2>
<p><img src="https://youtu.be/MP14-2of8B4" /></p>
<div id="section-textbook-link-14" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#the-lm-function">textbook section - 18.3.3 The lm function</a>.</p>
</div>
<div id="section-key-points-14" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>When calling the lm() function, the variable that we want to predict is put to the left of the ~ symbol, and the variables that we use to predict is put to the right of the ~ symbol. The intercept is added automatically.</p></li>
<li><p>LSEs are random variables.</p></li>
</ul>
</div>
<div id="section-code-9" class="section level3">
<h3>Code</h3>
<pre class="r"><code># fit regression line to predict son&#39;s height from father&#39;s height
fit &lt;- lm(son ~ father, data = galton_heights)
fit</code></pre>
<pre><code>## 
## Call:
## lm(formula = son ~ father, data = galton_heights)
## 
## Coefficients:
## (Intercept)       father  
##     37.2876       0.4614</code></pre>
<pre class="r"><code># summary statistics
summary(fit)</code></pre>
<pre><code>## 
## Call:
## lm(formula = son ~ father, data = galton_heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -9.3543 -1.5657 -0.0078  1.7263  9.4150 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 37.28761    4.98618   7.478 3.37e-12 ***
## father       0.46139    0.07211   6.398 1.36e-09 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.45 on 177 degrees of freedom
## Multiple R-squared:  0.1878, Adjusted R-squared:  0.1833 
## F-statistic: 40.94 on 1 and 177 DF,  p-value: 1.36e-09</code></pre>
</div>
</div>
<div id="section-lse-are-random-variables" class="section level2">
<h2>LSE are Random Variables</h2>
<p><img src="https://youtu.be/Ep9uHksQ9HU" /></p>
<div id="section-textbook-link-15" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#lse-are-random-variables">textbook section - 18.3.4 LSE are random variables</a>.</p>
</div>
<div id="section-key-points-15" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic5.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-10" class="section level3">
<h3>Code</h3>
<pre class="r"><code># fit regression line to predict son&#39;s height from father&#39;s height
# Monte Carlo simulation
B &lt;- 1000
N &lt;- 50
lse &lt;- replicate(B, {
  sample_n(galton_heights, N, replace = TRUE) %&gt;% 
    lm(son ~ father, data = .) %&gt;% 
    .$coef 
})
lse &lt;- data.frame(beta_0 = lse[1,], beta_1 = lse[2,]) 

# Plot the distribution of beta_0 and beta_1
library(gridExtra)
p1 &lt;- lse %&gt;% ggplot(aes(beta_0)) + geom_histogram(binwidth = 5, color = &quot;black&quot;) 
p2 &lt;- lse %&gt;% ggplot(aes(beta_1)) + geom_histogram(binwidth = 0.1, color = &quot;black&quot;) 
grid.arrange(p1, p2, ncol = 2)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-14-1.png" width="624" /></p>
<pre class="r"><code># summary statistics
sample_n(galton_heights, N, replace = TRUE) %&gt;% 
  lm(son ~ father, data = .) %&gt;% 
  summary %&gt;%
  .$coef</code></pre>
<pre><code>##               Estimate Std. Error  t value     Pr(&gt;|t|)
## (Intercept) 19.2791952 11.6564590 1.653950 0.1046637693
## father       0.7198756  0.1693834 4.249977 0.0000979167</code></pre>
<pre class="r"><code>lse %&gt;% summarize(se_0 = sd(beta_0), se_1 = sd(beta_1))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["se_0"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["se_1"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"8.83591","2":"0.1278812"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-advanced-note-on-lse" class="section level2">
<h2>Advanced Note on LSE</h2>
<p>Although interpretation is not straight-forward, it is also useful to know that the LSE can be strongly correlated, which can be seen using this code:</p>
<pre class="r"><code>lse %&gt;% summarize(cor(beta_0, beta_1))</code></pre>
<figure>
<img src="images/pic6.png" alt="R Studio" style="width:750px">
</figure>
<pre class="r"><code>B &lt;- 1000
N &lt;- 50
lse &lt;- replicate(B, {
      sample_n(galton_heights, N, replace = TRUE) %&gt;%
      mutate(father = father - mean(father)) %&gt;%
      lm(son ~ father, data = .) %&gt;% .$coef 
})</code></pre>
<p>Observe what happens to the correlation in this case:</p>
<pre class="r"><code>cor(lse[1,], lse[2,]) </code></pre>
</div>
<div id="section-assessment-least-squares-estimates-part-1" class="section level2">
<h2>2.1 Assessment: Least Squares Estimates, part 1</h2>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-least-squares-estimates-part-2" class="section level2">
<h2>2.1 Assessment: Least Squares Estimates, part 2</h2>
<p>Insert assessment here</p>
</div>
<div id="section-predicted-variables-are-random-variables" class="section level2">
<h2>Predicted Variables are Random Variables</h2>
<p><img src="https://youtu.be/s_ynquwWGVA" /></p>
<div id="section-textbook-link-16" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#predicted-values-are-random-variables">textbook section - 18.3.5 Predicted values are random variables</a>.</p>
</div>
<div id="section-key-points-16" class="section level3">
<h3>Key Points</h3>
<figure>
<img src="images/pic7.png" alt="R Studio" style="width:750px">
</figure>
</div>
<div id="section-code-11" class="section level3">
<h3>Code</h3>
<pre class="r"><code># plot predictions and confidence intervals
galton_heights %&gt;% ggplot(aes(son, father)) +
  geom_point() +
  geom_smooth(method = &quot;lm&quot;)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-18-1.png" width="624" /></p>
<pre class="r"><code># predict Y directly
fit &lt;- galton_heights %&gt;% lm(son ~ father, data = .) 
Y_hat &lt;- predict(fit, se.fit = TRUE)
names(Y_hat)</code></pre>
<pre><code>## [1] &quot;fit&quot;            &quot;se.fit&quot;         &quot;df&quot;             &quot;residual.scale&quot;</code></pre>
<pre class="r"><code># plot best fit line
galton_heights %&gt;%
  mutate(Y_hat = predict(lm(son ~ father, data=.))) %&gt;%
  ggplot(aes(father, Y_hat))+
  geom_line()</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-18-2.png" width="624" /></p>
</div>
</div>
<div id="section-advanced-dplyr-tibbles" class="section level2">
<h2>Advanced dplyr: Tibbles</h2>
<p><img src="https://youtu.be/FfsKrb5WbSE" /></p>
<div id="section-textbook-link-17" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#linear-regression-in-the-tidyverse">textbook section - 18.5 Linear regression in the tidyverse</a>.</p>
</div>
<div id="section-key-points-17" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Tibbles can be regarded as a modern version of data frames and are the default data structure in the tidyverse.</p></li>
<li><p>Some functions that do not work properly with data frames do work with tibbles.</p></li>
</ul>
</div>
<div id="section-code-12" class="section level3">
<h3>Code</h3>
<pre class="r"><code># stratify by HR
dat &lt;- Teams %&gt;% filter(yearID %in% 1961:2001) %&gt;%
  mutate(HR = round(HR/G, 1), 
         BB = BB/G,
         R = R/G) %&gt;%
  select(HR, BB, R) %&gt;%
  filter(HR &gt;= 0.4 &amp; HR&lt;=1.2)
  
# calculate slope of regression lines to predict runs by BB in different HR strata
dat %&gt;%  
  group_by(HR) %&gt;%
  summarize(slope = cor(BB,R)*sd(R)/sd(BB))
  
# use lm to get estimated slopes - lm does not work with grouped tibbles
dat %&gt;%  
  group_by(HR) %&gt;%
  lm(R ~ BB, data = .) %&gt;%
  .$coef
  
# inspect a grouped tibble
dat %&gt;% group_by(HR) %&gt;% head()
dat %&gt;% group_by(HR) %&gt;% class()</code></pre>
</div>
</div>
<div id="section-tibbles-differences-from-data-frames" class="section level2">
<h2>Tibbles: Differences from Data Frames</h2>
<p><img src="https://youtu.be/-Y5doWCWVzU" /></p>
<div id="section-key-points-18" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>Tibbles are more readable than data frames.</p></li>
<li><p>If you subset a data frame, you may not get a data frame. If you subset a tibble, you always get a tibble.</p></li>
<li><p>Tibbles can hold more complex objects such as lists or functions.</p></li>
<li><p>Tibbles can be grouped.</p></li>
</ul>
</div>
<div id="section-code-13" class="section level3">
<h3>Code</h3>
<pre class="r"><code># inspect data frame and tibble
Teams
as.tibble(Teams)

# subsetting a data frame sometimes generates vectors
class(Teams[,20])

# subsetting a tibble always generates tibbles
class(as.tibble(Teams[,20]))

# pulling a vector out of a tibble
class(as.tibble(Teams)$HR)

# access a non-existing column in a data frame or a tibble
Teams$hr
as.tibble(Teams)$hr

# create a tibble with complex objects
tibble(id = c(1, 2, 3), func = c(mean, median, sd))</code></pre>
</div>
</div>
<div id="section-do" class="section level2">
<h2>do</h2>
<p><img src="https://youtu.be/c9USTwQ-YI4" /></p>
<div id="section-textbook-link-18" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#linear-regression-in-the-tidyverse">textbook section - 18.5 Linear regression in the tidyverse</a>.</p>
</div>
<div id="section-key-points-19" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The <code>do()</code> function serves as a bridge between <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> functions, such as <code>lm()</code>, and the tidyverse.</p></li>
<li><p>We have to specify a column when using the <code>do()</code> function, otherwise we will get an error.</p></li>
<li><p>If the data frame being returned has more than one row, the rows will be concatenated appropriately.</p></li>
</ul>
</div>
<div id="section-code-14" class="section level3">
<h3>Code</h3>
<pre class="r"><code># use do to fit a regression line to each HR stratum
dat %&gt;%  
    group_by(HR) %&gt;%
    do(fit = lm(R ~ BB, data = .))
    
# using do without a column name gives an error
dat %&gt;%
    group_by(HR) %&gt;%
    do(lm(R ~ BB, data = .))

# define a function to extract slope from lm
get_slope &lt;- function(data){
  fit &lt;- lm(R ~ BB, data = data)
  data.frame(slope = fit$coefficients[2], 
             se = summary(fit)$coefficient[2,2])
}

# return the desired data frame
dat %&gt;%  
  group_by(HR) %&gt;%
  do(get_slope(.))
  
# not the desired output: a column containing data frames
dat %&gt;%  
  group_by(HR) %&gt;%
  do(slope = get_slope(.))
  
# data frames with multiple rows will be concatenated appropriately
get_lse &lt;- function(data){
  fit &lt;- lm(R ~ BB, data = data)
  data.frame(term = names(fit$coefficients),
    slope = fit$coefficients, 
    se = summary(fit)$coefficient[,2])
}

dat %&gt;%  
  group_by(HR) %&gt;%
  do(get_lse(.))</code></pre>
</div>
</div>
<div id="section-broom" class="section level2">
<h2>broom</h2>
<p><img src="https://youtu.be/UH6gk1ZH44k" /></p>
<div id="section-textbook-link-19" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#the-broom-package">textbook section - 18.5.1 The broom package</a>.</p>
</div>
<div id="section-key-points-20" class="section level3">
<h3>Key Points</h3>
<ul>
<li><p>The <strong>broom</strong> package has three main functions, all of which extract information from the object returned by <code>lm</code> and return it in a <strong>tidyverse</strong> friendly data frame.</p></li>
<li><p>The <code>tidy()</code> function returns estimates and related information as a data frame.</p></li>
<li><p>The functions <code>glance()</code> and <code>augment()</code> relate to model specific and observation specific outcomes respectively.</p></li>
</ul>
</div>
<div id="section-code-15" class="section level3">
<h3>Code</h3>
<pre class="r"><code># use tidy to return lm estimates and related information as a data frame
library(broom)
fit &lt;- lm(R ~ BB, data = dat)
tidy(fit)

# add confidence intervals with tidy
tidy(fit, conf.int = TRUE)

# pipeline with lm, do, tidy
dat %&gt;%  
  group_by(HR) %&gt;%
  do(tidy(lm(R ~ BB, data = .), conf.int = TRUE)) %&gt;%
  filter(term == &quot;BB&quot;) %&gt;%
  select(HR, estimate, conf.low, conf.high)
  
# make ggplots
dat %&gt;%  
  group_by(HR) %&gt;%
  do(tidy(lm(R ~ BB, data = .), conf.int = TRUE)) %&gt;%
  filter(term == &quot;BB&quot;) %&gt;%
  select(HR, estimate, conf.low, conf.high) %&gt;%
  ggplot(aes(HR, y = estimate, ymin = conf.low, ymax = conf.high)) +
  geom_errorbar() +
  geom_point()
  
# inspect with glance
glance(fit)</code></pre>
</div>
</div>
<div id="section-assessment-tibbles-do-and-broom-part-1" class="section level2">
<h2>2.3 Assessment: Tibbles, do, and broom, part 1</h2>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-tibbles-do-and-broom-part-2" class="section level2">
<h2>2.3 Assessment: Tibbles, do, and broom, part 2</h2>
<p>Insert assessment here</p>
</div>
<div id="section-building-a-better-offensive-metric-for-baseball" class="section level2">
<h2>Building a Better Offensive Metric for Baseball</h2>
<p><img src="https://youtu.be/grIjb6GAoHc" /></p>
<div id="section-textbook-link-20" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#case-study-moneyball-continued">textbook section - 18.7 Case study: Moneyball (continued)</a>.</p>
</div>
<div id="section-code-16" class="section level3">
<h3>Code</h3>
<pre class="r"><code># linear regression with two variables
fit &lt;- Teams %&gt;% 
  filter(yearID %in% 1961:2001) %&gt;% 
  mutate(BB = BB/G, HR = HR/G,  R = R/G) %&gt;%  
  lm(R ~ BB + HR, data = .)
  tidy(fit, conf.int = TRUE)
  
# regression with BB, singles, doubles, triples, HR
fit &lt;- Teams %&gt;% 
  filter(yearID %in% 1961:2001) %&gt;% 
  mutate(BB = BB / G, 
         singles = (H - X2B - X3B - HR) / G, 
         doubles = X2B / G, 
         triples = X3B / G, 
         HR = HR / G,
         R = R / G) %&gt;%  
  lm(R ~ BB + singles + doubles + triples + HR, data = .)
coefs &lt;- tidy(fit, conf.int = TRUE)
coefs

# predict number of runs for each team in 2002 and plot
Teams %&gt;% 
  filter(yearID %in% 2002) %&gt;% 
  mutate(BB = BB/G, 
         singles = (H-X2B-X3B-HR)/G, 
         doubles = X2B/G, 
         triples =X3B/G, 
         HR=HR/G,
         R=R/G)  %&gt;% 
  mutate(R_hat = predict(fit, newdata = .)) %&gt;%
  ggplot(aes(R_hat, R, label = teamID)) + 
  geom_point() +
  geom_text(nudge_x=0.1, cex = 2) + 
  geom_abline()
  
# average number of team plate appearances per game
pa_per_game &lt;- Batting %&gt;% filter(yearID == 2002) %&gt;% 
  group_by(teamID) %&gt;%
  summarize(pa_per_game = sum(AB+BB)/max(G)) %&gt;% 
  pull(pa_per_game) %&gt;% 
  mean
  
# compute per-plate-appearance rates for players available in 2002 using previous data
players &lt;- Batting %&gt;% filter(yearID %in% 1999:2001) %&gt;% 
  group_by(playerID) %&gt;%
  mutate(PA = BB + AB) %&gt;%
  summarize(G = sum(PA)/pa_per_game,
    BB = sum(BB)/G,
    singles = sum(H-X2B-X3B-HR)/G,
    doubles = sum(X2B)/G, 
    triples = sum(X3B)/G, 
    HR = sum(HR)/G,
    AVG = sum(H)/sum(AB),
    PA = sum(PA)) %&gt;%
  filter(PA &gt;= 300) %&gt;%
  select(-G) %&gt;%
  mutate(R_hat = predict(fit, newdata = .))
  
# plot player-specific predicted runs
qplot(R_hat, data = players, geom = &quot;histogram&quot;, binwidth = 0.5, color = I(&quot;black&quot;))

# add 2002 salary of each player
players &lt;- Salaries %&gt;% 
  filter(yearID == 2002) %&gt;%
  select(playerID, salary) %&gt;%
  right_join(players, by=&quot;playerID&quot;)
  
# add defensive position
position_names &lt;- c(&quot;G_p&quot;,&quot;G_c&quot;,&quot;G_1b&quot;,&quot;G_2b&quot;,&quot;G_3b&quot;,&quot;G_ss&quot;,&quot;G_lf&quot;,&quot;G_cf&quot;,&quot;G_rf&quot;)
tmp_tab &lt;- Appearances %&gt;% 
  filter(yearID == 2002) %&gt;% 
  group_by(playerID) %&gt;%
  summarize_at(position_names, sum) %&gt;%
  ungroup()  
pos &lt;- tmp_tab %&gt;%
  select(position_names) %&gt;%
  apply(., 1, which.max) 
players &lt;- data_frame(playerID = tmp_tab$playerID, POS = position_names[pos]) %&gt;%
  mutate(POS = str_to_upper(str_remove(POS, &quot;G_&quot;))) %&gt;%
  filter(POS != &quot;P&quot;) %&gt;%
  right_join(players, by=&quot;playerID&quot;) %&gt;%
  filter(!is.na(POS)  &amp; !is.na(salary))
  
# add players&#39; first and last names
players &lt;- Master %&gt;%
  select(playerID, nameFirst, nameLast, debut) %&gt;%
  mutate(debut = as.Date(debut)) %&gt;%
  right_join(players, by=&quot;playerID&quot;)
  
# top 10 players
players %&gt;% select(nameFirst, nameLast, POS, salary, R_hat) %&gt;% 
  arrange(desc(R_hat)) %&gt;% 
  top_n(10) 
  
# players with a higher metric have higher salaries
players %&gt;% ggplot(aes(salary, R_hat, color = POS)) + 
  geom_point() +
  scale_x_log10()
  
# remake plot without players that debuted after 1998
library(lubridate)
players %&gt;% filter(year(debut) &lt; 1998) %&gt;%
 ggplot(aes(salary, R_hat, color = POS)) + 
  geom_point() +
  scale_x_log10()</code></pre>
</div>
</div>
<div id="section-building-a-better-offensive-metric-for-baseball-linear-programming" class="section level2">
<h2>Building a Better Offensive Metric for Baseball: Linear Programming</h2>
<p>A way to actually pick the players for the team can be done using what computer scientists call <strong>linear programming</strong>. Although we don’t go into this topic in detail in this course, we include the code anyway:</p>
<pre class="r"><code>library(reshape2)
library(lpSolve)

players &lt;- players %&gt;% filter(debut &lt;= &quot;1997-01-01&quot; &amp; debut &gt; &quot;1988-01-01&quot;)
constraint_matrix &lt;- acast(players, POS ~ playerID, fun.aggregate = length)
npos &lt;- nrow(constraint_matrix)
constraint_matrix &lt;- rbind(constraint_matrix, salary = players$salary)
constraint_dir &lt;- c(rep(&quot;==&quot;, npos), &quot;&lt;=&quot;)
constraint_limit &lt;- c(rep(1, npos), 50*10^6)
lp_solution &lt;- lp(&quot;max&quot;, players$R_hat,
                  constraint_matrix, constraint_dir, constraint_limit,
                  all.int = TRUE) </code></pre>
<p>This algorithm chooses these 9 players:</p>
<pre class="r"><code>our_team &lt;- players %&gt;%
  filter(lp_solution$solution == 1) %&gt;%
  arrange(desc(R_hat))
our_team %&gt;% select(nameFirst, nameLast, POS, salary, R_hat)</code></pre>
<p>We note that these players all have above average BB and HR rates while the same is not true for singles.</p>
<pre class="r"><code>my_scale &lt;- function(x) (x - median(x))/mad(x)
players %&gt;% mutate(BB = my_scale(BB), 
                   singles = my_scale(singles),
                   doubles = my_scale(doubles),
                   triples = my_scale(triples),
                   HR = my_scale(HR),
                   AVG = my_scale(AVG),
                   R_hat = my_scale(R_hat)) %&gt;%
    filter(playerID %in% our_team$playerID) %&gt;%
    select(nameFirst, nameLast, BB, singles, doubles, triples, HR, AVG, R_hat) %&gt;%
    arrange(desc(R_hat))</code></pre>
</div>
<div id="section-on-base-plus-slugging-ops" class="section level2">
<h2>On Base Plus Slugging (OPS)</h2>
<p><img src="https://youtu.be/3JLEIx1VA8Q" /></p>
<div id="section-key-points-21" class="section level3">
<h3>Key points</h3>
<figure>
<img src="images/pic8.png" alt="R Studio" style="width:750px">
</figure>
</div>
</div>
<div id="section-regression-fallacy" class="section level2">
<h2>Regression Fallacy</h2>
<p><img src="https://youtu.be/2yjtpUsJCuI" /></p>
<div id="section-textbook-link-21" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#the-regression-fallacy">textbook section - 18.8 The regression fallacy</a>.</p>
</div>
<div id="section-key-points-22" class="section level3">
<h3>Key points</h3>
<ul>
<li><p>Regression can bring about errors in reasoning, especially when interpreting individual observations.</p></li>
<li><p>The example showed in the video demonstrates that the <strong>“sophomore slump”</strong> observed in the data is caused by regressing to the mean.</p></li>
</ul>
</div>
<div id="section-code-17" class="section level3">
<h3>Code</h3>
<p>The code to create a table with player ID, their names, and their most played position:</p>
<pre class="r"><code>library(Lahman)
playerInfo &lt;- Fielding %&gt;%
    group_by(playerID) %&gt;%
    arrange(desc(G)) %&gt;%
    slice(1) %&gt;%
    ungroup %&gt;%
    left_join(Master, by=&quot;playerID&quot;) %&gt;%
    select(playerID, nameFirst, nameLast, POS)</code></pre>
</div>
<div id="section-the-code-to-create-a-table-with-only-the-roy-award-winners-and-add-their-batting-statistics" class="section level3">
<h3>The code to create a table with only the ROY award winners and add their batting statistics:</h3>
<pre class="r"><code>ROY &lt;- AwardsPlayers %&gt;%
    filter(awardID == &quot;Rookie of the Year&quot;) %&gt;%
    left_join(playerInfo, by=&quot;playerID&quot;) %&gt;%
    rename(rookie_year = yearID) %&gt;%
    right_join(Batting, by=&quot;playerID&quot;) %&gt;%
    mutate(AVG = H/AB) %&gt;%
    filter(POS != &quot;P&quot;)</code></pre>
</div>
<div id="section-the-code-to-keep-only-the-rookie-and-sophomore-seasons-and-remove-players-who-did-not-play-sophomore-seasons" class="section level3">
<h3>The code to keep only the rookie and sophomore seasons and remove players who did not play sophomore seasons:</h3>
<pre class="r"><code>ROY &lt;- ROY %&gt;%
    filter(yearID == rookie_year | yearID == rookie_year+1) %&gt;%
    group_by(playerID) %&gt;%
    mutate(rookie = ifelse(yearID == min(yearID), &quot;rookie&quot;, &quot;sophomore&quot;)) %&gt;%
    filter(n() == 2) %&gt;%
    ungroup %&gt;%
    select(playerID, rookie_year, rookie, nameFirst, nameLast, AVG)</code></pre>
</div>
<div id="section-the-code-to-use-the-spread-function-to-have-one-column-for-the-rookie-and-sophomore-years-batting-averages" class="section level3">
<h3>The code to use the spread function to have one column for the rookie and sophomore years batting averages:</h3>
<pre class="r"><code>ROY &lt;- ROY %&gt;% spread(rookie, AVG) %&gt;% arrange(desc(rookie))
ROY</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["playerID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["rookie_year"],"name":[2],"type":["int"],"align":["right"]},{"label":["nameFirst"],"name":[3],"type":["chr"],"align":["left"]},{"label":["nameLast"],"name":[4],"type":["chr"],"align":["left"]},{"label":["rookie"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["sophomore"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"mccovwi01","2":"1959","3":"Willie","4":"McCovey","5":"0.3541667","6":"0.2384615"},{"1":"suzukic01","2":"2001","3":"Ichiro","4":"Suzuki","5":"0.3497110","6":"0.3214838"},{"1":"bumbral01","2":"1973","3":"Al","4":"Bumbry","5":"0.3370787","6":"0.2333333"},{"1":"lynnfr01","2":"1975","3":"Fred","4":"Lynn","5":"0.3314394","6":"0.3136095"},{"1":"pujolal01","2":"2001","3":"Albert","4":"Pujols","5":"0.3288136","6":"0.3135593"},{"1":"troutmi01","2":"2012","3":"Mike","4":"Trout","5":"0.3255814","6":"0.3225806"},{"1":"braunry02","2":"2007","3":"Ryan","4":"Braun","5":"0.3237251","6":"0.2847791"},{"1":"olivato01","2":"1964","3":"Tony","4":"Oliva","5":"0.3229167","6":"0.3211806"},{"1":"hargrmi01","2":"1974","3":"Mike","4":"Hargrove","5":"0.3228916","6":"0.3025048"},{"1":"darkal01","2":"1948","3":"Al","4":"Dark","5":"0.3222836","6":"0.2759924"},{"1":"dropowa01","2":"1950","3":"Walt","4":"Dropo","5":"0.3220036","6":"0.2388889"},{"1":"coghlch01","2":"2009","3":"Chris","4":"Coghlan","5":"0.3214286","6":"0.2681564"},{"1":"piazzmi01","2":"1993","3":"Mike","4":"Piazza","5":"0.3180987","6":"0.3185185"},{"1":"allendi01","2":"1964","3":"Dick","4":"Allen","5":"0.3180380","6":"0.3021002"},{"1":"pedrodu01","2":"2007","3":"Dustin","4":"Pedroia","5":"0.3173077","6":"0.3261868"},{"1":"abreujo02","2":"2014","3":"Jose","4":"Abreu","5":"0.3165468","6":"0.2903752"},{"1":"jeterde01","2":"1996","3":"Derek","4":"Jeter","5":"0.3144330","6":"0.2905199"},{"1":"cepedor01","2":"1958","3":"Orlando","4":"Cepeda","5":"0.3117745","6":"0.3173554"},{"1":"mcbriba01","2":"1974","3":"Bake","4":"McBride","5":"0.3094812","6":"0.3002421"},{"1":"seageco01","2":"2016","3":"Corey","4":"Seager","5":"0.3078150","6":"0.2949907"},{"1":"kuennha01","2":"1953","3":"Harvey","4":"Kuenn","5":"0.3078056","6":"0.3064024"},{"1":"mondera01","2":"1994","3":"Raul","4":"Mondesi","5":"0.3064516","6":"0.2854478"},{"1":"mcdougi01","2":"1951","3":"Gil","4":"McDougald","5":"0.3059701","6":"0.2630631"},{"1":"sievero01","2":"1949","3":"Roy","4":"Sievers","5":"0.3057325","6":"0.2378378"},{"1":"garcino01","2":"1997","3":"Nomar","4":"Garciaparra","5":"0.3055556","6":"0.3228477"},{"1":"poseybu01","2":"2010","3":"Buster","4":"Posey","5":"0.3054187","6":"0.2839506"},{"1":"moonwa01","2":"1954","3":"Wally","4":"Moon","5":"0.3039370","6":"0.2951096"},{"1":"munsoth01","2":"1970","3":"Thurman","4":"Munson","5":"0.3024283","6":"0.2505543"},{"1":"santibe01","2":"1987","3":"Benito","4":"Santiago","5":"0.3003663","6":"0.2479675"},{"1":"matthga01","2":"1973","3":"Gary","4":"Matthews","5":"0.3000000","6":"0.2869875"},{"1":"kubekto01","2":"1957","3":"Tony","4":"Kubek","5":"0.2969838","6":"0.2647585"},{"1":"robinja02","2":"1947","3":"Jackie","4":"Robinson","5":"0.2966102","6":"0.2961672"},{"1":"furcara01","2":"2000","3":"Rafael","4":"Furcal","5":"0.2945055","6":"0.2746914"},{"1":"bagweje01","2":"1991","3":"Jeff","4":"Bagwell","5":"0.2942238","6":"0.2730375"},{"1":"fiskca01","2":"1972","3":"Carlton","4":"Fisk","5":"0.2932166","6":"0.2460630"},{"1":"waltoje01","2":"1989","3":"Jerome","4":"Walton","5":"0.2926316","6":"0.2627551"},{"1":"beltrca01","2":"1999","3":"Carlos","4":"Beltran","5":"0.2926094","6":"0.2473118"},{"1":"myerswi01","2":"2013","3":"Wil","4":"Myers","5":"0.2925373","6":"0.2215385"},{"1":"ramirha01","2":"2006","3":"Hanley","4":"Ramirez","5":"0.2922591","6":"0.3317684"},{"1":"carewro01","2":"1967","3":"Rod","4":"Carew","5":"0.2918288","6":"0.2733189"},{"1":"hollato01","2":"1996","3":"Todd","4":"Hollandsworth","5":"0.2907950","6":"0.2466216"},{"1":"robinfr02","2":"1956","3":"Frank","4":"Robinson","5":"0.2902098","6":"0.3224223"},{"1":"listapa01","2":"1992","3":"Pat","4":"Listach","5":"0.2901554","6":"0.2443820"},{"1":"alomasa02","2":"1990","3":"Sandy","4":"Alomar","5":"0.2898876","6":"0.2173913"},{"1":"charbjo01","2":"1980","3":"Joe","4":"Charboneau","5":"0.2891832","6":"0.2101449"},{"1":"mcgwima01","2":"1987","3":"Mark","4":"McGwire","5":"0.2890485","6":"0.2600000"},{"1":"howarry01","2":"2005","3":"Ryan","4":"Howard","5":"0.2884615","6":"0.3132530"},{"1":"grievbe01","2":"1998","3":"Ben","4":"Grieve","5":"0.2881647","6":"0.2654321"},{"1":"berroan01","2":"2003","3":"Angel","4":"Berroa","5":"0.2874780","6":"0.2617188"},{"1":"griffal01","2":"1979","3":"Alfredo","4":"Griffin","5":"0.2868590","6":"0.2542113"},{"1":"treshto01","2":"1962","3":"Tom","4":"Tresh","5":"0.2861736","6":"0.2692308"},{"1":"sotoge01","2":"2008","3":"Geovany","4":"Soto","5":"0.2854251","6":"0.2175227"},{"1":"whitalo01","2":"1978","3":"Lou","4":"Whitaker","5":"0.2851240","6":"0.2860520"},{"1":"castijo01","2":"1979","3":"John","4":"Castino","5":"0.2849873","6":"0.3021978"},{"1":"helmsto01","2":"1966","3":"Tommy","4":"Helms","5":"0.2841328","6":"0.2736419"},{"1":"judgeaa01","2":"2017","3":"Aaron","4":"Judge","5":"0.2841328","6":"0.2784504"},{"1":"davisal01","2":"1984","3":"Alvin","4":"Davis","5":"0.2839506","6":"0.2871972"},{"1":"salmoti01","2":"1993","3":"Tim","4":"Salmon","5":"0.2834951","6":"0.2868633"},{"1":"rolensc01","2":"1997","3":"Scott","4":"Rolen","5":"0.2834225","6":"0.2895175"},{"1":"murraed02","2":"1977","3":"Eddie","4":"Murray","5":"0.2831424","6":"0.2852459"},{"1":"justida01","2":"1990","3":"David","4":"Justice","5":"0.2824601","6":"0.2752525"},{"1":"bayja01","2":"2004","3":"Jason","4":"Bay","5":"0.2822384","6":"0.3055092"},{"1":"saxst01","2":"1982","3":"Steve","4":"Sax","5":"0.2821317","6":"0.2808989"},{"1":"hamelbo01","2":"1994","3":"Bob","4":"Hamelin","5":"0.2820513","6":"0.1682692"},{"1":"pinielo01","2":"1969","3":"Lou","4":"Piniella","5":"0.2819473","6":"0.3007380"},{"1":"dawsoan01","2":"1977","3":"Andre","4":"Dawson","5":"0.2819048","6":"0.2528736"},{"1":"knoblch01","2":"1991","3":"Chuck","4":"Knoblauch","5":"0.2814159","6":"0.2966667"},{"1":"hinsker01","2":"2002","3":"Eric","4":"Hinske","5":"0.2791519","6":"0.2427617"},{"1":"correca01","2":"2015","3":"Carlos","4":"Correa","5":"0.2790698","6":"0.2738302"},{"1":"willibi01","2":"1961","3":"Billy","4":"Williams","5":"0.2778828","6":"0.2977346"},{"1":"gilliji01","2":"1953","3":"Jim","4":"Gilliam","5":"0.2776860","6":"0.2817133"},{"1":"cordoma01","2":"1995","3":"Marty","4":"Cordova","5":"0.2773438","6":"0.3093146"},{"1":"bryankr01","2":"2015","3":"Kris","4":"Bryant","5":"0.2754919","6":"0.2918740"},{"1":"benchjo01","2":"1968","3":"Johnny","4":"Bench","5":"0.2748227","6":"0.2932331"},{"1":"chambch01","2":"1971","3":"Chris","4":"Chambliss","5":"0.2746988","6":"0.2918455"},{"1":"mayswi01","2":"1951","3":"Willie","4":"Mays","5":"0.2737069","6":"0.2362205"},{"1":"ageeto01","2":"1966","3":"Tommie","4":"Agee","5":"0.2734499","6":"0.2344045"},{"1":"jethrsa01","2":"1950","3":"Sam","4":"Jethroe","5":"0.2731959","6":"0.2797203"},{"1":"guilloz01","2":"1985","3":"Ozzie","4":"Guillen","5":"0.2729124","6":"0.2504570"},{"1":"rosepe01","2":"1963","3":"Pete","4":"Rose","5":"0.2728732","6":"0.2693798"},{"1":"longoev01","2":"2008","3":"Evan","4":"Longoria","5":"0.2723214","6":"0.2808219"},{"1":"saboch01","2":"1988","3":"Chris","4":"Sabo","5":"0.2713755","6":"0.2598684"},{"1":"sizemte01","2":"1969","3":"Ted","4":"Sizemore","5":"0.2711864","6":"0.3058824"},{"1":"harpebr03","2":"2012","3":"Bryce","4":"Harper","5":"0.2701689","6":"0.2735849"},{"1":"howarfr01","2":"1960","3":"Frank","4":"Howard","5":"0.2678571","6":"0.2958801"},{"1":"colemvi01","2":"1985","3":"Vince","4":"Coleman","5":"0.2672956","6":"0.2316667"},{"1":"bellico01","2":"2017","3":"Cody","4":"Bellinger","5":"0.2666667","6":"0.2603232"},{"1":"aparilu01","2":"1956","3":"Luis","4":"Aparicio","5":"0.2664165","6":"0.2573913"},{"1":"hornebo01","2":"1978","3":"Bob","4":"Horner","5":"0.2662539","6":"0.3141684"},{"1":"ripkeca01","2":"1982","3":"Cal","4":"Ripken","5":"0.2642140","6":"0.3182504"},{"1":"allisbo01","2":"1959","3":"Bob","4":"Allison","5":"0.2614035","6":"0.2514970"},{"1":"hubbske01","2":"1962","3":"Ken","4":"Hubbs","5":"0.2602118","6":"0.2349823"},{"1":"blefacu01","2":"1965","3":"Curt","4":"Blefary","5":"0.2597403","6":"0.2553699"},{"1":"williea02","2":"1971","3":"Earl","4":"Williams","5":"0.2595573","6":"0.2584071"},{"1":"strawda01","2":"1983","3":"Darryl","4":"Strawberry","5":"0.2571429","6":"0.2509579"},{"1":"karroer01","2":"1992","3":"Eric","4":"Karros","5":"0.2568807","6":"0.2471729"},{"1":"hansero02","2":"1960","3":"Ron","4":"Hansen","5":"0.2547170","6":"0.2476548"},{"1":"kittlro01","2":"1983","3":"Ron","4":"Kittle","5":"0.2538462","6":"0.2145923"},{"1":"lefebji01","2":"1965","3":"Jim","4":"Lefebvre","5":"0.2500000","6":"0.2738971"},{"1":"weisswa01","2":"1988","3":"Walt","4":"Weiss","5":"0.2500000","6":"0.2330508"},{"1":"cansejo01","2":"1986","3":"Jose","4":"Canseco","5":"0.2400000","6":"0.2571429"},{"1":"crosbbo01","2":"2004","3":"Bobby","4":"Crosby","5":"0.2385321","6":"0.2762763"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-the-code-to-calculate-the-proportion-of-players-who-have-a-lower-batting-average-their-sophomore-year" class="section level3">
<h3>The code to calculate the proportion of players who have a lower batting average their sophomore year:</h3>
<pre class="r"><code>mean(ROY$sophomore - ROY$rookie &lt;= 0)</code></pre>
<pre><code>## [1] 0.6862745</code></pre>
</div>
<div id="section-the-code-to-do-the-similar-analysis-on-all-players-that-played-the-2013-and-2014-seasons-and-batted-more-than-130-times-minimum-to-win-rookie-of-the-year" class="section level3">
<h3>The code to do the similar analysis on all players that played the 2013 and 2014 seasons and batted more than 130 times (minimum to win Rookie of the Year):</h3>
<pre class="r"><code>two_years &lt;- Batting %&gt;%
    filter(yearID %in% 2013:2014) %&gt;%
    group_by(playerID, yearID) %&gt;%
    filter(sum(AB) &gt;= 130) %&gt;%
    summarize(AVG = sum(H)/sum(AB)) %&gt;%
    ungroup %&gt;%
    spread(yearID, AVG) %&gt;%
    filter(!is.na(`2013`) &amp; !is.na(`2014`)) %&gt;%
    left_join(playerInfo, by=&quot;playerID&quot;) %&gt;%
    filter(POS!=&quot;P&quot;) %&gt;%
    select(-POS) %&gt;%
    arrange(desc(`2013`)) %&gt;%
    select(nameFirst, nameLast, `2013`, `2014`)
two_years</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["nameFirst"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nameLast"],"name":[2],"type":["chr"],"align":["left"]},{"label":["2013"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2014"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Miguel","2":"Cabrera","3":"0.3477477","4":"0.3126023"},{"1":"Hanley","2":"Ramirez","3":"0.3453947","4":"0.2828508"},{"1":"Michael","2":"Cuddyer","3":"0.3312883","4":"0.3315789"},{"1":"Scooter","2":"Gennett","3":"0.3239437","4":"0.2886364"},{"1":"Joe","2":"Mauer","3":"0.3235955","4":"0.2769231"},{"1":"Mike","2":"Trout","3":"0.3225806","4":"0.2873754"},{"1":"Chris","2":"Johnson","3":"0.3210117","4":"0.2628866"},{"1":"Freddie","2":"Freeman","3":"0.3194192","4":"0.2883031"},{"1":"Yasiel","2":"Puig","3":"0.3193717","4":"0.2956989"},{"1":"Yadier","2":"Molina","3":"0.3188119","4":"0.2821782"},{"1":"Jayson","2":"Werth","3":"0.3181818","4":"0.2921348"},{"1":"Matt","2":"Carpenter","3":"0.3178914","4":"0.2722689"},{"1":"Omar","2":"Infante","3":"0.3178808","4":"0.2518939"},{"1":"Andrew","2":"McCutchen","3":"0.3173242","4":"0.3138686"},{"1":"Willie","2":"Bloomquist","3":"0.3165468","4":"0.2781955"},{"1":"Adrian","2":"Beltre","3":"0.3153724","4":"0.3242259"},{"1":"Allen","2":"Craig","3":"0.3149606","4":"0.2147505"},{"1":"Robinson","2":"Cano","3":"0.3140496","4":"0.3142857"},{"1":"Troy","2":"Tulowitzki","3":"0.3116592","4":"0.3396825"},{"1":"Charlie","2":"Blackmon","3":"0.3089431","4":"0.2883642"},{"1":"David","2":"Ortiz","3":"0.3088803","4":"0.2625483"},{"1":"David","2":"Wright","3":"0.3069767","4":"0.2691589"},{"1":"Ben","2":"Revere","3":"0.3047619","4":"0.3061564"},{"1":"Joey","2":"Votto","3":"0.3046472","4":"0.2545455"},{"1":"Danny","2":"Valencia","3":"0.3043478","4":"0.2575758"},{"1":"Torii","2":"Hunter","3":"0.3036304","4":"0.2859745"},{"1":"Daniel","2":"Nava","3":"0.3034934","4":"0.2699725"},{"1":"Jhonny","2":"Peralta","3":"0.3031785","4":"0.2625000"},{"1":"Paul","2":"Goldschmidt","3":"0.3023256","4":"0.3004926"},{"1":"Carlos","2":"Gonzalez","3":"0.3017903","4":"0.2384615"},{"1":"Eric","2":"Hosmer","3":"0.3017657","4":"0.2703777"},{"1":"Dustin","2":"Pedroia","3":"0.3010920","4":"0.2776770"},{"1":"Victor","2":"Martinez","3":"0.3008264","4":"0.3351159"},{"1":"Josh","2":"Donaldson","3":"0.3005181","4":"0.2549342"},{"1":"Matt","2":"Holliday","3":"0.3000000","4":"0.2717770"},{"1":"Dioner","2":"Navarro","3":"0.3000000","4":"0.2744283"},{"1":"James","2":"Loney","3":"0.2987250","4":"0.2900000"},{"1":"Jacoby","2":"Ellsbury","3":"0.2980936","4":"0.2713043"},{"1":"Ryan","2":"Braun","3":"0.2977778","4":"0.2660377"},{"1":"Howie","2":"Kendrick","3":"0.2970711","4":"0.2933549"},{"1":"Brayan","2":"Pena","3":"0.2969432","4":"0.2528736"},{"1":"Carlos","2":"Beltran","3":"0.2960289","4":"0.2332506"},{"1":"Jose","2":"Reyes","3":"0.2958115","4":"0.2868852"},{"1":"Buster","2":"Posey","3":"0.2942308","4":"0.3107861"},{"1":"Jean","2":"Segura","3":"0.2942177","4":"0.2456140"},{"1":"Yan","2":"Gomes","3":"0.2935154","4":"0.2783505"},{"1":"Adrian","2":"Gonzalez","3":"0.2933105","4":"0.2758037"},{"1":"Wil","2":"Myers","3":"0.2925373","4":"0.2215385"},{"1":"Salvador","2":"Perez","3":"0.2923387","4":"0.2595156"},{"1":"Wilin","2":"Rosario","3":"0.2917595","4":"0.2670157"},{"1":"Marlon","2":"Byrd","3":"0.2913534","4":"0.2639594"},{"1":"Aaron","2":"Hill","3":"0.2905199","4":"0.2435130"},{"1":"Jed","2":"Lowrie","3":"0.2902156","4":"0.2490040"},{"1":"Brandon","2":"Belt","3":"0.2888016","4":"0.2429907"},{"1":"Billy","2":"Butler","3":"0.2886598","4":"0.2714026"},{"1":"Adam","2":"Lind","3":"0.2881720","4":"0.3206897"},{"1":"Christian","2":"Yelich","3":"0.2875000","4":"0.2835052"},{"1":"Nori","2":"Aoki","3":"0.2864322","4":"0.2851324"},{"1":"Chris","2":"Davis","3":"0.2859589","4":"0.1955556"},{"1":"David","2":"Lough","3":"0.2857143","4":"0.2471264"},{"1":"Daniel","2":"Murphy","3":"0.2857143","4":"0.2885906"},{"1":"Jordy","2":"Mercer","3":"0.2852853","4":"0.2549407"},{"1":"Adam","2":"Jones","3":"0.2848392","4":"0.2810559"},{"1":"Shin-Soo","2":"Choo","3":"0.2847100","4":"0.2417582"},{"1":"Michael","2":"Brantley","3":"0.2841727","4":"0.3273322"},{"1":"Alexei","2":"Ramirez","3":"0.2841444","4":"0.2733119"},{"1":"Junior","2":"Lake","3":"0.2838983","4":"0.2110390"},{"1":"Matt","2":"Adams","3":"0.2837838","4":"0.2884250"},{"1":"Jason","2":"Kipnis","3":"0.2836879","4":"0.2400000"},{"1":"Chase","2":"Utley","3":"0.2836134","4":"0.2699491"},{"1":"Carlos","2":"Gomez","3":"0.2835821","4":"0.2839721"},{"1":"Everth","2":"Cabrera","3":"0.2834646","4":"0.2324930"},{"1":"Manny","2":"Machado","3":"0.2833583","4":"0.2782875"},{"1":"Hunter","2":"Pence","3":"0.2829889","4":"0.2769231"},{"1":"Aramis","2":"Ramirez","3":"0.2828947","4":"0.2854251"},{"1":"Avisail","2":"Garcia","3":"0.2827869","4":"0.2441860"},{"1":"Carl","2":"Crawford","3":"0.2827586","4":"0.3002915"},{"1":"Jose","2":"Altuve","3":"0.2827476","4":"0.3409091"},{"1":"Jose","2":"Tabata","3":"0.2824675","4":"0.2816092"},{"1":"Martin","2":"Prado","3":"0.2824302","4":"0.2817164"},{"1":"Angel","2":"Pagan","3":"0.2821429","4":"0.3002611"},{"1":"Kole","2":"Calhoun","3":"0.2820513","4":"0.2718053"},{"1":"Yonder","2":"Alonso","3":"0.2814371","4":"0.2397004"},{"1":"Craig","2":"Gentry","3":"0.2804878","4":"0.2543103"},{"1":"Starling","2":"Marte","3":"0.2803922","4":"0.2909091"},{"1":"Jonathan","2":"Lucroy","3":"0.2802303","4":"0.3008547"},{"1":"Ian","2":"Desmond","3":"0.2800000","4":"0.2546374"},{"1":"Justin","2":"Turner","3":"0.2800000","4":"0.3402778"},{"1":"DJ","2":"LeMahieu","3":"0.2797030","4":"0.2672065"},{"1":"Khris","2":"Davis","3":"0.2794118","4":"0.2435130"},{"1":"Jeff","2":"Baker","3":"0.2792208","4":"0.2644231"},{"1":"Melky","2":"Cabrera","3":"0.2790698","4":"0.3010563"},{"1":"Chris","2":"Denorfia","3":"0.2790698","4":"0.2303030"},{"1":"Prince","2":"Fielder","3":"0.2788462","4":"0.2466667"},{"1":"Denard","2":"Span","3":"0.2786885","4":"0.3016393"},{"1":"Juan","2":"Uribe","3":"0.2783505","4":"0.3108808"},{"1":"Pablo","2":"Sandoval","3":"0.2780952","4":"0.2789116"},{"1":"Cody","2":"Ross","3":"0.2776025","4":"0.2524752"},{"1":"Alex","2":"Rios","3":"0.2775974","4":"0.2804878"},{"1":"Kendrys","2":"Morales","3":"0.2774086","4":"0.2179837"},{"1":"Ian","2":"Kinsler","3":"0.2770642","4":"0.2748538"},{"1":"Jason","2":"Castro","3":"0.2758621","4":"0.2215054"},{"1":"Colby","2":"Rasmus","3":"0.2757794","4":"0.2254335"},{"1":"Alex","2":"Presley","3":"0.2756757","4":"0.2440945"},{"1":"Jon","2":"Jay","3":"0.2755474","4":"0.3026634"},{"1":"Carlos","2":"Quentin","3":"0.2753623","4":"0.1769231"},{"1":"Ryan","2":"Zimmerman","3":"0.2746479","4":"0.2803738"},{"1":"Ben","2":"Zobrist","3":"0.2745098","4":"0.2719298"},{"1":"Peter","2":"Bourjos","3":"0.2742857","4":"0.2310606"},{"1":"Welington","2":"Castillo","3":"0.2736842","4":"0.2368421"},{"1":"Bryce","2":"Harper","3":"0.2735849","4":"0.2727273"},{"1":"Jarrod","2":"Saltalamacchia","3":"0.2729412","4":"0.2198391"},{"1":"Brett","2":"Gardner","3":"0.2727273","4":"0.2558559"},{"1":"A. J.","2":"Pierzynski","3":"0.2723658","4":"0.2514793"},{"1":"Domonic","2":"Brown","3":"0.2721774","4":"0.2346723"},{"1":"Andre","2":"Ethier","3":"0.2717842","4":"0.2492669"},{"1":"Wilson","2":"Ramos","3":"0.2717770","4":"0.2668622"},{"1":"Austin","2":"Jackson","3":"0.2717391","4":"0.2562814"},{"1":"Edwin","2":"Encarnacion","3":"0.2716981","4":"0.2683438"},{"1":"Ryan","2":"Raburn","3":"0.2716049","4":"0.2000000"},{"1":"Nick","2":"Markakis","3":"0.2712934","4":"0.2757009"},{"1":"Joaquin","2":"Arias","3":"0.2711111","4":"0.2538860"},{"1":"Elvis","2":"Andrus","3":"0.2709677","4":"0.2633279"},{"1":"Erick","2":"Aybar","3":"0.2709091","4":"0.2784380"},{"1":"John","2":"Jaso","3":"0.2705314","4":"0.2638436"},{"1":"Mark","2":"Ellis","3":"0.2702079","4":"0.1797753"},{"1":"Matt","2":"Kemp","3":"0.2699620","4":"0.2865065"},{"1":"Evan","2":"Longoria","3":"0.2687296","4":"0.2532051"},{"1":"A. J.","2":"Pollock","3":"0.2686230","4":"0.3018868"},{"1":"Robbie","2":"Grossman","3":"0.2684825","4":"0.2333333"},{"1":"Will","2":"Venable","3":"0.2681913","4":"0.2241379"},{"1":"Carlos","2":"Santana","3":"0.2680222","4":"0.2310536"},{"1":"Gerardo","2":"Parra","3":"0.2678869","4":"0.2608696"},{"1":"Carlos","2":"Ruiz","3":"0.2677419","4":"0.2519685"},{"1":"Nolan","2":"Arenado","3":"0.2674897","4":"0.2870370"},{"1":"Endy","2":"Chavez","3":"0.2669173","4":"0.2758621"},{"1":"Gordon","2":"Beckham","3":"0.2668464","4":"0.2264574"},{"1":"Nelson","2":"Cruz","3":"0.2663438","4":"0.2707993"},{"1":"Eric","2":"Sogard","3":"0.2663043","4":"0.2233677"},{"1":"Ryan","2":"Howard","3":"0.2657343","4":"0.2231986"},{"1":"Ryan","2":"Sweeney","3":"0.2656250","4":"0.2512077"},{"1":"Gregor","2":"Blanco","3":"0.2654867","4":"0.2595420"},{"1":"Marcell","2":"Ozuna","3":"0.2654545","4":"0.2690265"},{"1":"Alex","2":"Gordon","3":"0.2654028","4":"0.2664298"},{"1":"Dayan","2":"Viciedo","3":"0.2653061","4":"0.2313576"},{"1":"Anthony","2":"Rendon","3":"0.2649573","4":"0.2871126"},{"1":"Brad","2":"Miller","3":"0.2647059","4":"0.2207084"},{"1":"Alejandro","2":"De Aza","3":"0.2635914","4":"0.2515723"},{"1":"Justin","2":"Upton","3":"0.2634409","4":"0.2703180"},{"1":"Skip","2":"Schumaker","3":"0.2633229","4":"0.2348178"},{"1":"J. J.","2":"Hardy","3":"0.2628952","4":"0.2684310"},{"1":"Corey","2":"Dickerson","3":"0.2628866","4":"0.3119266"},{"1":"Michael","2":"Bourn","3":"0.2628571","4":"0.2567568"},{"1":"Dexter","2":"Fowler","3":"0.2626506","4":"0.2764977"},{"1":"Jay","2":"Bruce","3":"0.2619808","4":"0.2170385"},{"1":"David","2":"Freese","3":"0.2619048","4":"0.2597403"},{"1":"Ichiro","2":"Suzuki","3":"0.2615385","4":"0.2841226"},{"1":"Coco","2":"Crisp","3":"0.2612086","4":"0.2462203"},{"1":"Brandon","2":"Phillips","3":"0.2607261","4":"0.2662338"},{"1":"Delmon","2":"Young","3":"0.2604790","4":"0.3016529"},{"1":"Leonys","2":"Martin","3":"0.2603939","4":"0.2739212"},{"1":"Kyle","2":"Seager","3":"0.2601626","4":"0.2677966"},{"1":"Eduardo","2":"Nunez","3":"0.2598684","4":"0.2500000"},{"1":"Rajai","2":"Davis","3":"0.2598187","4":"0.2819957"},{"1":"Mike","2":"Napoli","3":"0.2590361","4":"0.2481928"},{"1":"Jose","2":"Bautista","3":"0.2588496","4":"0.2857143"},{"1":"Justin","2":"Morneau","3":"0.2587413","4":"0.3187251"},{"1":"Anthony","2":"Gose","3":"0.2585034","4":"0.2259414"},{"1":"Albert","2":"Pujols","3":"0.2583120","4":"0.2717220"},{"1":"Alberto","2":"Callaspo","3":"0.2582781","4":"0.2227723"},{"1":"Jarrod","2":"Dyson","3":"0.2582160","4":"0.2692308"},{"1":"Nate","2":"McLouth","3":"0.2580038","4":"0.1726619"},{"1":"Chris","2":"Coghlan","3":"0.2564103","4":"0.2831169"},{"1":"Ed","2":"Lucas","3":"0.2564103","4":"0.2513966"},{"1":"Yunel","2":"Escobar","3":"0.2559055","4":"0.2584034"},{"1":"Brian","2":"McCann","3":"0.2556180","4":"0.2323232"},{"1":"Brandon","2":"Moss","3":"0.2556054","4":"0.2340000"},{"1":"Nick","2":"Punto","3":"0.2551020","4":"0.2070707"},{"1":"Alfonso","2":"Soriano","3":"0.2547332","4":"0.2212389"},{"1":"Brett","2":"Lawrie","3":"0.2543641","4":"0.2471042"},{"1":"Zack","2":"Cozart","3":"0.2539683","4":"0.2213439"},{"1":"Jason","2":"Heyward","3":"0.2539267","4":"0.2705061"},{"1":"Gaby","2":"Sanchez","3":"0.2537879","4":"0.2290076"},{"1":"Trevor","2":"Plouffe","3":"0.2536688","4":"0.2576923"},{"1":"Stephen","2":"Drew","3":"0.2533937","4":"0.1623616"},{"1":"Seth","2":"Smith","3":"0.2527174","4":"0.2663657"},{"1":"Dustin","2":"Ackley","3":"0.2526042","4":"0.2450199"},{"1":"Desmond","2":"Jennings","3":"0.2523719","4":"0.2442589"},{"1":"Didi","2":"Gregorius","3":"0.2521008","4":"0.2259259"},{"1":"Mike","2":"Aviles","3":"0.2520776","4":"0.2470930"},{"1":"Adam","2":"Eaton","3":"0.2520000","4":"0.3004115"},{"1":"Stephen","2":"Vogt","3":"0.2518519","4":"0.2788104"},{"1":"Jimmy","2":"Rollins","3":"0.2516667","4":"0.2434944"},{"1":"Nate","2":"Schierholtz","3":"0.2510823","4":"0.1954674"},{"1":"Neil","2":"Walker","3":"0.2510460","4":"0.2714844"},{"1":"Oswaldo","2":"Arcia","3":"0.2507123","4":"0.2311828"},{"1":"David","2":"DeJesus","3":"0.2506394","4":"0.2478992"},{"1":"Lorenzo","2":"Cain","3":"0.2506266","4":"0.3014862"},{"1":"Josh","2":"Hamilton","3":"0.2500000","4":"0.2633136"},{"1":"Chase","2":"Headley","3":"0.2500000","4":"0.2425532"},{"1":"J. D.","2":"Martinez","3":"0.2500000","4":"0.3151927"},{"1":"Giancarlo","2":"Stanton","3":"0.2494118","4":"0.2875696"},{"1":"Donovan","2":"Solano","3":"0.2493075","4":"0.2516129"},{"1":"Jose","2":"Lobaton","3":"0.2490975","4":"0.2336449"},{"1":"Brian","2":"Roberts","3":"0.2490566","4":"0.2365931"},{"1":"Jedd","2":"Gyorko","3":"0.2489712","4":"0.2100000"},{"1":"Hank","2":"Conger","3":"0.2489270","4":"0.2207792"},{"1":"Eric","2":"Young","3":"0.2486085","4":"0.2285714"},{"1":"Brandon","2":"Crawford","3":"0.2484970","4":"0.2464358"},{"1":"Andrelton","2":"Simmons","3":"0.2475248","4":"0.2444444"},{"1":"Ryan","2":"Doumit","3":"0.2474227","4":"0.1974522"},{"1":"Jonny","2":"Gomes","3":"0.2467949","4":"0.2344322"},{"1":"Jordan","2":"Schafer","3":"0.2467532","4":"0.2380952"},{"1":"Derek","2":"Norris","3":"0.2462121","4":"0.2701299"},{"1":"Sean","2":"Rodriguez","3":"0.2461538","4":"0.2109705"},{"1":"Nick","2":"Swisher","3":"0.2459016","4":"0.2083333"},{"1":"Conor","2":"Gillaspie","3":"0.2450980","4":"0.2823276"},{"1":"Starlin","2":"Castro","3":"0.2447447","4":"0.2916667"},{"1":"Paul","2":"Konerko","3":"0.2441113","4":"0.2067308"},{"1":"Brian","2":"Dozier","3":"0.2437276","4":"0.2424749"},{"1":"Evan","2":"Gattis","3":"0.2429379","4":"0.2628726"},{"1":"Emilio","2":"Bonifacio","3":"0.2428571","4":"0.2588832"},{"1":"Jonathan","2":"Villar","3":"0.2428571","4":"0.2091255"},{"1":"Juan","2":"Lagares","3":"0.2423469","4":"0.2812500"},{"1":"Logan","2":"Morrison","3":"0.2423208","4":"0.2619048"},{"1":"Raul","2":"Ibanez","3":"0.2422907","4":"0.1666667"},{"1":"Asdrubal","2":"Cabrera","3":"0.2421260","4":"0.2405063"},{"1":"Cliff","2":"Pennington","3":"0.2416357","4":"0.2542373"},{"1":"Matt","2":"Dominguez","3":"0.2412523","4":"0.2145390"},{"1":"Lyle","2":"Overbay","3":"0.2404494","4":"0.2325581"},{"1":"Brandon","2":"Barnes","3":"0.2401961","4":"0.2568493"},{"1":"Yoenis","2":"Cespedes","3":"0.2400756","4":"0.2600000"},{"1":"Jordan","2":"Pacheco","3":"0.2388664","4":"0.2549020"},{"1":"A. J.","2":"Ellis","3":"0.2384615","4":"0.1908127"},{"1":"Devin","2":"Mesoraco","3":"0.2383901","4":"0.2734375"},{"1":"Justin","2":"Smoak","3":"0.2378855","4":"0.2016129"},{"1":"Daniel","2":"Descalso","3":"0.2378049","4":"0.2422360"},{"1":"Adam","2":"LaRoche","3":"0.2367906","4":"0.2591093"},{"1":"Chris","2":"Heisey","3":"0.2366071","4":"0.2218182"},{"1":"Michael","2":"Saunders","3":"0.2364532","4":"0.2727273"},{"1":"Alexi","2":"Amarista","3":"0.2364130","4":"0.2387707"},{"1":"Eduardo","2":"Escobar","3":"0.2363636","4":"0.2748268"},{"1":"Josh","2":"Rutledge","3":"0.2350877","4":"0.2686084"},{"1":"Kelly","2":"Johnson","3":"0.2349727","4":"0.2150943"},{"1":"Matthew","2":"Joyce","3":"0.2348668","4":"0.2535885"},{"1":"Cody","2":"Asche","3":"0.2345679","4":"0.2518892"},{"1":"Kevin","2":"Frandsen","3":"0.2341270","4":"0.2590909"},{"1":"Alcides","2":"Escobar","3":"0.2339374","4":"0.2849741"},{"1":"Mark","2":"Trumbo","3":"0.2338710","4":"0.2347561"},{"1":"Todd","2":"Frazier","3":"0.2335217","4":"0.2730318"},{"1":"Garrett","2":"Jones","3":"0.2332506","4":"0.2459677"},{"1":"Nick","2":"Hundley","3":"0.2332440","4":"0.2431193"},{"1":"Jose","2":"Molina","3":"0.2332155","4":"0.1777778"},{"1":"Mike","2":"Moustakas","3":"0.2330508","4":"0.2122538"},{"1":"Pedro","2":"Alvarez","3":"0.2329749","4":"0.2311558"},{"1":"Anthony","2":"Rizzo","3":"0.2326733","4":"0.2862595"},{"1":"Drew","2":"Stubbs","3":"0.2325581","4":"0.2886598"},{"1":"Mitch","2":"Moreland","3":"0.2316017","4":"0.2455090"},{"1":"Kurt","2":"Suzuki","3":"0.2315789","4":"0.2876106"},{"1":"Miguel","2":"Montero","3":"0.2300242","4":"0.2433538"},{"1":"Munenori","2":"Kawasaki","3":"0.2291667","4":"0.2583333"},{"1":"Curtis","2":"Granderson","3":"0.2289720","4":"0.2269504"},{"1":"Chris","2":"Parmelee","3":"0.2278912","4":"0.2560000"},{"1":"Alex","2":"Avila","3":"0.2272727","4":"0.2179487"},{"1":"Juan","2":"Francisco","3":"0.2270115","4":"0.2195122"},{"1":"Will","2":"Middlebrooks","3":"0.2270115","4":"0.1906977"},{"1":"John","2":"Mayberry","3":"0.2266289","4":"0.2123288"},{"1":"Adeiny","2":"Hechavarria","3":"0.2265193","4":"0.2761194"},{"1":"Russell","2":"Martin","3":"0.2260274","4":"0.2902375"},{"1":"Josh","2":"Reddick","3":"0.2259740","4":"0.2644628"},{"1":"Jesus","2":"Guzman","3":"0.2256944","4":"0.1878788"},{"1":"Carlos","2":"Corporan","3":"0.2251309","4":"0.2352941"},{"1":"Lonnie","2":"Chisenhall","3":"0.2249135","4":"0.2803347"},{"1":"Chris","2":"Iannetta","3":"0.2246154","4":"0.2516340"},{"1":"Ramon","2":"Santiago","3":"0.2243902","4":"0.2458101"},{"1":"Ryan","2":"Flaherty","3":"0.2235772","4":"0.2206406"},{"1":"Chris","2":"Carter","3":"0.2233202","4":"0.2268245"},{"1":"Lucas","2":"Duda","3":"0.2232704","4":"0.2529183"},{"1":"Don","2":"Kelly","3":"0.2222222","4":"0.2453988"},{"1":"Justin","2":"Ruggiano","3":"0.2216981","4":"0.2812500"},{"1":"Marwin","2":"Gonzalez","3":"0.2205882","4":"0.2771930"},{"1":"Mark","2":"Reynolds","3":"0.2202247","4":"0.1957672"},{"1":"David","2":"Murphy","3":"0.2201835","4":"0.2620192"},{"1":"Adam","2":"Dunn","3":"0.2190476","4":"0.2191142"},{"1":"Luis","2":"Valbuena","3":"0.2175227","4":"0.2489540"},{"1":"Jason","2":"Kubel","3":"0.2162162","4":"0.2243590"},{"1":"Anthony","2":"Recker","3":"0.2148148","4":"0.2011494"},{"1":"Mike","2":"Morse","3":"0.2147436","4":"0.2785388"},{"1":"Travis","2":"Snider","3":"0.2145594","4":"0.2639752"},{"1":"Derek","2":"Dietrich","3":"0.2139535","4":"0.2278481"},{"1":"Mike","2":"Zunino","3":"0.2138728","4":"0.1986301"},{"1":"Logan","2":"Forsythe","3":"0.2136364","4":"0.2225914"},{"1":"Chris","2":"Stewart","3":"0.2108844","4":"0.2941176"},{"1":"Collin","2":"Cowgill","3":"0.2105263","4":"0.2500000"},{"1":"Marc","2":"Krauss","3":"0.2089552","4":"0.1935484"},{"1":"Rickie","2":"Weeks","3":"0.2085714","4":"0.2738095"},{"1":"Josh","2":"Willingham","3":"0.2082262","4":"0.2154882"},{"1":"Darwin","2":"Barney","3":"0.2075848","4":"0.2405063"},{"1":"Ike","2":"Davis","3":"0.2050473","4":"0.2333333"},{"1":"Ruben","2":"Tejada","3":"0.2019231","4":"0.2366197"},{"1":"Chris","2":"Young","3":"0.2000000","4":"0.2215385"},{"1":"Sam","2":"Fuld","3":"0.1988636","4":"0.2393162"},{"1":"Ryan","2":"Hanigan","3":"0.1981982","4":"0.2177778"},{"1":"Tyler","2":"Flowers","3":"0.1953125","4":"0.2407862"},{"1":"J. P.","2":"Arencibia","3":"0.1940928","4":"0.1773399"},{"1":"Chris","2":"Colabello","3":"0.1937500","4":"0.2292683"},{"1":"Aaron","2":"Hicks","3":"0.1921708","4":"0.2150538"},{"1":"Adam","2":"Rosales","3":"0.1904762","4":"0.2621951"},{"1":"B. J.","2":"Upton","3":"0.1841432","4":"0.2080925"},{"1":"Jeff","2":"Mathis","3":"0.1810345","4":"0.2000000"},{"1":"Dan","2":"Uggla","3":"0.1785714","4":"0.1489362"},{"1":"Danny","2":"Espinosa","3":"0.1582278","4":"0.2192192"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-the-code-to-see-what-happens-to-the-worst-performers-of-2013" class="section level3">
<h3>The code to see what happens to the worst performers of 2013:</h3>
<pre class="r"><code>arrange(two_years, `2013`)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["nameFirst"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nameLast"],"name":[2],"type":["chr"],"align":["left"]},{"label":["2013"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2014"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Danny","2":"Espinosa","3":"0.1582278","4":"0.2192192"},{"1":"Dan","2":"Uggla","3":"0.1785714","4":"0.1489362"},{"1":"Jeff","2":"Mathis","3":"0.1810345","4":"0.2000000"},{"1":"B. J.","2":"Upton","3":"0.1841432","4":"0.2080925"},{"1":"Adam","2":"Rosales","3":"0.1904762","4":"0.2621951"},{"1":"Aaron","2":"Hicks","3":"0.1921708","4":"0.2150538"},{"1":"Chris","2":"Colabello","3":"0.1937500","4":"0.2292683"},{"1":"J. P.","2":"Arencibia","3":"0.1940928","4":"0.1773399"},{"1":"Tyler","2":"Flowers","3":"0.1953125","4":"0.2407862"},{"1":"Ryan","2":"Hanigan","3":"0.1981982","4":"0.2177778"},{"1":"Sam","2":"Fuld","3":"0.1988636","4":"0.2393162"},{"1":"Chris","2":"Young","3":"0.2000000","4":"0.2215385"},{"1":"Ruben","2":"Tejada","3":"0.2019231","4":"0.2366197"},{"1":"Ike","2":"Davis","3":"0.2050473","4":"0.2333333"},{"1":"Darwin","2":"Barney","3":"0.2075848","4":"0.2405063"},{"1":"Josh","2":"Willingham","3":"0.2082262","4":"0.2154882"},{"1":"Rickie","2":"Weeks","3":"0.2085714","4":"0.2738095"},{"1":"Marc","2":"Krauss","3":"0.2089552","4":"0.1935484"},{"1":"Collin","2":"Cowgill","3":"0.2105263","4":"0.2500000"},{"1":"Chris","2":"Stewart","3":"0.2108844","4":"0.2941176"},{"1":"Logan","2":"Forsythe","3":"0.2136364","4":"0.2225914"},{"1":"Mike","2":"Zunino","3":"0.2138728","4":"0.1986301"},{"1":"Derek","2":"Dietrich","3":"0.2139535","4":"0.2278481"},{"1":"Travis","2":"Snider","3":"0.2145594","4":"0.2639752"},{"1":"Mike","2":"Morse","3":"0.2147436","4":"0.2785388"},{"1":"Anthony","2":"Recker","3":"0.2148148","4":"0.2011494"},{"1":"Jason","2":"Kubel","3":"0.2162162","4":"0.2243590"},{"1":"Luis","2":"Valbuena","3":"0.2175227","4":"0.2489540"},{"1":"Adam","2":"Dunn","3":"0.2190476","4":"0.2191142"},{"1":"David","2":"Murphy","3":"0.2201835","4":"0.2620192"},{"1":"Mark","2":"Reynolds","3":"0.2202247","4":"0.1957672"},{"1":"Marwin","2":"Gonzalez","3":"0.2205882","4":"0.2771930"},{"1":"Justin","2":"Ruggiano","3":"0.2216981","4":"0.2812500"},{"1":"Don","2":"Kelly","3":"0.2222222","4":"0.2453988"},{"1":"Lucas","2":"Duda","3":"0.2232704","4":"0.2529183"},{"1":"Chris","2":"Carter","3":"0.2233202","4":"0.2268245"},{"1":"Ryan","2":"Flaherty","3":"0.2235772","4":"0.2206406"},{"1":"Ramon","2":"Santiago","3":"0.2243902","4":"0.2458101"},{"1":"Chris","2":"Iannetta","3":"0.2246154","4":"0.2516340"},{"1":"Lonnie","2":"Chisenhall","3":"0.2249135","4":"0.2803347"},{"1":"Carlos","2":"Corporan","3":"0.2251309","4":"0.2352941"},{"1":"Jesus","2":"Guzman","3":"0.2256944","4":"0.1878788"},{"1":"Josh","2":"Reddick","3":"0.2259740","4":"0.2644628"},{"1":"Russell","2":"Martin","3":"0.2260274","4":"0.2902375"},{"1":"Adeiny","2":"Hechavarria","3":"0.2265193","4":"0.2761194"},{"1":"John","2":"Mayberry","3":"0.2266289","4":"0.2123288"},{"1":"Juan","2":"Francisco","3":"0.2270115","4":"0.2195122"},{"1":"Will","2":"Middlebrooks","3":"0.2270115","4":"0.1906977"},{"1":"Alex","2":"Avila","3":"0.2272727","4":"0.2179487"},{"1":"Chris","2":"Parmelee","3":"0.2278912","4":"0.2560000"},{"1":"Curtis","2":"Granderson","3":"0.2289720","4":"0.2269504"},{"1":"Munenori","2":"Kawasaki","3":"0.2291667","4":"0.2583333"},{"1":"Miguel","2":"Montero","3":"0.2300242","4":"0.2433538"},{"1":"Kurt","2":"Suzuki","3":"0.2315789","4":"0.2876106"},{"1":"Mitch","2":"Moreland","3":"0.2316017","4":"0.2455090"},{"1":"Drew","2":"Stubbs","3":"0.2325581","4":"0.2886598"},{"1":"Anthony","2":"Rizzo","3":"0.2326733","4":"0.2862595"},{"1":"Pedro","2":"Alvarez","3":"0.2329749","4":"0.2311558"},{"1":"Mike","2":"Moustakas","3":"0.2330508","4":"0.2122538"},{"1":"Jose","2":"Molina","3":"0.2332155","4":"0.1777778"},{"1":"Nick","2":"Hundley","3":"0.2332440","4":"0.2431193"},{"1":"Garrett","2":"Jones","3":"0.2332506","4":"0.2459677"},{"1":"Todd","2":"Frazier","3":"0.2335217","4":"0.2730318"},{"1":"Mark","2":"Trumbo","3":"0.2338710","4":"0.2347561"},{"1":"Alcides","2":"Escobar","3":"0.2339374","4":"0.2849741"},{"1":"Kevin","2":"Frandsen","3":"0.2341270","4":"0.2590909"},{"1":"Cody","2":"Asche","3":"0.2345679","4":"0.2518892"},{"1":"Matthew","2":"Joyce","3":"0.2348668","4":"0.2535885"},{"1":"Kelly","2":"Johnson","3":"0.2349727","4":"0.2150943"},{"1":"Josh","2":"Rutledge","3":"0.2350877","4":"0.2686084"},{"1":"Eduardo","2":"Escobar","3":"0.2363636","4":"0.2748268"},{"1":"Alexi","2":"Amarista","3":"0.2364130","4":"0.2387707"},{"1":"Michael","2":"Saunders","3":"0.2364532","4":"0.2727273"},{"1":"Chris","2":"Heisey","3":"0.2366071","4":"0.2218182"},{"1":"Adam","2":"LaRoche","3":"0.2367906","4":"0.2591093"},{"1":"Daniel","2":"Descalso","3":"0.2378049","4":"0.2422360"},{"1":"Justin","2":"Smoak","3":"0.2378855","4":"0.2016129"},{"1":"Devin","2":"Mesoraco","3":"0.2383901","4":"0.2734375"},{"1":"A. J.","2":"Ellis","3":"0.2384615","4":"0.1908127"},{"1":"Jordan","2":"Pacheco","3":"0.2388664","4":"0.2549020"},{"1":"Yoenis","2":"Cespedes","3":"0.2400756","4":"0.2600000"},{"1":"Brandon","2":"Barnes","3":"0.2401961","4":"0.2568493"},{"1":"Lyle","2":"Overbay","3":"0.2404494","4":"0.2325581"},{"1":"Matt","2":"Dominguez","3":"0.2412523","4":"0.2145390"},{"1":"Cliff","2":"Pennington","3":"0.2416357","4":"0.2542373"},{"1":"Asdrubal","2":"Cabrera","3":"0.2421260","4":"0.2405063"},{"1":"Raul","2":"Ibanez","3":"0.2422907","4":"0.1666667"},{"1":"Logan","2":"Morrison","3":"0.2423208","4":"0.2619048"},{"1":"Juan","2":"Lagares","3":"0.2423469","4":"0.2812500"},{"1":"Emilio","2":"Bonifacio","3":"0.2428571","4":"0.2588832"},{"1":"Jonathan","2":"Villar","3":"0.2428571","4":"0.2091255"},{"1":"Evan","2":"Gattis","3":"0.2429379","4":"0.2628726"},{"1":"Brian","2":"Dozier","3":"0.2437276","4":"0.2424749"},{"1":"Paul","2":"Konerko","3":"0.2441113","4":"0.2067308"},{"1":"Starlin","2":"Castro","3":"0.2447447","4":"0.2916667"},{"1":"Conor","2":"Gillaspie","3":"0.2450980","4":"0.2823276"},{"1":"Nick","2":"Swisher","3":"0.2459016","4":"0.2083333"},{"1":"Sean","2":"Rodriguez","3":"0.2461538","4":"0.2109705"},{"1":"Derek","2":"Norris","3":"0.2462121","4":"0.2701299"},{"1":"Jordan","2":"Schafer","3":"0.2467532","4":"0.2380952"},{"1":"Jonny","2":"Gomes","3":"0.2467949","4":"0.2344322"},{"1":"Ryan","2":"Doumit","3":"0.2474227","4":"0.1974522"},{"1":"Andrelton","2":"Simmons","3":"0.2475248","4":"0.2444444"},{"1":"Brandon","2":"Crawford","3":"0.2484970","4":"0.2464358"},{"1":"Eric","2":"Young","3":"0.2486085","4":"0.2285714"},{"1":"Hank","2":"Conger","3":"0.2489270","4":"0.2207792"},{"1":"Jedd","2":"Gyorko","3":"0.2489712","4":"0.2100000"},{"1":"Brian","2":"Roberts","3":"0.2490566","4":"0.2365931"},{"1":"Jose","2":"Lobaton","3":"0.2490975","4":"0.2336449"},{"1":"Donovan","2":"Solano","3":"0.2493075","4":"0.2516129"},{"1":"Giancarlo","2":"Stanton","3":"0.2494118","4":"0.2875696"},{"1":"Josh","2":"Hamilton","3":"0.2500000","4":"0.2633136"},{"1":"Chase","2":"Headley","3":"0.2500000","4":"0.2425532"},{"1":"J. D.","2":"Martinez","3":"0.2500000","4":"0.3151927"},{"1":"Lorenzo","2":"Cain","3":"0.2506266","4":"0.3014862"},{"1":"David","2":"DeJesus","3":"0.2506394","4":"0.2478992"},{"1":"Oswaldo","2":"Arcia","3":"0.2507123","4":"0.2311828"},{"1":"Neil","2":"Walker","3":"0.2510460","4":"0.2714844"},{"1":"Nate","2":"Schierholtz","3":"0.2510823","4":"0.1954674"},{"1":"Jimmy","2":"Rollins","3":"0.2516667","4":"0.2434944"},{"1":"Stephen","2":"Vogt","3":"0.2518519","4":"0.2788104"},{"1":"Adam","2":"Eaton","3":"0.2520000","4":"0.3004115"},{"1":"Mike","2":"Aviles","3":"0.2520776","4":"0.2470930"},{"1":"Didi","2":"Gregorius","3":"0.2521008","4":"0.2259259"},{"1":"Desmond","2":"Jennings","3":"0.2523719","4":"0.2442589"},{"1":"Dustin","2":"Ackley","3":"0.2526042","4":"0.2450199"},{"1":"Seth","2":"Smith","3":"0.2527174","4":"0.2663657"},{"1":"Stephen","2":"Drew","3":"0.2533937","4":"0.1623616"},{"1":"Trevor","2":"Plouffe","3":"0.2536688","4":"0.2576923"},{"1":"Gaby","2":"Sanchez","3":"0.2537879","4":"0.2290076"},{"1":"Jason","2":"Heyward","3":"0.2539267","4":"0.2705061"},{"1":"Zack","2":"Cozart","3":"0.2539683","4":"0.2213439"},{"1":"Brett","2":"Lawrie","3":"0.2543641","4":"0.2471042"},{"1":"Alfonso","2":"Soriano","3":"0.2547332","4":"0.2212389"},{"1":"Nick","2":"Punto","3":"0.2551020","4":"0.2070707"},{"1":"Brandon","2":"Moss","3":"0.2556054","4":"0.2340000"},{"1":"Brian","2":"McCann","3":"0.2556180","4":"0.2323232"},{"1":"Yunel","2":"Escobar","3":"0.2559055","4":"0.2584034"},{"1":"Chris","2":"Coghlan","3":"0.2564103","4":"0.2831169"},{"1":"Ed","2":"Lucas","3":"0.2564103","4":"0.2513966"},{"1":"Nate","2":"McLouth","3":"0.2580038","4":"0.1726619"},{"1":"Jarrod","2":"Dyson","3":"0.2582160","4":"0.2692308"},{"1":"Alberto","2":"Callaspo","3":"0.2582781","4":"0.2227723"},{"1":"Albert","2":"Pujols","3":"0.2583120","4":"0.2717220"},{"1":"Anthony","2":"Gose","3":"0.2585034","4":"0.2259414"},{"1":"Justin","2":"Morneau","3":"0.2587413","4":"0.3187251"},{"1":"Jose","2":"Bautista","3":"0.2588496","4":"0.2857143"},{"1":"Mike","2":"Napoli","3":"0.2590361","4":"0.2481928"},{"1":"Rajai","2":"Davis","3":"0.2598187","4":"0.2819957"},{"1":"Eduardo","2":"Nunez","3":"0.2598684","4":"0.2500000"},{"1":"Kyle","2":"Seager","3":"0.2601626","4":"0.2677966"},{"1":"Leonys","2":"Martin","3":"0.2603939","4":"0.2739212"},{"1":"Delmon","2":"Young","3":"0.2604790","4":"0.3016529"},{"1":"Brandon","2":"Phillips","3":"0.2607261","4":"0.2662338"},{"1":"Coco","2":"Crisp","3":"0.2612086","4":"0.2462203"},{"1":"Ichiro","2":"Suzuki","3":"0.2615385","4":"0.2841226"},{"1":"David","2":"Freese","3":"0.2619048","4":"0.2597403"},{"1":"Jay","2":"Bruce","3":"0.2619808","4":"0.2170385"},{"1":"Dexter","2":"Fowler","3":"0.2626506","4":"0.2764977"},{"1":"Michael","2":"Bourn","3":"0.2628571","4":"0.2567568"},{"1":"Corey","2":"Dickerson","3":"0.2628866","4":"0.3119266"},{"1":"J. J.","2":"Hardy","3":"0.2628952","4":"0.2684310"},{"1":"Skip","2":"Schumaker","3":"0.2633229","4":"0.2348178"},{"1":"Justin","2":"Upton","3":"0.2634409","4":"0.2703180"},{"1":"Alejandro","2":"De Aza","3":"0.2635914","4":"0.2515723"},{"1":"Brad","2":"Miller","3":"0.2647059","4":"0.2207084"},{"1":"Anthony","2":"Rendon","3":"0.2649573","4":"0.2871126"},{"1":"Dayan","2":"Viciedo","3":"0.2653061","4":"0.2313576"},{"1":"Alex","2":"Gordon","3":"0.2654028","4":"0.2664298"},{"1":"Marcell","2":"Ozuna","3":"0.2654545","4":"0.2690265"},{"1":"Gregor","2":"Blanco","3":"0.2654867","4":"0.2595420"},{"1":"Ryan","2":"Sweeney","3":"0.2656250","4":"0.2512077"},{"1":"Ryan","2":"Howard","3":"0.2657343","4":"0.2231986"},{"1":"Eric","2":"Sogard","3":"0.2663043","4":"0.2233677"},{"1":"Nelson","2":"Cruz","3":"0.2663438","4":"0.2707993"},{"1":"Gordon","2":"Beckham","3":"0.2668464","4":"0.2264574"},{"1":"Endy","2":"Chavez","3":"0.2669173","4":"0.2758621"},{"1":"Nolan","2":"Arenado","3":"0.2674897","4":"0.2870370"},{"1":"Carlos","2":"Ruiz","3":"0.2677419","4":"0.2519685"},{"1":"Gerardo","2":"Parra","3":"0.2678869","4":"0.2608696"},{"1":"Carlos","2":"Santana","3":"0.2680222","4":"0.2310536"},{"1":"Will","2":"Venable","3":"0.2681913","4":"0.2241379"},{"1":"Robbie","2":"Grossman","3":"0.2684825","4":"0.2333333"},{"1":"A. J.","2":"Pollock","3":"0.2686230","4":"0.3018868"},{"1":"Evan","2":"Longoria","3":"0.2687296","4":"0.2532051"},{"1":"Matt","2":"Kemp","3":"0.2699620","4":"0.2865065"},{"1":"Mark","2":"Ellis","3":"0.2702079","4":"0.1797753"},{"1":"John","2":"Jaso","3":"0.2705314","4":"0.2638436"},{"1":"Erick","2":"Aybar","3":"0.2709091","4":"0.2784380"},{"1":"Elvis","2":"Andrus","3":"0.2709677","4":"0.2633279"},{"1":"Joaquin","2":"Arias","3":"0.2711111","4":"0.2538860"},{"1":"Nick","2":"Markakis","3":"0.2712934","4":"0.2757009"},{"1":"Ryan","2":"Raburn","3":"0.2716049","4":"0.2000000"},{"1":"Edwin","2":"Encarnacion","3":"0.2716981","4":"0.2683438"},{"1":"Austin","2":"Jackson","3":"0.2717391","4":"0.2562814"},{"1":"Wilson","2":"Ramos","3":"0.2717770","4":"0.2668622"},{"1":"Andre","2":"Ethier","3":"0.2717842","4":"0.2492669"},{"1":"Domonic","2":"Brown","3":"0.2721774","4":"0.2346723"},{"1":"A. J.","2":"Pierzynski","3":"0.2723658","4":"0.2514793"},{"1":"Brett","2":"Gardner","3":"0.2727273","4":"0.2558559"},{"1":"Jarrod","2":"Saltalamacchia","3":"0.2729412","4":"0.2198391"},{"1":"Bryce","2":"Harper","3":"0.2735849","4":"0.2727273"},{"1":"Welington","2":"Castillo","3":"0.2736842","4":"0.2368421"},{"1":"Peter","2":"Bourjos","3":"0.2742857","4":"0.2310606"},{"1":"Ben","2":"Zobrist","3":"0.2745098","4":"0.2719298"},{"1":"Ryan","2":"Zimmerman","3":"0.2746479","4":"0.2803738"},{"1":"Carlos","2":"Quentin","3":"0.2753623","4":"0.1769231"},{"1":"Jon","2":"Jay","3":"0.2755474","4":"0.3026634"},{"1":"Alex","2":"Presley","3":"0.2756757","4":"0.2440945"},{"1":"Colby","2":"Rasmus","3":"0.2757794","4":"0.2254335"},{"1":"Jason","2":"Castro","3":"0.2758621","4":"0.2215054"},{"1":"Ian","2":"Kinsler","3":"0.2770642","4":"0.2748538"},{"1":"Kendrys","2":"Morales","3":"0.2774086","4":"0.2179837"},{"1":"Alex","2":"Rios","3":"0.2775974","4":"0.2804878"},{"1":"Cody","2":"Ross","3":"0.2776025","4":"0.2524752"},{"1":"Pablo","2":"Sandoval","3":"0.2780952","4":"0.2789116"},{"1":"Juan","2":"Uribe","3":"0.2783505","4":"0.3108808"},{"1":"Denard","2":"Span","3":"0.2786885","4":"0.3016393"},{"1":"Prince","2":"Fielder","3":"0.2788462","4":"0.2466667"},{"1":"Melky","2":"Cabrera","3":"0.2790698","4":"0.3010563"},{"1":"Chris","2":"Denorfia","3":"0.2790698","4":"0.2303030"},{"1":"Jeff","2":"Baker","3":"0.2792208","4":"0.2644231"},{"1":"Khris","2":"Davis","3":"0.2794118","4":"0.2435130"},{"1":"DJ","2":"LeMahieu","3":"0.2797030","4":"0.2672065"},{"1":"Ian","2":"Desmond","3":"0.2800000","4":"0.2546374"},{"1":"Justin","2":"Turner","3":"0.2800000","4":"0.3402778"},{"1":"Jonathan","2":"Lucroy","3":"0.2802303","4":"0.3008547"},{"1":"Starling","2":"Marte","3":"0.2803922","4":"0.2909091"},{"1":"Craig","2":"Gentry","3":"0.2804878","4":"0.2543103"},{"1":"Yonder","2":"Alonso","3":"0.2814371","4":"0.2397004"},{"1":"Kole","2":"Calhoun","3":"0.2820513","4":"0.2718053"},{"1":"Angel","2":"Pagan","3":"0.2821429","4":"0.3002611"},{"1":"Martin","2":"Prado","3":"0.2824302","4":"0.2817164"},{"1":"Jose","2":"Tabata","3":"0.2824675","4":"0.2816092"},{"1":"Jose","2":"Altuve","3":"0.2827476","4":"0.3409091"},{"1":"Carl","2":"Crawford","3":"0.2827586","4":"0.3002915"},{"1":"Avisail","2":"Garcia","3":"0.2827869","4":"0.2441860"},{"1":"Aramis","2":"Ramirez","3":"0.2828947","4":"0.2854251"},{"1":"Hunter","2":"Pence","3":"0.2829889","4":"0.2769231"},{"1":"Manny","2":"Machado","3":"0.2833583","4":"0.2782875"},{"1":"Everth","2":"Cabrera","3":"0.2834646","4":"0.2324930"},{"1":"Carlos","2":"Gomez","3":"0.2835821","4":"0.2839721"},{"1":"Chase","2":"Utley","3":"0.2836134","4":"0.2699491"},{"1":"Jason","2":"Kipnis","3":"0.2836879","4":"0.2400000"},{"1":"Matt","2":"Adams","3":"0.2837838","4":"0.2884250"},{"1":"Junior","2":"Lake","3":"0.2838983","4":"0.2110390"},{"1":"Alexei","2":"Ramirez","3":"0.2841444","4":"0.2733119"},{"1":"Michael","2":"Brantley","3":"0.2841727","4":"0.3273322"},{"1":"Shin-Soo","2":"Choo","3":"0.2847100","4":"0.2417582"},{"1":"Adam","2":"Jones","3":"0.2848392","4":"0.2810559"},{"1":"Jordy","2":"Mercer","3":"0.2852853","4":"0.2549407"},{"1":"David","2":"Lough","3":"0.2857143","4":"0.2471264"},{"1":"Daniel","2":"Murphy","3":"0.2857143","4":"0.2885906"},{"1":"Chris","2":"Davis","3":"0.2859589","4":"0.1955556"},{"1":"Nori","2":"Aoki","3":"0.2864322","4":"0.2851324"},{"1":"Christian","2":"Yelich","3":"0.2875000","4":"0.2835052"},{"1":"Adam","2":"Lind","3":"0.2881720","4":"0.3206897"},{"1":"Billy","2":"Butler","3":"0.2886598","4":"0.2714026"},{"1":"Brandon","2":"Belt","3":"0.2888016","4":"0.2429907"},{"1":"Jed","2":"Lowrie","3":"0.2902156","4":"0.2490040"},{"1":"Aaron","2":"Hill","3":"0.2905199","4":"0.2435130"},{"1":"Marlon","2":"Byrd","3":"0.2913534","4":"0.2639594"},{"1":"Wilin","2":"Rosario","3":"0.2917595","4":"0.2670157"},{"1":"Salvador","2":"Perez","3":"0.2923387","4":"0.2595156"},{"1":"Wil","2":"Myers","3":"0.2925373","4":"0.2215385"},{"1":"Adrian","2":"Gonzalez","3":"0.2933105","4":"0.2758037"},{"1":"Yan","2":"Gomes","3":"0.2935154","4":"0.2783505"},{"1":"Jean","2":"Segura","3":"0.2942177","4":"0.2456140"},{"1":"Buster","2":"Posey","3":"0.2942308","4":"0.3107861"},{"1":"Jose","2":"Reyes","3":"0.2958115","4":"0.2868852"},{"1":"Carlos","2":"Beltran","3":"0.2960289","4":"0.2332506"},{"1":"Brayan","2":"Pena","3":"0.2969432","4":"0.2528736"},{"1":"Howie","2":"Kendrick","3":"0.2970711","4":"0.2933549"},{"1":"Ryan","2":"Braun","3":"0.2977778","4":"0.2660377"},{"1":"Jacoby","2":"Ellsbury","3":"0.2980936","4":"0.2713043"},{"1":"James","2":"Loney","3":"0.2987250","4":"0.2900000"},{"1":"Matt","2":"Holliday","3":"0.3000000","4":"0.2717770"},{"1":"Dioner","2":"Navarro","3":"0.3000000","4":"0.2744283"},{"1":"Josh","2":"Donaldson","3":"0.3005181","4":"0.2549342"},{"1":"Victor","2":"Martinez","3":"0.3008264","4":"0.3351159"},{"1":"Dustin","2":"Pedroia","3":"0.3010920","4":"0.2776770"},{"1":"Eric","2":"Hosmer","3":"0.3017657","4":"0.2703777"},{"1":"Carlos","2":"Gonzalez","3":"0.3017903","4":"0.2384615"},{"1":"Paul","2":"Goldschmidt","3":"0.3023256","4":"0.3004926"},{"1":"Jhonny","2":"Peralta","3":"0.3031785","4":"0.2625000"},{"1":"Daniel","2":"Nava","3":"0.3034934","4":"0.2699725"},{"1":"Torii","2":"Hunter","3":"0.3036304","4":"0.2859745"},{"1":"Danny","2":"Valencia","3":"0.3043478","4":"0.2575758"},{"1":"Joey","2":"Votto","3":"0.3046472","4":"0.2545455"},{"1":"Ben","2":"Revere","3":"0.3047619","4":"0.3061564"},{"1":"David","2":"Wright","3":"0.3069767","4":"0.2691589"},{"1":"David","2":"Ortiz","3":"0.3088803","4":"0.2625483"},{"1":"Charlie","2":"Blackmon","3":"0.3089431","4":"0.2883642"},{"1":"Troy","2":"Tulowitzki","3":"0.3116592","4":"0.3396825"},{"1":"Robinson","2":"Cano","3":"0.3140496","4":"0.3142857"},{"1":"Allen","2":"Craig","3":"0.3149606","4":"0.2147505"},{"1":"Adrian","2":"Beltre","3":"0.3153724","4":"0.3242259"},{"1":"Willie","2":"Bloomquist","3":"0.3165468","4":"0.2781955"},{"1":"Andrew","2":"McCutchen","3":"0.3173242","4":"0.3138686"},{"1":"Omar","2":"Infante","3":"0.3178808","4":"0.2518939"},{"1":"Matt","2":"Carpenter","3":"0.3178914","4":"0.2722689"},{"1":"Jayson","2":"Werth","3":"0.3181818","4":"0.2921348"},{"1":"Yadier","2":"Molina","3":"0.3188119","4":"0.2821782"},{"1":"Yasiel","2":"Puig","3":"0.3193717","4":"0.2956989"},{"1":"Freddie","2":"Freeman","3":"0.3194192","4":"0.2883031"},{"1":"Chris","2":"Johnson","3":"0.3210117","4":"0.2628866"},{"1":"Mike","2":"Trout","3":"0.3225806","4":"0.2873754"},{"1":"Joe","2":"Mauer","3":"0.3235955","4":"0.2769231"},{"1":"Scooter","2":"Gennett","3":"0.3239437","4":"0.2886364"},{"1":"Michael","2":"Cuddyer","3":"0.3312883","4":"0.3315789"},{"1":"Hanley","2":"Ramirez","3":"0.3453947","4":"0.2828508"},{"1":"Miguel","2":"Cabrera","3":"0.3477477","4":"0.3126023"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-the-code-to-see-the-correlation-for-performance-in-two-separate-years" class="section level3">
<h3>The code to see the correlation for performance in two separate years:</h3>
<pre class="r"><code>qplot(`2013`, `2014`, data = two_years)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-34-1.png" width="624" /></p>
<pre class="r"><code>summarize(two_years, cor(`2013`,`2014`))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["cor(`2013`, `2014`)"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.460254"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-measurement-error-models" class="section level2">
<h2>Measurement Error Models</h2>
<p><img src="https://youtu.be/Cfv7E0Q9eac" /></p>
<div id="section-textbook-link-22" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/linear-models.html#measurement-error-models">textbook section - 18.9 Measurement error models</a>.</p>
</div>
<div id="section-key-points-23" class="section level3">
<h3>Key points</h3>
<ul>
<li><p>Up to now, all our linear regression examples have been applied to two or more random variables. We assume the pairs are bivariate normal and use this to motivate a linear model.</p></li>
<li><p>Another use for linear regression is with <strong>measurement error models</strong>, where it is common to have a non-random covariate (such as time). Randomness is introduced from measurement error rather than sampling or natural variability.</p></li>
</ul>
</div>
<div id="section-the-code-to-use-dslabs-function-rfalling_object-to-generate-simulations-of-dropping-balls" class="section level3">
<h3>The code to use dslabs function rfalling_object to generate simulations of dropping balls:</h3>
<pre class="r"><code>library(dslabs)
library(tidyverse)
library(broom)
falling_object &lt;- rfalling_object()</code></pre>
</div>
<div id="section-the-code-to-draw-the-trajectory-of-the-ball" class="section level3">
<h3>The code to draw the trajectory of the ball:</h3>
<pre class="r"><code>falling_object %&gt;%
    ggplot(aes(time, observed_distance)) +
    geom_point() +
    ylab(&quot;Distance in meters&quot;) +
    xlab(&quot;Time in seconds&quot;)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-36-1.png" width="624" /></p>
</div>
<div id="section-the-code-to-use-the-lm-function-to-estimate-the-coefficients" class="section level3">
<h3>The code to use the <code>lm()</code> function to estimate the coefficients:</h3>
<pre class="r"><code>fit &lt;- falling_object %&gt;%
    mutate(time_sq = time^2) %&gt;%
    lm(observed_distance~time+time_sq, data=.)

tidy(fit)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["std.error"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"(Intercept)","2":"56.1260576","3":"0.5915639","4":"94.8774156","5":"2.226192e-17"},{"1":"time","2":"-0.7859522","3":"0.8452432","4":"-0.9298534","5":"3.724035e-01"},{"1":"time_sq","2":"-4.5308725","3":"0.2507522","4":"-18.0691250","5":"1.583669e-09"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="section-the-code-to-check-if-the-estimated-parabola-fits-the-data" class="section level3">
<h3>The code to check if the estimated parabola fits the data:</h3>
<pre class="r"><code>augment(fit) %&gt;%
    ggplot() +
    geom_point(aes(time, observed_distance)) +
    geom_line(aes(time, .fitted), col = &quot;blue&quot;)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-38-1.png" width="624" /></p>
</div>
<div id="section-the-code-to-see-the-summary-statistic-of-the-regression" class="section level3">
<h3>The code to see the summary statistic of the regression:</h3>
<pre class="r"><code>tidy(fit, conf.int = TRUE)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["std.error"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["conf.low"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["conf.high"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"(Intercept)","2":"56.1260576","3":"0.5915639","4":"94.8774156","5":"2.226192e-17","6":"54.824034","7":"57.428081"},{"1":"time","2":"-0.7859522","3":"0.8452432","4":"-0.9298534","5":"3.724035e-01","6":"-2.646320","7":"1.074415"},{"1":"time_sq","2":"-4.5308725","3":"0.2507522","4":"-18.0691250","5":"1.583669e-09","6":"-5.082774","7":"-3.978971"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-assessment-regression-and-baseball-part-1" class="section level2">
<h2>2.4 Assessment: Regression and Baseball, part 1</h2>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-regression-and-baseball-part-2" class="section level2">
<h2>2.4 Assessment: Regression and Baseball, part 2</h2>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-linear-models" class="section level2">
<h2>2.4 Assessment: Linear Models</h2>
<p>Insert assessment here</p>
</div>
<div id="section-section-3-overview-confounding" class="section level2">
<h2>Section 3 Overview: Confounding</h2>
<p>In the <strong>Confounding</strong> section, you will learn what is perhaps the most important lesson of statistics: that correlation is not causation.</p>
<p>After completing this section, you will be able to:</p>
<ul>
<li><p>Identify examples of <strong>spurious correlation</strong> and explain how <strong>data dredging</strong> can lead to spurious correlation.</p></li>
<li><p>Explain how <strong>outliers</strong> can drive correlation and learn to adjust for outliers using <strong>Spearman correlation</strong>.</p></li>
<li><p>Explain how <strong>reversing cause and effect</strong> can lead to associations being confused with causation.</p></li>
<li><p>Understand how <strong>confounders</strong> can lead to the misinterpretation of associations.</p></li>
<li><p>Explain and give examples of <strong>Simpson’s Paradox</strong>.</p></li>
</ul>
<p>This section has one part: <strong>Correlation is Not Causation</strong>. There is a comprehension checks at the end of this part, along with an assessment at the end of the section.</p>
<p>We encourage you to use <svg style="height: 1em; top:.04em; position: relative; fill: #136CB9;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to interactively test out your answers and further your own learning.</p>
</div>
<div id="section-correlation-is-not-causation-spurious-correlation" class="section level2">
<h2>3. Correlation is Not Causation: Spurious Correlation</h2>
<p><img src="https://youtu.be/xeZKmb8R__Q" /></p>
<div id="section-textbook-link-23" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/association-is-not-causation.html#spurious-correlation">textbook section - 19.1 Spurious correlation</a>.</p>
</div>
<div id="section-key-points-24" class="section level3">
<h3>Key points</h3>
<ul>
<li><p>Association/correlation is not causation.</p></li>
<li><p>p-hacking is a topic of much discussion because it is a problem in scientific publications. Because publishers tend to reward statistically significant results over negative results, there is an incentive to report significant results.</p></li>
</ul>
</div>
<div id="section-code-18" class="section level3">
<h3>Code</h3>
<pre class="r"><code># generate the Monte Carlo simulation
N &lt;- 25
g &lt;- 1000000
sim_data &lt;- tibble(group = rep(1:g, each = N), x = rnorm(N * g), y = rnorm(N * g))

# calculate correlation between X,Y for each group
res &lt;- sim_data %&gt;% 
  group_by(group) %&gt;% 
  summarize(r = cor(x, y)) %&gt;% 
  arrange(desc(r))
res</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["int"],"align":["right"]},{"label":["r"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"206817","2":"0.8037382"},{"1":"825915","2":"0.7861886"},{"1":"941586","2":"0.7689736"},{"1":"154659","2":"0.7658867"},{"1":"407744","2":"0.7563600"},{"1":"708873","2":"0.7528089"},{"1":"860042","2":"0.7524222"},{"1":"324002","2":"0.7521280"},{"1":"190002","2":"0.7501842"},{"1":"687774","2":"0.7495047"},{"1":"564443","2":"0.7453437"},{"1":"763242","2":"0.7437433"},{"1":"874600","2":"0.7401338"},{"1":"388244","2":"0.7398392"},{"1":"285554","2":"0.7393812"},{"1":"261590","2":"0.7389358"},{"1":"715078","2":"0.7321077"},{"1":"404314","2":"0.7299800"},{"1":"474205","2":"0.7258138"},{"1":"303499","2":"0.7229527"},{"1":"404136","2":"0.7223402"},{"1":"219894","2":"0.7222750"},{"1":"427826","2":"0.7221832"},{"1":"413991","2":"0.7185905"},{"1":"477307","2":"0.7168895"},{"1":"457414","2":"0.7158278"},{"1":"599256","2":"0.7149011"},{"1":"538977","2":"0.7141128"},{"1":"124326","2":"0.7134755"},{"1":"67977","2":"0.7115287"},{"1":"176028","2":"0.7114742"},{"1":"256767","2":"0.7111005"},{"1":"471742","2":"0.7100515"},{"1":"60698","2":"0.7067344"},{"1":"295572","2":"0.7063618"},{"1":"641508","2":"0.7058257"},{"1":"146692","2":"0.7051060"},{"1":"265011","2":"0.7047107"},{"1":"50857","2":"0.7040973"},{"1":"669823","2":"0.7033721"},{"1":"386909","2":"0.7032961"},{"1":"835721","2":"0.7023834"},{"1":"251916","2":"0.7012707"},{"1":"921588","2":"0.7008531"},{"1":"684882","2":"0.7000259"},{"1":"618845","2":"0.6999430"},{"1":"538511","2":"0.6995993"},{"1":"522017","2":"0.6995991"},{"1":"650964","2":"0.6995806"},{"1":"796704","2":"0.6992173"},{"1":"12204","2":"0.6989741"},{"1":"602302","2":"0.6985095"},{"1":"253358","2":"0.6973602"},{"1":"369873","2":"0.6965459"},{"1":"270832","2":"0.6964992"},{"1":"739553","2":"0.6958152"},{"1":"171831","2":"0.6956587"},{"1":"640691","2":"0.6955302"},{"1":"94402","2":"0.6949515"},{"1":"356371","2":"0.6941738"},{"1":"897377","2":"0.6933452"},{"1":"136358","2":"0.6931729"},{"1":"905646","2":"0.6925890"},{"1":"926397","2":"0.6923717"},{"1":"491406","2":"0.6923495"},{"1":"181101","2":"0.6920550"},{"1":"149297","2":"0.6918366"},{"1":"81311","2":"0.6917443"},{"1":"114966","2":"0.6911743"},{"1":"756359","2":"0.6908191"},{"1":"803287","2":"0.6900724"},{"1":"387551","2":"0.6900015"},{"1":"174249","2":"0.6886019"},{"1":"780130","2":"0.6877943"},{"1":"556418","2":"0.6867100"},{"1":"670056","2":"0.6866121"},{"1":"447525","2":"0.6865829"},{"1":"787512","2":"0.6864693"},{"1":"580144","2":"0.6858756"},{"1":"312329","2":"0.6855157"},{"1":"285281","2":"0.6840467"},{"1":"532171","2":"0.6831860"},{"1":"617662","2":"0.6830279"},{"1":"662580","2":"0.6829302"},{"1":"835769","2":"0.6826893"},{"1":"693560","2":"0.6816204"},{"1":"710957","2":"0.6815148"},{"1":"173448","2":"0.6800495"},{"1":"19040","2":"0.6799757"},{"1":"906106","2":"0.6794857"},{"1":"767194","2":"0.6793867"},{"1":"43306","2":"0.6789945"},{"1":"791649","2":"0.6789432"},{"1":"247422","2":"0.6788229"},{"1":"523444","2":"0.6782245"},{"1":"760129","2":"0.6777168"},{"1":"505059","2":"0.6773269"},{"1":"618943","2":"0.6770325"},{"1":"703453","2":"0.6764257"},{"1":"755686","2":"0.6764140"},{"1":"983034","2":"0.6761746"},{"1":"661072","2":"0.6754071"},{"1":"965330","2":"0.6752992"},{"1":"687120","2":"0.6745685"},{"1":"731094","2":"0.6744754"},{"1":"50764","2":"0.6744152"},{"1":"862963","2":"0.6741846"},{"1":"675377","2":"0.6741249"},{"1":"375863","2":"0.6739163"},{"1":"296603","2":"0.6738631"},{"1":"311563","2":"0.6737800"},{"1":"701225","2":"0.6737669"},{"1":"857730","2":"0.6732222"},{"1":"874692","2":"0.6729561"},{"1":"572685","2":"0.6718080"},{"1":"978928","2":"0.6716305"},{"1":"493754","2":"0.6715350"},{"1":"450823","2":"0.6710053"},{"1":"832738","2":"0.6709938"},{"1":"885674","2":"0.6706033"},{"1":"575516","2":"0.6705324"},{"1":"368302","2":"0.6700735"},{"1":"293186","2":"0.6699937"},{"1":"805759","2":"0.6696569"},{"1":"193392","2":"0.6694122"},{"1":"274500","2":"0.6689480"},{"1":"214491","2":"0.6684052"},{"1":"349459","2":"0.6675393"},{"1":"57744","2":"0.6672521"},{"1":"749132","2":"0.6668131"},{"1":"342932","2":"0.6666068"},{"1":"452695","2":"0.6663940"},{"1":"809754","2":"0.6662577"},{"1":"110652","2":"0.6659936"},{"1":"491733","2":"0.6656761"},{"1":"238234","2":"0.6654752"},{"1":"735937","2":"0.6653425"},{"1":"244092","2":"0.6653065"},{"1":"874914","2":"0.6646944"},{"1":"415443","2":"0.6642527"},{"1":"836597","2":"0.6637375"},{"1":"106324","2":"0.6635990"},{"1":"733990","2":"0.6634927"},{"1":"276854","2":"0.6633573"},{"1":"50222","2":"0.6630321"},{"1":"861098","2":"0.6624026"},{"1":"876711","2":"0.6621639"},{"1":"708258","2":"0.6620559"},{"1":"43254","2":"0.6616125"},{"1":"883448","2":"0.6613075"},{"1":"55650","2":"0.6610180"},{"1":"895071","2":"0.6609431"},{"1":"118301","2":"0.6607947"},{"1":"721513","2":"0.6607386"},{"1":"661115","2":"0.6602388"},{"1":"665778","2":"0.6601470"},{"1":"19707","2":"0.6600731"},{"1":"962923","2":"0.6591696"},{"1":"478566","2":"0.6586325"},{"1":"777441","2":"0.6581742"},{"1":"272400","2":"0.6581176"},{"1":"959421","2":"0.6577248"},{"1":"514552","2":"0.6574114"},{"1":"518363","2":"0.6570170"},{"1":"110850","2":"0.6569493"},{"1":"113676","2":"0.6568354"},{"1":"851176","2":"0.6568349"},{"1":"260268","2":"0.6566973"},{"1":"529795","2":"0.6566963"},{"1":"204538","2":"0.6566060"},{"1":"536156","2":"0.6565348"},{"1":"762826","2":"0.6564709"},{"1":"724967","2":"0.6563817"},{"1":"129294","2":"0.6563628"},{"1":"492146","2":"0.6562349"},{"1":"8632","2":"0.6561145"},{"1":"158575","2":"0.6561112"},{"1":"20603","2":"0.6559840"},{"1":"639202","2":"0.6558784"},{"1":"282451","2":"0.6556126"},{"1":"793822","2":"0.6549378"},{"1":"954085","2":"0.6547831"},{"1":"28390","2":"0.6545470"},{"1":"25808","2":"0.6545387"},{"1":"164500","2":"0.6544520"},{"1":"852537","2":"0.6541399"},{"1":"46166","2":"0.6541267"},{"1":"95825","2":"0.6537503"},{"1":"703332","2":"0.6537070"},{"1":"632695","2":"0.6535987"},{"1":"941085","2":"0.6535863"},{"1":"406256","2":"0.6533633"},{"1":"647955","2":"0.6526660"},{"1":"441936","2":"0.6526090"},{"1":"101060","2":"0.6525308"},{"1":"42138","2":"0.6524394"},{"1":"362674","2":"0.6521970"},{"1":"214194","2":"0.6521269"},{"1":"5758","2":"0.6518145"},{"1":"14142","2":"0.6510689"},{"1":"610673","2":"0.6510675"},{"1":"556999","2":"0.6509595"},{"1":"261035","2":"0.6507009"},{"1":"358654","2":"0.6503558"},{"1":"743848","2":"0.6500838"},{"1":"695621","2":"0.6500361"},{"1":"390926","2":"0.6499370"},{"1":"127257","2":"0.6499135"},{"1":"869131","2":"0.6498512"},{"1":"930776","2":"0.6496417"},{"1":"132438","2":"0.6495725"},{"1":"929253","2":"0.6494509"},{"1":"401786","2":"0.6493816"},{"1":"497636","2":"0.6488606"},{"1":"4334","2":"0.6487178"},{"1":"816394","2":"0.6483219"},{"1":"869347","2":"0.6482191"},{"1":"651505","2":"0.6481219"},{"1":"401565","2":"0.6481015"},{"1":"14618","2":"0.6480462"},{"1":"592302","2":"0.6479819"},{"1":"923153","2":"0.6476013"},{"1":"19620","2":"0.6475684"},{"1":"3936","2":"0.6475642"},{"1":"828989","2":"0.6475126"},{"1":"875531","2":"0.6474979"},{"1":"657648","2":"0.6472261"},{"1":"182263","2":"0.6472186"},{"1":"456700","2":"0.6470683"},{"1":"820251","2":"0.6470304"},{"1":"526852","2":"0.6470175"},{"1":"719280","2":"0.6469508"},{"1":"862293","2":"0.6469223"},{"1":"21531","2":"0.6466299"},{"1":"95442","2":"0.6465075"},{"1":"57523","2":"0.6465061"},{"1":"677730","2":"0.6464575"},{"1":"819383","2":"0.6463496"},{"1":"886751","2":"0.6461952"},{"1":"123612","2":"0.6461330"},{"1":"661985","2":"0.6461326"},{"1":"432293","2":"0.6459062"},{"1":"566112","2":"0.6457751"},{"1":"904314","2":"0.6455804"},{"1":"742562","2":"0.6455329"},{"1":"397051","2":"0.6452220"},{"1":"190828","2":"0.6451998"},{"1":"498291","2":"0.6451749"},{"1":"692967","2":"0.6451177"},{"1":"906772","2":"0.6449186"},{"1":"820182","2":"0.6444290"},{"1":"538919","2":"0.6444217"},{"1":"649992","2":"0.6441168"},{"1":"848995","2":"0.6436480"},{"1":"647603","2":"0.6434845"},{"1":"792922","2":"0.6433804"},{"1":"47236","2":"0.6433279"},{"1":"314562","2":"0.6428986"},{"1":"73174","2":"0.6428176"},{"1":"41391","2":"0.6426264"},{"1":"722137","2":"0.6425063"},{"1":"317470","2":"0.6424877"},{"1":"281370","2":"0.6424193"},{"1":"832207","2":"0.6424099"},{"1":"935239","2":"0.6422769"},{"1":"751623","2":"0.6417837"},{"1":"885308","2":"0.6417554"},{"1":"451754","2":"0.6416157"},{"1":"968638","2":"0.6415339"},{"1":"542608","2":"0.6415010"},{"1":"425018","2":"0.6413302"},{"1":"524073","2":"0.6413247"},{"1":"74390","2":"0.6412862"},{"1":"318590","2":"0.6412650"},{"1":"843316","2":"0.6411207"},{"1":"669293","2":"0.6410940"},{"1":"676827","2":"0.6406952"},{"1":"266270","2":"0.6405771"},{"1":"630873","2":"0.6404374"},{"1":"733461","2":"0.6403787"},{"1":"425521","2":"0.6403124"},{"1":"776527","2":"0.6402115"},{"1":"811505","2":"0.6401479"},{"1":"364722","2":"0.6401406"},{"1":"467517","2":"0.6401009"},{"1":"453491","2":"0.6400366"},{"1":"842948","2":"0.6399884"},{"1":"177695","2":"0.6399555"},{"1":"588301","2":"0.6399057"},{"1":"812627","2":"0.6398429"},{"1":"785699","2":"0.6398375"},{"1":"798548","2":"0.6396729"},{"1":"929081","2":"0.6395264"},{"1":"104497","2":"0.6394462"},{"1":"170330","2":"0.6392198"},{"1":"530","2":"0.6391992"},{"1":"404229","2":"0.6389346"},{"1":"597609","2":"0.6389227"},{"1":"344930","2":"0.6386031"},{"1":"918909","2":"0.6385260"},{"1":"551120","2":"0.6384922"},{"1":"912806","2":"0.6384268"},{"1":"970937","2":"0.6383478"},{"1":"844216","2":"0.6382789"},{"1":"15342","2":"0.6382226"},{"1":"671889","2":"0.6382045"},{"1":"601248","2":"0.6381437"},{"1":"7133","2":"0.6380043"},{"1":"716783","2":"0.6379839"},{"1":"189418","2":"0.6376991"},{"1":"199078","2":"0.6375754"},{"1":"958195","2":"0.6372105"},{"1":"895859","2":"0.6368501"},{"1":"41948","2":"0.6368332"},{"1":"684727","2":"0.6368282"},{"1":"82186","2":"0.6367840"},{"1":"557709","2":"0.6365462"},{"1":"480076","2":"0.6364702"},{"1":"105187","2":"0.6364340"},{"1":"633871","2":"0.6364078"},{"1":"837313","2":"0.6363617"},{"1":"769712","2":"0.6362025"},{"1":"454001","2":"0.6360778"},{"1":"985543","2":"0.6358622"},{"1":"842616","2":"0.6358045"},{"1":"700541","2":"0.6357402"},{"1":"181148","2":"0.6357304"},{"1":"634255","2":"0.6357035"},{"1":"123728","2":"0.6356284"},{"1":"6160","2":"0.6353785"},{"1":"825466","2":"0.6352584"},{"1":"717390","2":"0.6350354"},{"1":"701682","2":"0.6350247"},{"1":"68360","2":"0.6349289"},{"1":"48002","2":"0.6347824"},{"1":"182514","2":"0.6345930"},{"1":"917636","2":"0.6345549"},{"1":"625778","2":"0.6344614"},{"1":"520037","2":"0.6343454"},{"1":"519239","2":"0.6342919"},{"1":"762917","2":"0.6342239"},{"1":"508522","2":"0.6341837"},{"1":"585538","2":"0.6340344"},{"1":"832328","2":"0.6337760"},{"1":"866556","2":"0.6336214"},{"1":"713431","2":"0.6335851"},{"1":"496809","2":"0.6335666"},{"1":"17389","2":"0.6334501"},{"1":"723387","2":"0.6333504"},{"1":"558162","2":"0.6332875"},{"1":"507162","2":"0.6332188"},{"1":"201028","2":"0.6329598"},{"1":"137805","2":"0.6328160"},{"1":"724926","2":"0.6325831"},{"1":"199132","2":"0.6325634"},{"1":"77857","2":"0.6323453"},{"1":"861274","2":"0.6321834"},{"1":"767962","2":"0.6321100"},{"1":"625156","2":"0.6316183"},{"1":"444941","2":"0.6316117"},{"1":"924207","2":"0.6314942"},{"1":"633824","2":"0.6314478"},{"1":"73495","2":"0.6314153"},{"1":"287578","2":"0.6313938"},{"1":"99876","2":"0.6313453"},{"1":"129903","2":"0.6310938"},{"1":"963636","2":"0.6310885"},{"1":"135787","2":"0.6310211"},{"1":"408671","2":"0.6310025"},{"1":"701302","2":"0.6309501"},{"1":"666443","2":"0.6309169"},{"1":"176475","2":"0.6306665"},{"1":"11279","2":"0.6305188"},{"1":"413907","2":"0.6304908"},{"1":"434465","2":"0.6303733"},{"1":"425606","2":"0.6303618"},{"1":"901557","2":"0.6303088"},{"1":"453319","2":"0.6301576"},{"1":"816206","2":"0.6300850"},{"1":"684491","2":"0.6299708"},{"1":"779214","2":"0.6297717"},{"1":"490848","2":"0.6296687"},{"1":"19930","2":"0.6295584"},{"1":"352803","2":"0.6294716"},{"1":"749460","2":"0.6293952"},{"1":"569395","2":"0.6292330"},{"1":"535464","2":"0.6291212"},{"1":"138906","2":"0.6291162"},{"1":"488857","2":"0.6291127"},{"1":"917523","2":"0.6290596"},{"1":"360361","2":"0.6290499"},{"1":"497655","2":"0.6290264"},{"1":"804996","2":"0.6290211"},{"1":"581898","2":"0.6288158"},{"1":"416416","2":"0.6287512"},{"1":"300636","2":"0.6286273"},{"1":"486902","2":"0.6286046"},{"1":"21807","2":"0.6282364"},{"1":"862173","2":"0.6281972"},{"1":"90870","2":"0.6281210"},{"1":"171765","2":"0.6281188"},{"1":"309651","2":"0.6278997"},{"1":"650059","2":"0.6276313"},{"1":"883038","2":"0.6273466"},{"1":"376066","2":"0.6272788"},{"1":"47326","2":"0.6272425"},{"1":"517893","2":"0.6271241"},{"1":"610912","2":"0.6271004"},{"1":"291874","2":"0.6270218"},{"1":"27020","2":"0.6269527"},{"1":"349985","2":"0.6267182"},{"1":"999258","2":"0.6266569"},{"1":"960757","2":"0.6266428"},{"1":"592718","2":"0.6266279"},{"1":"446856","2":"0.6265830"},{"1":"972736","2":"0.6265240"},{"1":"927162","2":"0.6263188"},{"1":"192855","2":"0.6262696"},{"1":"34927","2":"0.6261943"},{"1":"975106","2":"0.6257322"},{"1":"200302","2":"0.6254995"},{"1":"181679","2":"0.6252297"},{"1":"442018","2":"0.6251996"},{"1":"539376","2":"0.6251690"},{"1":"436429","2":"0.6251596"},{"1":"764221","2":"0.6250256"},{"1":"356849","2":"0.6249545"},{"1":"331314","2":"0.6249081"},{"1":"870939","2":"0.6248906"},{"1":"44992","2":"0.6248693"},{"1":"150864","2":"0.6248552"},{"1":"459688","2":"0.6247278"},{"1":"713047","2":"0.6246528"},{"1":"888841","2":"0.6246419"},{"1":"598343","2":"0.6246166"},{"1":"767509","2":"0.6244057"},{"1":"96528","2":"0.6243675"},{"1":"169252","2":"0.6243323"},{"1":"67505","2":"0.6243250"},{"1":"552899","2":"0.6242961"},{"1":"212301","2":"0.6242656"},{"1":"962017","2":"0.6241734"},{"1":"964251","2":"0.6238167"},{"1":"862517","2":"0.6238046"},{"1":"849452","2":"0.6237877"},{"1":"698502","2":"0.6236887"},{"1":"585263","2":"0.6235157"},{"1":"560533","2":"0.6234062"},{"1":"124875","2":"0.6233802"},{"1":"696850","2":"0.6233185"},{"1":"984147","2":"0.6230379"},{"1":"857087","2":"0.6229305"},{"1":"234465","2":"0.6229217"},{"1":"315915","2":"0.6228089"},{"1":"45963","2":"0.6226804"},{"1":"303648","2":"0.6226335"},{"1":"358622","2":"0.6224931"},{"1":"887560","2":"0.6224094"},{"1":"808313","2":"0.6223598"},{"1":"253821","2":"0.6223453"},{"1":"263625","2":"0.6221999"},{"1":"689228","2":"0.6221038"},{"1":"319999","2":"0.6220872"},{"1":"132807","2":"0.6220504"},{"1":"959996","2":"0.6220130"},{"1":"635124","2":"0.6219657"},{"1":"190720","2":"0.6219638"},{"1":"142558","2":"0.6217709"},{"1":"651543","2":"0.6217409"},{"1":"428206","2":"0.6217243"},{"1":"412224","2":"0.6216810"},{"1":"782207","2":"0.6216149"},{"1":"555453","2":"0.6215470"},{"1":"221273","2":"0.6214965"},{"1":"236185","2":"0.6214777"},{"1":"901275","2":"0.6213908"},{"1":"775778","2":"0.6210382"},{"1":"136916","2":"0.6209386"},{"1":"495859","2":"0.6207490"},{"1":"335901","2":"0.6205113"},{"1":"666774","2":"0.6204742"},{"1":"782653","2":"0.6202234"},{"1":"554319","2":"0.6201736"},{"1":"881111","2":"0.6201313"},{"1":"639685","2":"0.6200807"},{"1":"326884","2":"0.6200690"},{"1":"147898","2":"0.6200378"},{"1":"948165","2":"0.6199832"},{"1":"161363","2":"0.6199153"},{"1":"759552","2":"0.6198668"},{"1":"217903","2":"0.6195259"},{"1":"395690","2":"0.6194806"},{"1":"225383","2":"0.6194105"},{"1":"9569","2":"0.6193659"},{"1":"967506","2":"0.6193488"},{"1":"501724","2":"0.6193423"},{"1":"855748","2":"0.6193340"},{"1":"896267","2":"0.6193004"},{"1":"90729","2":"0.6191838"},{"1":"137008","2":"0.6191388"},{"1":"485515","2":"0.6189908"},{"1":"789837","2":"0.6189374"},{"1":"864908","2":"0.6188628"},{"1":"701018","2":"0.6188499"},{"1":"731168","2":"0.6188203"},{"1":"465549","2":"0.6185478"},{"1":"61003","2":"0.6185197"},{"1":"529005","2":"0.6183295"},{"1":"354996","2":"0.6182614"},{"1":"782612","2":"0.6180897"},{"1":"418869","2":"0.6180080"},{"1":"911781","2":"0.6180020"},{"1":"983751","2":"0.6178816"},{"1":"344954","2":"0.6177640"},{"1":"627705","2":"0.6175782"},{"1":"375956","2":"0.6174744"},{"1":"783434","2":"0.6174693"},{"1":"958250","2":"0.6173495"},{"1":"278380","2":"0.6173295"},{"1":"815939","2":"0.6173066"},{"1":"429009","2":"0.6170588"},{"1":"269572","2":"0.6170207"},{"1":"470005","2":"0.6170126"},{"1":"369609","2":"0.6166031"},{"1":"486673","2":"0.6165600"},{"1":"882403","2":"0.6165201"},{"1":"107687","2":"0.6165141"},{"1":"153730","2":"0.6165016"},{"1":"785121","2":"0.6163730"},{"1":"858592","2":"0.6163693"},{"1":"955002","2":"0.6163457"},{"1":"888688","2":"0.6162103"},{"1":"666327","2":"0.6161953"},{"1":"399484","2":"0.6161756"},{"1":"215170","2":"0.6161370"},{"1":"650740","2":"0.6159432"},{"1":"611518","2":"0.6158705"},{"1":"442125","2":"0.6158394"},{"1":"310236","2":"0.6157678"},{"1":"857418","2":"0.6157057"},{"1":"771258","2":"0.6156223"},{"1":"618262","2":"0.6153601"},{"1":"931455","2":"0.6153181"},{"1":"945014","2":"0.6153122"},{"1":"413002","2":"0.6152379"},{"1":"783169","2":"0.6152358"},{"1":"951656","2":"0.6152149"},{"1":"276561","2":"0.6151483"},{"1":"187221","2":"0.6147494"},{"1":"136582","2":"0.6146869"},{"1":"819177","2":"0.6144890"},{"1":"958881","2":"0.6144852"},{"1":"684812","2":"0.6143873"},{"1":"201148","2":"0.6143681"},{"1":"938370","2":"0.6143036"},{"1":"987245","2":"0.6142193"},{"1":"351596","2":"0.6142104"},{"1":"158242","2":"0.6141749"},{"1":"897610","2":"0.6140476"},{"1":"664342","2":"0.6140274"},{"1":"994910","2":"0.6140178"},{"1":"639657","2":"0.6139120"},{"1":"590030","2":"0.6138401"},{"1":"548000","2":"0.6137618"},{"1":"799936","2":"0.6137445"},{"1":"22409","2":"0.6137343"},{"1":"733314","2":"0.6137171"},{"1":"165","2":"0.6136953"},{"1":"418957","2":"0.6136689"},{"1":"493247","2":"0.6136500"},{"1":"123802","2":"0.6136258"},{"1":"45988","2":"0.6135462"},{"1":"22436","2":"0.6134096"},{"1":"41370","2":"0.6133525"},{"1":"855163","2":"0.6133100"},{"1":"576529","2":"0.6132580"},{"1":"685105","2":"0.6131738"},{"1":"364221","2":"0.6130717"},{"1":"660039","2":"0.6130394"},{"1":"485907","2":"0.6128983"},{"1":"773235","2":"0.6128891"},{"1":"705463","2":"0.6128179"},{"1":"261372","2":"0.6128026"},{"1":"27080","2":"0.6127488"},{"1":"221933","2":"0.6126872"},{"1":"736304","2":"0.6125639"},{"1":"61864","2":"0.6125346"},{"1":"641302","2":"0.6124754"},{"1":"804520","2":"0.6124684"},{"1":"631168","2":"0.6124498"},{"1":"949777","2":"0.6124461"},{"1":"351751","2":"0.6123136"},{"1":"61039","2":"0.6122517"},{"1":"355821","2":"0.6122440"},{"1":"995044","2":"0.6121735"},{"1":"489099","2":"0.6119490"},{"1":"221069","2":"0.6119210"},{"1":"580774","2":"0.6118730"},{"1":"719041","2":"0.6118231"},{"1":"392810","2":"0.6118224"},{"1":"409985","2":"0.6118068"},{"1":"393275","2":"0.6116326"},{"1":"586319","2":"0.6115400"},{"1":"749832","2":"0.6113470"},{"1":"57742","2":"0.6113318"},{"1":"877954","2":"0.6109206"},{"1":"194066","2":"0.6106574"},{"1":"949751","2":"0.6106130"},{"1":"433570","2":"0.6106047"},{"1":"399471","2":"0.6103886"},{"1":"857317","2":"0.6103874"},{"1":"442913","2":"0.6103129"},{"1":"772819","2":"0.6103017"},{"1":"732567","2":"0.6100980"},{"1":"792906","2":"0.6100338"},{"1":"144362","2":"0.6099699"},{"1":"60010","2":"0.6098440"},{"1":"144183","2":"0.6098363"},{"1":"289969","2":"0.6096696"},{"1":"793657","2":"0.6096247"},{"1":"840556","2":"0.6096132"},{"1":"857636","2":"0.6095107"},{"1":"849565","2":"0.6094443"},{"1":"453216","2":"0.6094008"},{"1":"546536","2":"0.6092062"},{"1":"44877","2":"0.6090972"},{"1":"649070","2":"0.6090120"},{"1":"807586","2":"0.6088655"},{"1":"28573","2":"0.6087478"},{"1":"985546","2":"0.6087462"},{"1":"292444","2":"0.6087269"},{"1":"358438","2":"0.6086866"},{"1":"457990","2":"0.6086345"},{"1":"726241","2":"0.6085706"},{"1":"521257","2":"0.6084535"},{"1":"617347","2":"0.6084230"},{"1":"372315","2":"0.6084167"},{"1":"34626","2":"0.6084104"},{"1":"500892","2":"0.6082405"},{"1":"552695","2":"0.6082328"},{"1":"823510","2":"0.6082083"},{"1":"391727","2":"0.6081261"},{"1":"920251","2":"0.6081034"},{"1":"737703","2":"0.6079973"},{"1":"276474","2":"0.6079790"},{"1":"371821","2":"0.6079220"},{"1":"990720","2":"0.6078901"},{"1":"990862","2":"0.6078818"},{"1":"709368","2":"0.6078344"},{"1":"723291","2":"0.6077564"},{"1":"444192","2":"0.6076994"},{"1":"307127","2":"0.6076811"},{"1":"71149","2":"0.6076201"},{"1":"760395","2":"0.6076123"},{"1":"383368","2":"0.6075981"},{"1":"106819","2":"0.6075037"},{"1":"751855","2":"0.6074327"},{"1":"228817","2":"0.6074217"},{"1":"437241","2":"0.6074051"},{"1":"632242","2":"0.6073677"},{"1":"941181","2":"0.6073553"},{"1":"526540","2":"0.6072984"},{"1":"737715","2":"0.6072961"},{"1":"523158","2":"0.6072679"},{"1":"440271","2":"0.6072442"},{"1":"517314","2":"0.6071077"},{"1":"388729","2":"0.6070663"},{"1":"611682","2":"0.6070011"},{"1":"959720","2":"0.6069631"},{"1":"580383","2":"0.6069067"},{"1":"69409","2":"0.6068953"},{"1":"663531","2":"0.6068181"},{"1":"373087","2":"0.6067932"},{"1":"425756","2":"0.6067913"},{"1":"613353","2":"0.6067609"},{"1":"942798","2":"0.6066969"},{"1":"286588","2":"0.6066623"},{"1":"370257","2":"0.6066228"},{"1":"911916","2":"0.6064622"},{"1":"554589","2":"0.6064234"},{"1":"941429","2":"0.6062093"},{"1":"683592","2":"0.6060488"},{"1":"286023","2":"0.6058922"},{"1":"527863","2":"0.6058594"},{"1":"24497","2":"0.6058411"},{"1":"160571","2":"0.6057843"},{"1":"330691","2":"0.6057564"},{"1":"222363","2":"0.6057091"},{"1":"174954","2":"0.6056934"},{"1":"555","2":"0.6055740"},{"1":"166018","2":"0.6054890"},{"1":"56025","2":"0.6053459"},{"1":"629655","2":"0.6051538"},{"1":"925702","2":"0.6051506"},{"1":"547671","2":"0.6051426"},{"1":"499645","2":"0.6051337"},{"1":"295317","2":"0.6050799"},{"1":"460584","2":"0.6050418"},{"1":"370826","2":"0.6049949"},{"1":"988152","2":"0.6049399"},{"1":"657157","2":"0.6049379"},{"1":"756962","2":"0.6049349"},{"1":"810938","2":"0.6049255"},{"1":"32752","2":"0.6048749"},{"1":"348810","2":"0.6048600"},{"1":"269904","2":"0.6046735"},{"1":"810466","2":"0.6042848"},{"1":"774587","2":"0.6042799"},{"1":"32061","2":"0.6042260"},{"1":"61770","2":"0.6041893"},{"1":"980684","2":"0.6041865"},{"1":"8573","2":"0.6041713"},{"1":"128969","2":"0.6041360"},{"1":"128394","2":"0.6041097"},{"1":"583341","2":"0.6040741"},{"1":"507700","2":"0.6040712"},{"1":"873029","2":"0.6040450"},{"1":"788620","2":"0.6039494"},{"1":"439445","2":"0.6039453"},{"1":"292292","2":"0.6039272"},{"1":"23229","2":"0.6038552"},{"1":"167089","2":"0.6037740"},{"1":"166556","2":"0.6037624"},{"1":"753437","2":"0.6036811"},{"1":"438126","2":"0.6036654"},{"1":"241064","2":"0.6036644"},{"1":"994846","2":"0.6035821"},{"1":"527598","2":"0.6035258"},{"1":"693485","2":"0.6035149"},{"1":"233457","2":"0.6033801"},{"1":"658598","2":"0.6032224"},{"1":"250190","2":"0.6031601"},{"1":"380491","2":"0.6031183"},{"1":"555005","2":"0.6029900"},{"1":"303936","2":"0.6029690"},{"1":"483837","2":"0.6028023"},{"1":"351844","2":"0.6027855"},{"1":"597291","2":"0.6027013"},{"1":"611129","2":"0.6026370"},{"1":"240172","2":"0.6026050"},{"1":"221740","2":"0.6023846"},{"1":"427057","2":"0.6023798"},{"1":"615567","2":"0.6023745"},{"1":"197698","2":"0.6023446"},{"1":"445692","2":"0.6022636"},{"1":"424345","2":"0.6022165"},{"1":"662551","2":"0.6022057"},{"1":"518828","2":"0.6021802"},{"1":"640499","2":"0.6020763"},{"1":"339463","2":"0.6020641"},{"1":"469946","2":"0.6020510"},{"1":"409674","2":"0.6019320"},{"1":"791864","2":"0.6019061"},{"1":"986473","2":"0.6018145"},{"1":"439977","2":"0.6017300"},{"1":"812118","2":"0.6016838"},{"1":"793430","2":"0.6016671"},{"1":"853036","2":"0.6015741"},{"1":"652953","2":"0.6015576"},{"1":"105211","2":"0.6014767"},{"1":"659489","2":"0.6014639"},{"1":"255008","2":"0.6014560"},{"1":"530320","2":"0.6014376"},{"1":"658035","2":"0.6014273"},{"1":"281395","2":"0.6013995"},{"1":"377533","2":"0.6012471"},{"1":"882760","2":"0.6011268"},{"1":"910463","2":"0.6011259"},{"1":"98992","2":"0.6010736"},{"1":"987336","2":"0.6009602"},{"1":"292770","2":"0.6008313"},{"1":"950766","2":"0.6007241"},{"1":"184887","2":"0.6006562"},{"1":"412077","2":"0.6005590"},{"1":"948384","2":"0.6005586"},{"1":"325741","2":"0.6005567"},{"1":"798520","2":"0.6004509"},{"1":"443753","2":"0.6003750"},{"1":"281380","2":"0.6002449"},{"1":"388301","2":"0.6002413"},{"1":"315923","2":"0.6002330"},{"1":"947947","2":"0.6002081"},{"1":"732721","2":"0.6001898"},{"1":"937332","2":"0.6001786"},{"1":"504628","2":"0.6000570"},{"1":"542930","2":"0.5998744"},{"1":"543533","2":"0.5998299"},{"1":"203223","2":"0.5997997"},{"1":"346713","2":"0.5994581"},{"1":"701637","2":"0.5994011"},{"1":"328058","2":"0.5992063"},{"1":"702493","2":"0.5991406"},{"1":"997822","2":"0.5991367"},{"1":"154838","2":"0.5991134"},{"1":"687187","2":"0.5990817"},{"1":"729222","2":"0.5990649"},{"1":"586009","2":"0.5990423"},{"1":"147144","2":"0.5988466"},{"1":"981623","2":"0.5988274"},{"1":"486684","2":"0.5987936"},{"1":"463336","2":"0.5987255"},{"1":"209898","2":"0.5987231"},{"1":"790242","2":"0.5986839"},{"1":"450385","2":"0.5986688"},{"1":"746358","2":"0.5986170"},{"1":"943532","2":"0.5986089"},{"1":"7319","2":"0.5985423"},{"1":"42662","2":"0.5984729"},{"1":"299992","2":"0.5984306"},{"1":"54668","2":"0.5983739"},{"1":"106628","2":"0.5982887"},{"1":"917098","2":"0.5982027"},{"1":"943240","2":"0.5981944"},{"1":"696528","2":"0.5981859"},{"1":"239516","2":"0.5981540"},{"1":"984033","2":"0.5981491"},{"1":"921466","2":"0.5981061"},{"1":"555259","2":"0.5980949"},{"1":"870581","2":"0.5980531"},{"1":"725330","2":"0.5980016"},{"1":"378414","2":"0.5979150"},{"1":"806259","2":"0.5979076"},{"1":"313697","2":"0.5977639"},{"1":"106761","2":"0.5977025"},{"1":"939617","2":"0.5976279"},{"1":"333971","2":"0.5976193"},{"1":"822819","2":"0.5976103"},{"1":"851406","2":"0.5976101"},{"1":"319197","2":"0.5975192"},{"1":"951309","2":"0.5974935"},{"1":"937673","2":"0.5974793"},{"1":"22651","2":"0.5974743"},{"1":"225975","2":"0.5974252"},{"1":"654104","2":"0.5973320"},{"1":"196951","2":"0.5972572"},{"1":"779132","2":"0.5971716"},{"1":"594023","2":"0.5971714"},{"1":"166338","2":"0.5970030"},{"1":"318266","2":"0.5969888"},{"1":"342779","2":"0.5969321"},{"1":"396940","2":"0.5968184"},{"1":"624920","2":"0.5967513"},{"1":"29922","2":"0.5967354"},{"1":"890941","2":"0.5966935"},{"1":"670551","2":"0.5966792"},{"1":"517807","2":"0.5966737"},{"1":"9746","2":"0.5966395"},{"1":"938623","2":"0.5965771"},{"1":"159086","2":"0.5965619"},{"1":"992088","2":"0.5964912"},{"1":"345669","2":"0.5964521"},{"1":"96295","2":"0.5964486"},{"1":"327242","2":"0.5963843"},{"1":"806303","2":"0.5963358"},{"1":"652842","2":"0.5962747"},{"1":"85401","2":"0.5961989"},{"1":"39612","2":"0.5961657"},{"1":"822879","2":"0.5961266"},{"1":"786560","2":"0.5961253"},{"1":"148844","2":"0.5960076"},{"1":"655419","2":"0.5959528"},{"1":"808041","2":"0.5958954"},{"1":"106486","2":"0.5958836"},{"1":"797257","2":"0.5957886"},{"1":"406111","2":"0.5957423"},{"1":"322696","2":"0.5957276"},{"1":"322968","2":"0.5956523"},{"1":"596330","2":"0.5956365"},{"1":"874788","2":"0.5956205"},{"1":"133589","2":"0.5956064"},{"1":"170827","2":"0.5955093"},{"1":"671622","2":"0.5955008"},{"1":"833847","2":"0.5954944"},{"1":"80655","2":"0.5953626"},{"1":"138125","2":"0.5953475"},{"1":"252041","2":"0.5952533"},{"1":"605281","2":"0.5951498"},{"1":"409023","2":"0.5951030"},{"1":"181994","2":"0.5950810"},{"1":"939609","2":"0.5949560"},{"1":"707043","2":"0.5949490"},{"1":"768726","2":"0.5949410"},{"1":"570808","2":"0.5948556"},{"1":"981646","2":"0.5948485"},{"1":"901967","2":"0.5948374"},{"1":"789658","2":"0.5946932"},{"1":"631863","2":"0.5944122"},{"1":"52270","2":"0.5943824"},{"1":"507014","2":"0.5943723"},{"1":"739828","2":"0.5943517"},{"1":"227279","2":"0.5943303"},{"1":"471139","2":"0.5943007"},{"1":"424715","2":"0.5942989"},{"1":"204430","2":"0.5942978"},{"1":"265116","2":"0.5942562"},{"1":"605324","2":"0.5942481"},{"1":"755053","2":"0.5942356"},{"1":"790089","2":"0.5941828"},{"1":"534067","2":"0.5941083"},{"1":"85807","2":"0.5939834"},{"1":"834721","2":"0.5939772"},{"1":"398410","2":"0.5939633"},{"1":"891164","2":"0.5939300"},{"1":"282581","2":"0.5937959"},{"1":"218877","2":"0.5937929"},{"1":"263178","2":"0.5937670"},{"1":"141942","2":"0.5936851"},{"1":"94376","2":"0.5936785"},{"1":"315465","2":"0.5934724"},{"1":"361499","2":"0.5934039"},{"1":"961428","2":"0.5933609"},{"1":"510528","2":"0.5933489"},{"1":"501842","2":"0.5932378"},{"1":"478961","2":"0.5932255"},{"1":"773416","2":"0.5932098"},{"1":"323035","2":"0.5931689"},{"1":"730258","2":"0.5930764"},{"1":"51743","2":"0.5930596"},{"1":"544223","2":"0.5930117"},{"1":"882575","2":"0.5929438"},{"1":"643307","2":"0.5928868"},{"1":"306325","2":"0.5928063"},{"1":"621115","2":"0.5927917"},{"1":"270189","2":"0.5927341"},{"1":"627298","2":"0.5926657"},{"1":"563166","2":"0.5926401"},{"1":"976209","2":"0.5926026"},{"1":"233046","2":"0.5925926"},{"1":"505035","2":"0.5925915"},{"1":"791754","2":"0.5925880"},{"1":"383072","2":"0.5925285"},{"1":"534280","2":"0.5925088"},{"1":"293253","2":"0.5924971"},{"1":"996794","2":"0.5924928"},{"1":"766639","2":"0.5924173"},{"1":"589127","2":"0.5924032"},{"1":"561104","2":"0.5922738"},{"1":"124966","2":"0.5922160"},{"1":"677814","2":"0.5922028"},{"1":"24071","2":"0.5921529"},{"1":"357563","2":"0.5921275"},{"1":"304820","2":"0.5921194"},{"1":"452851","2":"0.5920986"},{"1":"700868","2":"0.5920829"},{"1":"45951","2":"0.5920343"},{"1":"311936","2":"0.5919814"},{"1":"532395","2":"0.5919657"},{"1":"278662","2":"0.5919652"},{"1":"810275","2":"0.5919595"},{"1":"914312","2":"0.5919352"},{"1":"223900","2":"0.5918945"},{"1":"613827","2":"0.5918844"},{"1":"6700","2":"0.5918537"},{"1":"70314","2":"0.5918529"},{"1":"246483","2":"0.5918383"},{"1":"111212","2":"0.5917694"},{"1":"597144","2":"0.5916757"},{"1":"367420","2":"0.5915839"},{"1":"53586","2":"0.5915012"},{"1":"83741","2":"0.5914072"},{"1":"755858","2":"0.5913975"},{"1":"203954","2":"0.5913577"},{"1":"438175","2":"0.5913402"},{"1":"443181","2":"0.5913033"},{"1":"835358","2":"0.5912270"},{"1":"489009","2":"0.5911594"},{"1":"789303","2":"0.5911189"},{"1":"173069","2":"0.5910992"},{"1":"1470","2":"0.5910831"},{"1":"560747","2":"0.5910181"},{"1":"344058","2":"0.5910028"},{"1":"600804","2":"0.5909970"},{"1":"950268","2":"0.5909686"},{"1":"610010","2":"0.5909384"},{"1":"404998","2":"0.5909379"},{"1":"909930","2":"0.5909126"},{"1":"677060","2":"0.5908916"},{"1":"286581","2":"0.5908659"},{"1":"337329","2":"0.5907055"},{"1":"548896","2":"0.5906917"},{"1":"926892","2":"0.5906656"},{"1":"527199","2":"0.5904309"},{"1":"281250","2":"0.5904267"},{"1":"862895","2":"0.5903802"},{"1":"852776","2":"0.5903760"},{"1":"847557","2":"0.5903648"},{"1":"522079","2":"0.5903070"},{"1":"149091","2":"0.5902962"},{"1":"656609","2":"0.5902795"},{"1":"210158","2":"0.5902329"},{"1":"780719","2":"0.5901968"},{"1":"603067","2":"0.5901936"},{"1":"320906","2":"0.5901777"},{"1":"330974","2":"0.5901768"},{"1":"311247","2":"0.5901029"},{"1":"470224","2":"0.5900758"},{"1":"669575","2":"0.5900752"},{"1":"790126","2":"0.5900611"},{"1":"131375","2":"0.5900550"},{"1":"737464","2":"0.5900547"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># plot points from the group with maximum correlation
sim_data %&gt;% filter(group == res$group[which.max(res$r)]) %&gt;%
  ggplot(aes(x, y)) +
  geom_point() + 
  geom_smooth(method = &quot;lm&quot;)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-40-1.png" width="624" /></p>
<pre class="r"><code># histogram of correlation in Monte Carlo simulations
res %&gt;% ggplot(aes(x=r)) + geom_histogram(binwidth = 0.1, color = &quot;black&quot;)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-40-2.png" width="624" /></p>
<pre class="r"><code># linear regression on group with maximum correlation
library(broom)
sim_data %&gt;% 
  filter(group == res$group[which.max(res$r)]) %&gt;%
  do(tidy(lm(y ~ x, data = .)))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":["estimate"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["std.error"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["statistic"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"(Intercept)","2":"-0.2842152","3":"0.1139015","4":"-2.495273","5":"2.020362e-02"},{"1":"x","2":"0.9234781","3":"0.1425452","4":"6.478492","5":"1.305467e-06"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-correlation-is-not-causation-outliers" class="section level2">
<h2>Correlation is Not Causation: Outliers</h2>
<p><img src="https://youtu.be/r7s0Bu80mjE" /></p>
<div id="section-textbook-link-24" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/association-is-not-causation.html#outliers-1">textbook section - 19.2 Outliers</a>.</p>
</div>
<div id="section-key-points-25" class="section level3">
<h3>Key points</h3>
<ul>
<li><p>ACorrelations can be caused by <strong>outliers</strong>.</p></li>
<li><p>The <strong>Spearman correlation</strong> is calculated based on the ranks of data.</p></li>
</ul>
</div>
<div id="section-code-19" class="section level3">
<h3>Code</h3>
<pre class="r"><code># simulate independent X, Y and standardize all except entry 23
set.seed(1985)
x &lt;- rnorm(100,100,1)
y &lt;- rnorm(100,84,1)
x[-23] &lt;- scale(x[-23])
y[-23] &lt;- scale(y[-23])

# plot shows the outlier
qplot(x, y, alpha = 0.5)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-41-1.png" width="624" /></p>
<pre class="r"><code># outlier makes it appear there is correlation
cor(x,y)</code></pre>
<pre><code>## [1] 0.9878382</code></pre>
<pre class="r"><code>cor(x[-23], y[-23])</code></pre>
<pre><code>## [1] -0.04419032</code></pre>
<pre class="r"><code># use rank instead
qplot(rank(x), rank(y))</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-41-2.png" width="624" /></p>
<pre class="r"><code>cor(rank(x), rank(y))</code></pre>
<pre><code>## [1] 0.002508251</code></pre>
<pre class="r"><code># Spearman correlation with cor function
cor(x, y, method = &quot;spearman&quot;)</code></pre>
<pre><code>## [1] 0.002508251</code></pre>
</div>
</div>
<div id="section-correlation-is-not-causation-outliers-1" class="section level2">
<h2>Correlation is Not Causation: Outliers</h2>
<p><img src="https://youtu.be/r7s0Bu80mjE" /></p>
<div id="section-textbook-link-25" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/association-is-not-causation.html#outliers-1">textbook section - 19.2 Outliers</a>.</p>
</div>
<div id="section-key-points-26" class="section level3">
<h3>Key points</h3>
<ul>
<li><p>Correlations can be caused by <strong>outliers</strong>.</p></li>
<li><p>The <strong>Spearman correlation</strong> is calculated based on the ranks of data.</p></li>
</ul>
</div>
<div id="section-code-20" class="section level3">
<h3>Code</h3>
<pre class="r"><code># simulate independent X, Y and standardize all except entry 23
set.seed(1985)
x &lt;- rnorm(100,100,1)
y &lt;- rnorm(100,84,1)
x[-23] &lt;- scale(x[-23])
y[-23] &lt;- scale(y[-23])

# plot shows the outlier
qplot(x, y, alpha = 0.5)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-42-1.png" width="624" /></p>
<pre class="r"><code># outlier makes it appear there is correlation
cor(x,y)</code></pre>
<pre><code>## [1] 0.9878382</code></pre>
<pre class="r"><code>cor(x[-23], y[-23])</code></pre>
<pre><code>## [1] -0.04419032</code></pre>
<pre class="r"><code># use rank instead
qplot(rank(x), rank(y))</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-42-2.png" width="624" /></p>
<pre class="r"><code>cor(rank(x), rank(y))</code></pre>
<pre><code>## [1] 0.002508251</code></pre>
<pre class="r"><code># Spearman correlation with cor function
cor(x, y, method = &quot;spearman&quot;)</code></pre>
<pre><code>## [1] 0.002508251</code></pre>
</div>
</div>
<div id="section-correlation-is-not-causation-reversing-cause-and-effect" class="section level2">
<h2>Correlation is Not Causation: Reversing Cause and Effect</h2>
<p><img src="https://youtu.be/jJfDmbMuKME" /></p>
<div id="section-textbook-link-26" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/association-is-not-causation.html#reversing-cause-and-effect">textbook section - 19.3 Reversing cause and effect</a>.</p>
</div>
<div id="section-key-points-27" class="section level3">
<h3>Key points</h3>
<ul>
<li><p>Another way association can be confused with causation is when the <strong>cause and effect are reversed</strong>.</p></li>
<li><p>As discussed in the video, in the Galton data, when father and son were reversed in the regression, the model was technically correct. The estimates and p-values were obtained correctly as well. What was incorrect was the <strong>interpretation</strong> of the model.</p></li>
</ul>
</div>
<div id="section-code-21" class="section level3">
<h3>Code</h3>
<pre class="r"><code># cause and effect reversal using son heights to predict father heights
library(HistData)
data(&quot;GaltonFamilies&quot;)
GaltonFamilies %&gt;%
  filter(childNum == 1 &amp; gender == &quot;male&quot;) %&gt;%
  select(father, childHeight) %&gt;%
  rename(son = childHeight) %&gt;% 
  do(tidy(lm(father ~ son, data = .)))</code></pre>
</div>
</div>
<div id="section-correlation-is-not-causation-confounders" class="section level2">
<h2>Correlation is Not Causation: Confounders</h2>
<p><img src="https://youtu.be/zvR3Lzta5CI" /></p>
<div id="section-textbook-link-27" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/association-is-not-causation.html#confounders">textbook section - 19.4 Confounders</a>.</p>
</div>
<div id="section-key-points-28" class="section level3">
<h3>Key points</h3>
<ul>
<li>If X and Y are correlated, we call Z a <strong>confounder</strong> if changes in Z causes changes in both X and Y.</li>
</ul>
</div>
<div id="section-code-22" class="section level3">
<h3>Code</h3>
<pre class="r"><code># UC-Berkeley admission data
library(dslabs)
data(admissions)
admissions</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["major"],"name":[1],"type":["chr"],"align":["left"]},{"label":["gender"],"name":[2],"type":["chr"],"align":["left"]},{"label":["admitted"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["applicants"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"A","2":"men","3":"62","4":"825"},{"1":"B","2":"men","3":"63","4":"560"},{"1":"C","2":"men","3":"37","4":"325"},{"1":"D","2":"men","3":"33","4":"417"},{"1":"E","2":"men","3":"28","4":"191"},{"1":"F","2":"men","3":"6","4":"373"},{"1":"A","2":"women","3":"82","4":"108"},{"1":"B","2":"women","3":"68","4":"25"},{"1":"C","2":"women","3":"34","4":"593"},{"1":"D","2":"women","3":"35","4":"375"},{"1":"E","2":"women","3":"24","4":"393"},{"1":"F","2":"women","3":"7","4":"341"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># percent men and women accepted
admissions %&gt;% group_by(gender) %&gt;% 
  summarize(percentage = 
              round(sum(admitted*applicants)/sum(applicants),1))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["percentage"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"men","2":"44.5"},{"1":"women","2":"30.3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># test whether gender and admission are independent
admissions %&gt;% group_by(gender) %&gt;% 
  summarize(total_admitted = round(sum(admitted / 100 * applicants)), 
            not_admitted = sum(applicants) - sum(total_admitted)) %&gt;%
  select(-gender) %&gt;% 
  do(tidy(chisq.test(.)))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["statistic"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["p.value"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["parameter"],"name":[3],"type":["int"],"align":["right"]},{"label":["method"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"91.6096","2":"1.055797e-21","3":"1","4":"Pearson's Chi-squared test with Yates' continuity correction","_row":"X-squared"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># percent admissions by major
admissions %&gt;% select(major, gender, admitted) %&gt;%
  spread(gender, admitted) %&gt;%
  mutate(women_minus_men = women - men)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["major"],"name":[1],"type":["chr"],"align":["left"]},{"label":["men"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["women"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["women_minus_men"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"A","2":"62","3":"82","4":"20"},{"1":"B","2":"63","3":"68","4":"5"},{"1":"C","2":"37","3":"34","4":"-3"},{"1":"D","2":"33","3":"35","4":"2"},{"1":"E","2":"28","3":"24","4":"-4"},{"1":"F","2":"6","3":"7","4":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># plot total percent admitted to major versus percent women applicants
admissions %&gt;% 
  group_by(major) %&gt;% 
  summarize(major_selectivity = sum(admitted * applicants) / sum(applicants),
            percent_women_applicants = sum(applicants * (gender==&quot;women&quot;)) /
                                             sum(applicants) * 100) %&gt;%
  ggplot(aes(major_selectivity, percent_women_applicants, label = major)) +
  geom_text()</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-44-1.png" width="624" /></p>
<pre class="r"><code># plot number of applicants admitted and not
admissions %&gt;%
  mutate(yes = round(admitted/100*applicants), no = applicants - yes) %&gt;%
  select(-applicants, -admitted) %&gt;%
  gather(admission, number_of_students, -c(&quot;major&quot;, &quot;gender&quot;)) %&gt;%
  ggplot(aes(gender, number_of_students, fill = admission)) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;stack&quot;) +
  facet_wrap(. ~ major)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-44-2.png" width="624" /></p>
<pre class="r"><code>admissions %&gt;% 
  mutate(percent_admitted = admitted * applicants/sum(applicants)) %&gt;%
  ggplot(aes(gender, y = percent_admitted, fill = major)) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;stack&quot;)</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-44-3.png" width="624" /></p>
<pre class="r"><code># condition on major and then look at differences
admissions %&gt;% ggplot(aes(major, admitted, col = gender, size = applicants)) + geom_point()</code></pre>
<p><img src="datsci_07_files/figure-html/unnamed-chunk-44-4.png" width="624" /></p>
<pre class="r"><code># average difference by major
admissions %&gt;%  group_by(gender) %&gt;% summarize(average = mean(admitted))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["average"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"men","2":"38.16667"},{"1":"women","2":"41.66667"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="section-simpsons-paradox" class="section level2">
<h2>Simpson’s Paradox</h2>
<p><img src="https://youtu.be/rVKHsUau7E4" /></p>
<div id="section-textbook-link-28" class="section level3">
<h3>Textbook link</h3>
<p>The content is discussed within the <a href="https://rafalab.github.io/dsbook/association-is-not-causation.html#simpsons-paradox">textbook section - 19.5 Simpson’s paradox</a>.</p>
</div>
<div id="section-key-point" class="section level3">
<h3>Key point</h3>
<ul>
<li>Simpson’s Paradox happens when we see the sign of the correlation flip when comparing the entire dataset with specific strata.</li>
</ul>
</div>
</div>
<div id="section-assessment-correlation-is-not-causation" class="section level2">
<h2>3.1 Assessment: Correlation is Not Causation</h2>
<p>Insert assessment here</p>
</div>
<div id="section-assessment-confounding" class="section level2">
<h2>3.2 Assessment: Confounding</h2>
<p>Insert assessment here</p>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)

library(learnr) #necessary to render tutorial correctly

library(forcats)
library(ggplot2)
library(htmltools)
library(kableExtra)
library(lubridate)
library(magrittr)
library(tibble)


source("./www/datsci_helpers.R")
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/lumen.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.3"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","blob","broom","cellranger","cli","colorspace","compiler","crayon","datasets","DBI","dbplyr","digest","dplyr","dslabs","ellipsis","evaluate","fansi","farver","fastmap","forcats","fs","generics","ggplot2","glue","graphics","grDevices","grid","gridExtra","gtable","haven","HistData","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","kableExtra","knitr","labeling","Lahman","later","lattice","learnr","lifecycle","lubridate","magrittr","markdown","Matrix","methods","mgcv","mime","modelr","munsell","nlme","pillar","pkgconfig","promises","purrr","R6","Rcpp","readr","readxl","reprex","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","splines","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","utils","vctrs","viridisLite","webshot","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.1.8","4.0.2","1.2.1","0.7.0","1.1.0","2.0.2","1.4-1","4.0.2","1.3.4","4.0.2","1.1.0","1.4.4","0.6.25","1.0.0","0.7.3","0.3.1","0.14","0.4.1","2.0.3","1.0.1","0.5.0","1.4.2","0.0.2","3.3.2","1.4.1","4.0.2","4.0.2","4.0.2","2.3","0.3.0","2.3.1","0.8-6","0.5.3","0.5.0","1.5.1","1.5.4","1.4.2","1.7.0","1.1.0","1.29","0.3","8.0-0","1.1.0.1","0.20-41","0.10.1","0.2.0","1.7.9","1.5","1.1","1.2-18","4.0.2","1.8-31","0.9","0.1.8","0.5.0","3.1-148","1.4.6","2.0.3","1.1.1","0.3.4","2.4.1","1.0.5","1.3.1","1.3.1","0.3.0","0.4.7","2.3","1.3-2","0.11","0.3.6","1.1.1","1.5.0","4.0.2","4.0.2","1.4.6","1.4.0","3.0.3","1.1.0","1.1.0","1.3.0","4.0.2","4.0.2","0.3.2","0.3.0","0.5.2","2.2.0","0.16","1.3.2","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">datsci_07: Linear Regression</h2>
<h4 class="author"><em>Rafael Irizarry &amp; Fatih Uenal</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
